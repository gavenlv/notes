# FE节点配置文件
# 根据实际环境修改以下配置

# 基本配置
priority_networks = 192.168.0.0/16  # 指定FE使用的IP段，根据实际网络环境修改
meta_dir = /opt/doris/fe/doris-meta  # 元数据存储目录
log_dir = /opt/doris/fe/log          # 日志目录
tmp_dir = /opt/doris/fe/tmp          # 临时目录

# 端口配置
http_port = 8030                     # HTTP UI端口
query_port = 9030                    # MySQL协议端口
rpc_port = 9010                      # FE内部通信端口
edit_log_port = 9011                 # 编辑日志端口

# 集群配置
cluster_name = doris_cluster         # 集群名称
node_num = 1                         # 节点数量

# MySQL协议配置
max_connection = 4096                # 最大连接数
query_timeout = 300                  # 查询超时时间(秒)
max_query_retry_time = 2             # 最大查询重试次数

# 元数据配置
edit_log_roll_num = 50000            # 编辑日志滚动数量
edit_log_size_threshold = 1073741824 # 编辑日志大小阈值(1GB)
metadata_failure_recovery = true    # 元数据故障恢复

# 内存配置
JAVA_OPTS="-Xmx8192m -Xms8192m -XX:+UseMembar -XX:SurvivorRatio=8 -XX:MaxTenuringThreshold=7 -XX:+UseConcMarkSweepGC -XX:+UseCMSInitiatingOccupancyOnly -XX:CMSInitiatingOccupancyFraction=70"

# 审计日志配置
audit_log_dir = /opt/doris/fe/log    # 审计日志目录
audit_log_roll_num = 90              # 审计日志保留天数
audit_log_modules = slow_query, query, user_access

# 性能配置
max_tablet_version_num = 1000       # 最大版本数
max_planner_scalar_rewrite_num = 100000  # 最大标量重写次数

# 高可用配置（多节点部署时取消注释）
# frontend_address_base = 192.168.0.1
# priority_networks = 192.168.0.0/16
# edit_log_port = 9011
# query_port = 9030
# http_port = 8030

# 插件配置
plugin_dir = /opt/doris/fe/plugins   # 插件目录

# 安全配置
enable_auth = true                   # 启用认证
password_policy = MEDIUM             # 密码策略

# 时区配置
time_zone = Asia/Shanghai            # 时区设置