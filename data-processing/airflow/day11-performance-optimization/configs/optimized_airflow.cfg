[core]
# 并发控制相关配置
parallelism = 32
max_active_runs_per_dag = 16
dag_concurrency = 16
worker_concurrency = 16

# 数据库连接池优化
sql_alchemy_pool_enabled = True
sql_alchemy_pool_size = 20
sql_alchemy_max_overflow = 30
sql_alchemy_pool_recycle = 3600
sql_alchemy_pool_pre_ping = True

# 任务执行优化
max_threads = 4
executor = LocalExecutor

# 日志配置优化
logging_level = INFO
fab_logging_level = WARN
log_cleanup_interval = 60

# 其他性能相关配置
job_heartbeat_sec = 5
scheduler_heartbeat_sec = 5
scheduler_zombie_task_threshold = 300
dagbag_import_timeout = 30.0
dag_file_processor_timeout = 50
default_task_retries = 2

[celery]
# Celery 执行器配置优化（如果使用 CeleryExecutor）
worker_concurrency = 16
worker_prefetch_multiplier = 1
task_acks_late = True
task_remote_tracebacks = True

[scheduler]
# 调度器性能优化
scheduler_heartbeat_sec = 5
processor_poll_interval = 1
standalone_dag_processor = False
parsing_processes = 4
file_parsing_sort_mode = modified_time
use_row_level_locking = True
max_tis_per_query = 16

[webserver]
# Web Server 性能优化
workers = 4
worker_class = sync
worker_refresh_batch_size = 1
worker_refresh_interval = 30
web_server_worker_timeout = 120