# 第1章：SQL基础入门

## 1.1 数据库基本概念

### 什么是数据库？

数据库是一个有组织的数据集合，通常以电子方式存储和访问。数据库管理系统（DBMS）是用于管理数据库的软件，它提供了创建、查询、更新和管理数据的接口。

### 为什么需要数据库？

想象一下，如果没有数据库，我们将如何管理大量数据？

**场景示例**：管理一个公司的员工信息

**传统方式（无数据库）**：
- 使用Excel表格存储员工信息
- 当员工数量增加时，文件变得庞大难以管理
- 多人同时编辑时容易产生冲突
- 数据安全性低，容易丢失或被篡改
- 查询特定条件的数据需要手动筛选

**使用数据库**：
- 数据结构化存储，易于管理
- 支持多用户并发访问
- 提供安全机制，控制数据访问权限
- 强大的查询功能，快速检索数据
- 数据完整性保证，减少错误

### 关系型数据库

关系型数据库是基于关系模型（表格模型）的数据库，数据存储在表中，表由行和列组成。每个表代表一个实体（如员工、部门），行代表具体的记录，列代表属性。

**示例：员工表**

| ID | 姓名 | 年龄 | 部门 | 职位 | 薪资 |
|----|------|------|------|------|------|
| 1  | 张三 | 35   | IT   | 工程师 | 8000 |
| 2  | 李四 | 28   | HR   | 专员 | 5000 |
| 3  | 王五 | 32   | 财务 | 经理 | 7000 |

### 主键与外键

**主键**：表中唯一标识每一行的列。例如，员工表中的ID列可以作为主键，因为每个员工都有唯一的ID。

**外键**：一个表中的列，引用另一个表的主键。例如，员工表中的部门ID可以作为外键，引用部门表的主键。

**示例**：
- 员工表有部门ID列，这是外键
- 部门表有ID列，这是主键
- 通过这种关系，我们可以知道每个员工属于哪个部门

## 1.2 SQL语言简介

### 什么是SQL？

SQL（Structured Query Language，结构化查询语言）是一种用于管理关系数据库的标准语言。使用SQL，我们可以：

- 查询数据（SELECT）
- 插入数据（INSERT）
- 更新数据（UPDATE）
- 删除数据（DELETE）
- 创建和修改数据库结构（CREATE, ALTER, DROP）

### SQL的历史

SQL起源于1970年代，由IBM的研究员开发。最初被称为SEQUEL（Structured English Query Language），后来改名为SQL。1986年，SQL成为ANSI标准，1987年成为ISO标准。

### SQL的特点

1. **声明式语言**：只需指定"做什么"，而不需要指定"怎么做"
2. **接近自然语言**：语法简单，易于学习和理解
3. **标准化**：大多数关系数据库都支持SQL
4. **功能强大**：可以进行复杂的数据操作和分析

### SQL方言

虽然SQL是标准化的，但不同的数据库系统（如MySQL、PostgreSQL、Oracle、SQL Server）都有自己的SQL方言，包含一些特有的功能和语法差异。本教程主要基于MySQL语法，但大多数概念在其他数据库系统中也是适用的。

## 1.3 SQL环境搭建

### 安装数据库

在本教程中，我们将使用MySQL作为示例数据库。以下是安装MySQL的步骤：

1. 访问MySQL官网下载页面：https://dev.mysql.com/downloads/
2. 下载适合您操作系统的MySQL安装包
3. 按照安装向导完成安装
4. 设置root用户密码
5. 安装MySQL Workbench（可选，用于图形化管理）

### 安装数据库客户端

除了MySQL Workbench，您还可以使用以下客户端：

- **DBeaver**：免费的多数据库管理工具
- **Navicat**：商业数据库管理工具
- **DataGrip**：JetBrains公司的数据库IDE
- **命令行工具**：MySQL自带的命令行客户端

### 创建示例数据库

在学习SQL之前，我们需要创建一个示例数据库。请执行以下SQL语句：

```sql
-- 创建数据库
CREATE DATABASE sql_tutorial;

-- 使用数据库
USE sql_tutorial;
```

## 1.4 第一个SQL查询

### SELECT语句

SELECT语句是SQL中最常用的语句，用于从数据库中检索数据。基本语法如下：

```sql
SELECT 列名1, 列名2, ... FROM 表名;
```

### 示例：查询所有数据

假设我们有一个员工表（employees），包含以下列：id, name, age, department, position, salary。

```sql
-- 查询员工表中的所有数据
SELECT * FROM employees;
```

这里的`*`表示"所有列"，这行SQL语句会返回员工表中的所有列和所有行。

### 示例：查询特定列

如果我们只想查询员工的姓名和薪资：

```sql
-- 查询员工的姓名和薪资
SELECT name, salary FROM employees;
```

### 实验验证

让我们实际运行这些查询，看看结果。

**步骤1**：首先，我们需要创建示例表并插入数据：

```sql
-- 创建员工表
CREATE TABLE employees (
    id INT PRIMARY KEY,
    name VARCHAR(50) NOT NULL,
    age INT,
    department VARCHAR(50),
    position VARCHAR(50),
    salary DECIMAL(10, 2)
);

-- 插入示例数据
INSERT INTO employees (id, name, age, department, position, salary) VALUES
(1, '张三', 35, 'IT', '工程师', 8000.00),
(2, '李四', 28, 'HR', '专员', 5000.00),
(3, '王五', 32, '财务', '经理', 7000.00),
(4, '赵六', 40, 'IT', '总监', 12000.00),
(5, '钱七', 26, '市场', '专员', 4500.00);
```

**步骤2**：执行查询语句：

```sql
-- 查询所有数据
SELECT * FROM employees;
```

**预期结果**：

| id | name | age | department | position | salary  |
|----|------|-----|------------|----------|---------|
| 1  | 张三 | 35  | IT         | 工程师   | 8000.00 |
| 2  | 李四 | 28  | HR         | 专员     | 5000.00 |
| 3  | 王五 | 32  | 财务       | 经理     | 7000.00 |
| 4  | 赵六 | 40  | IT         | 总监     | 12000.00|
| 5  | 钱七 | 26  | 市场       | 专员     | 4500.00 |

```sql
-- 查询姓名和薪资
SELECT name, salary FROM employees;
```

**预期结果**：

| name | salary  |
|------|---------|
| 张三 | 8000.00 |
| 李四 | 5000.00 |
| 王五 | 7000.00 |
| 赵六 | 12000.00|
| 钱七 | 4500.00 |

### 代码说明

让我们详细分析这两个查询语句：

1. `SELECT * FROM employees;`
   - `SELECT *`：选择所有列
   - `FROM employees`：从employees表中获取数据
   - `;`：SQL语句结束符（在某些数据库中可选）

2. `SELECT name, salary FROM employees;`
   - `SELECT name, salary`：只选择name和salary两列
   - `FROM employees`：从employees表中获取数据

### SQL语句的执行顺序

虽然我们写SQL语句时是按照SELECT-FROM的顺序，但数据库实际执行时的顺序是：

1. FROM：确定数据来源
2. SELECT：选择需要返回的列

### 小实验

尝试自己编写以下查询：

1. 查询员工的ID、姓名和部门
2. 查询员工的姓名、年龄和职位

**答案**：

```sql
-- 查询员工的ID、姓名和部门
SELECT id, name, department FROM employees;

-- 查询员工的姓名、年龄和职位
SELECT name, age, position FROM employees;
```

## 1.5 本章小结

本章介绍了SQL的基础知识，包括：

1. 数据库的基本概念：什么是数据库，为什么需要数据库，关系型数据库的特点
2. SQL语言简介：SQL的定义、历史、特点和方言
3. SQL环境搭建：如何安装数据库和客户端工具
4. 第一个SQL查询：使用SELECT语句查询数据

通过本章的学习，您应该能够：

- 理解数据库的基本概念和用途
- 了解SQL语言的特点和作用
- 搭建SQL学习环境
- 编写简单的SELECT查询语句

## 1.6 思考题

1. 什么是关系型数据库？它与非关系型数据库有什么区别？
2. 为什么说SQL是声明式语言？这与过程式语言有什么不同？
3. 主键和外键的作用是什么？它们之间有什么关系？
4. 尝试解释`SELECT * FROM employees;`这条SQL语句的执行过程。

## 1.7 下章预告

在第2章中，我们将学习SQL的数据类型和数据定义语言（DDL），包括：

- SQL中的基本数据类型
- 如何创建、修改和删除数据库和表
- 约束和索引的概念
- 如何设计合理的数据库结构

---

*继续学习，掌握SQL的更多知识！*