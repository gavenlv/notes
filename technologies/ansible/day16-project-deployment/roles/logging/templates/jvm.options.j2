# Elasticsearch JVM配置
# 由Ansible管理，请勿手动修改

-Xms{{ elasticsearch_heap_size | default('1g') }}
-Xmx{{ elasticsearch_heap_size | default('1g') }}

-Djava.io.tmpdir={{ elasticsearch_data_dir }}/tmp

# JDK 8/9+ garbage collection settings
-XX:+UseConcMarkSweepGC
-XX:CMSInitiatingOccupancyFraction=75
-XX:+UseCMSInitiatingOccupancyOnly

# JDK 9+ garbage collection settings (commented out as default is CMS)
## -XX:+UseG1GC
## -XX:G1ReservePercent=25
## -XX:InitiatingHeapOccupancyPercent=30

# JDK 10+ settings
## -XX:MaxRAMPercentage=50.0

-Djava.awt.headless=true
-Dfile.encoding=UTF-8
-Djna.nosys=true
-Dio.netty.noUnsafe=true
-Dio.netty.noKeySetOptimization=true
-Dio.netty.recycler.maxCapacityPerThread=0
-Dlog4j.shutdownHookEnabled=false
-Dlog4j2.disable.jmx=true
-Dlog4j2.formatMsgNoLookups=true
-Djava.locale.providers=SPI,COMPAT