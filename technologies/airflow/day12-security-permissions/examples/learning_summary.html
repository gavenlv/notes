<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day 12: Airflow å®‰å…¨ä¸æƒé™ç®¡ç† - å­¦ä¹ æˆæœå±•ç¤º</title>
    <style>
        :root {
            --primary-color: #1a73e8;
            --secondary-color: #34a853;
            --accent-color: #f9ab00;
            --danger-color: #ea4335;
            --dark-color: #202124;
            --light-color: #f8f9fa;
            --border-color: #dadce0;
            --success-bg: #e6f4ea;
            --info-bg: #e8f0fe;
            --warning-bg: #fef7e0;
            --danger-bg: #fce8e6;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f7fa;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary-color), #0d47a1);
            color: white;
            padding: 2rem 0;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 0;
        }
        
        h1, h2, h3 {
            margin-bottom: 1rem;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }
        
        h2 {
            font-size: 1.8rem;
            color: var(--primary-color);
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 0.5rem;
            margin-top: 2rem;
        }
        
        h3 {
            font-size: 1.4rem;
            color: var(--dark-color);
        }
        
        p {
            margin-bottom: 1rem;
        }
        
        .card {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            padding: 1.5rem;
            margin-bottom: 2rem;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .card-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            font-size: 1.2rem;
        }
        
        .icon-blue {
            background-color: var(--info-bg);
            color: var(--primary-color);
        }
        
        .icon-green {
            background-color: var(--success-bg);
            color: var(--secondary-color);
        }
        
        .icon-yellow {
            background-color: var(--warning-bg);
            color: var(--accent-color);
        }
        
        .icon-red {
            background-color: var(--danger-bg);
            color: var(--danger-color);
        }
        
        .progress-container {
            background-color: #e0e0e0;
            border-radius: 10px;
            height: 20px;
            margin: 2rem 0;
        }
        
        .progress-bar {
            height: 100%;
            border-radius: 10px;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
            text-align: center;
            line-height: 20px;
            color: white;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        
        .stat-card {
            background: white;
            border-radius: 8px;
            padding: 1.5rem;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--primary-color);
            margin: 0.5rem 0;
        }
        
        .stat-label {
            color: #666;
            font-size: 1rem;
        }
        
        .code-block {
            background-color: #f1f3f4;
            border-left: 4px solid var(--primary-color);
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 4px 4px 0;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
        }
        
        .btn {
            display: inline-block;
            background-color: var(--primary-color);
            color: white;
            padding: 0.8rem 1.5rem;
            border-radius: 4px;
            text-decoration: none;
            font-weight: bold;
            transition: background-color 0.3s ease;
            border: none;
            cursor: pointer;
            margin: 0.5rem;
        }
        
        .btn:hover {
            background-color: #0d47a1;
        }
        
        .btn-secondary {
            background-color: var(--secondary-color);
        }
        
        .btn-secondary:hover {
            background-color: #2e8b47;
        }
        
        .btn-accent {
            background-color: var(--accent-color);
            color: var(--dark-color);
        }
        
        .btn-accent:hover {
            background-color: #e39e00;
        }
        
        .timeline {
            position: relative;
            max-width: 800px;
            margin: 2rem auto;
        }
        
        .timeline::after {
            content: '';
            position: absolute;
            width: 4px;
            background-color: var(--primary-color);
            top: 0;
            bottom: 0;
            left: 50%;
            margin-left: -2px;
        }
        
        .timeline-item {
            padding: 10px 40px;
            position: relative;
            width: 50%;
        }
        
        .timeline-item::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            right: -10px;
            background-color: white;
            border: 4px solid var(--primary-color);
            top: 15px;
            border-radius: 50%;
            z-index: 1;
        }
        
        .left {
            left: 0;
        }
        
        .right {
            left: 50%;
        }
        
        .right::after {
            left: -10px;
        }
        
        .timeline-content {
            padding: 20px;
            background-color: white;
            border-radius: 6px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .checklist {
            list-style-type: none;
            margin: 1rem 0;
        }
        
        .checklist li {
            margin-bottom: 0.5rem;
            padding-left: 30px;
            position: relative;
        }
        
        .checklist li::before {
            content: 'âœ“';
            position: absolute;
            left: 0;
            color: var(--secondary-color);
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        footer {
            background-color: var(--dark-color);
            color: white;
            text-align: center;
            padding: 2rem 0;
            margin-top: 3rem;
        }
        
        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .timeline::after {
                left: 31px;
            }
            
            .timeline-item {
                width: 100%;
                padding-left: 70px;
                padding-right: 25px;
            }
            
            .timeline-item::after {
                left: 21px;
            }
            
            .right {
                left: 0%;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Day 12: Airflow å®‰å…¨ä¸æƒé™ç®¡ç†</h1>
            <p>å­¦ä¹ æˆæœå±•ç¤º</p>
        </div>
    </header>

    <div class="container">
        <div class="card">
            <div class="card-header">
                <div class="card-icon icon-blue">ğŸ”’</div>
                <h2>å­¦ä¹ è¿›åº¦æ¦‚è§ˆ</h2>
            </div>
            <p>ä»Šå¤©å®Œæˆäº† Airflow å®‰å…¨ä¸æƒé™ç®¡ç†çš„å…¨é¢å­¦ä¹ ï¼ŒæŒæ¡äº†ä¼ä¸šçº§å®‰å…¨é…ç½®çš„å…³é”®æŠ€èƒ½ã€‚</p>
            
            <div class="progress-container">
                <div class="progress-bar" style="width: 100%">100%</div>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">6</div>
                    <div class="stat-label">æ ¸å¿ƒä¸»é¢˜</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">12</div>
                    <div class="stat-label">å®è·µç»ƒä¹ </div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">5</div>
                    <div class="stat-label">é…ç½®ç¤ºä¾‹</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">3</div>
                    <div class="stat-label">å®‰å…¨å·¥å…·</div>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <div class="card-icon icon-green">ğŸ“š</div>
                <h2>å­¦ä¹ å†…å®¹æ¦‚è§ˆ</h2>
            </div>
            <p>ä»Šå¤©çš„å­¦ä¹ æ¶µç›–äº† Airflow å®‰å…¨ç®¡ç†çš„å„ä¸ªæ–¹é¢ï¼ŒåŒ…æ‹¬ï¼š</p>
            
            <ul class="checklist">
                <li>Airflow å®‰å…¨æ¶æ„è®¾è®¡åŸåˆ™</li>
                <li>RBACï¼ˆåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼‰å®ç°</li>
                <li>LDAP å’Œ OAuth èº«ä»½éªŒè¯é›†æˆ</li>
                <li>å¯†é’¥ç®¡ç†å’Œ Vault é›†æˆ</li>
                <li>ç½‘ç»œå®‰å…¨é…ç½®ï¼ˆHTTPSã€é˜²ç«å¢™ï¼‰</li>
                <li>å®¡è®¡æ—¥å¿—å’Œç›‘æ§å‘Šè­¦</li>
            </ul>
        </div>

        <div class="card">
            <div class="card-header">
                <div class="card-icon icon-yellow">ğŸ’»</div>
                <h2>å®è·µæˆæœå±•ç¤º</h2>
            </div>
            
            <h3>1. RBAC æƒé™ç®¡ç†ç³»ç»Ÿ</h3>
            <p>åˆ›å»ºäº†è‡ªå®šä¹‰è§’è‰²å’Œæƒé™åˆ†é…æœºåˆ¶ï¼š</p>
            <div class="code-block">
# åˆ›å»º DataAnalyst è§’è‰²<br>
role = security_manager.add_role("DataAnalyst")<br><br>
# åˆ†é…åªè¯»æƒé™<br>
permissions = [<br>
&nbsp;&nbsp;("can_dag_read", "DAG"),<br>
&nbsp;&nbsp;("can_task_instance_read", "DAG"),<br>
&nbsp;&nbsp;("can_log_read", "DAG")<br>
]<br>
for perm_name, view_menu in permissions:<br>
&nbsp;&nbsp;perm_view = security_manager.add_permission_view_menu(perm_name, view_menu)<br>
&nbsp;&nbsp;security_manager.add_permission_role(role, perm_view)
            </div>
            
            <h3>2. LDAP èº«ä»½éªŒè¯é›†æˆ</h3>
            <p>é…ç½®äº†ä¼ä¸šçº§ LDAP èº«ä»½éªŒè¯ï¼š</p>
            <div class="code-block">
[ldap]<br>
uri = ldap://ldap.example.com:389<br>
user_filter = objectClass=*<br>
user_name_attr = uid<br>
bind_user = cn=Manager,dc=example,dc=com<br>
basedn = dc=example,dc=com<br>
superuser_filter = memberOf=cn=airflow_admins,ou=groups,dc=example,dc=com
            </div>
            
            <h3>3. HashiCorp Vault å¯†é’¥ç®¡ç†</h3>
            <p>å®ç°äº†å®‰å…¨çš„å¯†é’¥å­˜å‚¨å’Œæ£€ç´¢ï¼š</p>
            <div class="code-block">
# Vault åç«¯é…ç½®<br>
[secrets]<br>
backend = airflow.providers.hashicorp.secrets.vault.VaultBackend<br>
backend_kwargs = {"connections_path": "airflow/connections", "variables_path": "airflow/variables", "url": "http://vault:8200"}<br><br>
# åœ¨ DAG ä¸­ä½¿ç”¨<br>
conn = BaseHook.get_connection('postgres_default')<br>
# å¯†ç ä» Vault å®‰å…¨è·å–
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <div class="card-icon icon-red">ğŸ¯</div>
                <h2>æŠ€èƒ½æŒæ¡æƒ…å†µ</h2>
            </div>
            
            <h3>æ ¸å¿ƒæŠ€èƒ½</h3>
            <ul class="checklist">
                <li>âœ… é…ç½®å’Œç®¡ç† RBAC æƒé™ç³»ç»Ÿ</li>
                <li>âœ… é›†æˆä¼ä¸š LDAP èº«ä»½éªŒè¯</li>
                <li>âœ… å®ç° OAuth å•ç‚¹ç™»å½•</li>
                <li>âœ… é…ç½® HTTPS å®‰å…¨é€šä¿¡</li>
                <li>âœ… é›†æˆ HashiCorp Vault å¯†é’¥ç®¡ç†</li>
                <li>âœ… å®æ–½å®‰å…¨å®¡è®¡å’Œç›‘æ§</li>
            </ul>
            
            <h3>è¿›é˜¶æŠ€èƒ½</h3>
            <ul class="checklist">
                <li>âœ… è‡ªå®šä¹‰å®‰å…¨æƒé™æ£€æŸ¥</li>
                <li>âœ… å¤šå› ç´ èº«ä»½éªŒè¯å®ç°</li>
                <li>âœ… å®‰å…¨äº‹ä»¶ç›‘æ§ä»ªè¡¨æ¿</li>
                <li>âœ… å¯†ç ç­–ç•¥å’Œè½®æ¢æœºåˆ¶</li>
                <li>âœ… æ•°æ®è¡€ç¼˜å®‰å…¨è¿½è¸ª</li>
            </ul>
        </div>

        <div class="card">
            <div class="card-header">
                <div class="card-icon icon-blue">ğŸ“</div>
                <h2>å­¦ä¹ å¿ƒå¾—ä¸æ€»ç»“</h2>
            </div>
            
            <h3>å…³é”®å­¦ä¹ ç‚¹</h3>
            <p>é€šè¿‡ä»Šå¤©çš„å­¦ä¹ ï¼Œæˆ‘æ·±åˆ»ç†è§£äº† Airflow å®‰å…¨ç®¡ç†çš„é‡è¦æ€§ï¼š</p>
            
            <div class="timeline">
                <div class="timeline-item left">
                    <div class="timeline-content">
                        <h3>å®‰å…¨æ¶æ„è®¾è®¡</h3>
                        <p>Airflow çš„å®‰å…¨æ¶æ„éœ€è¦ä»å¤šä¸ªå±‚é¢è€ƒè™‘ï¼ŒåŒ…æ‹¬èº«ä»½éªŒè¯ã€æˆæƒã€æ•°æ®åŠ å¯†å’Œå®¡è®¡æ—¥å¿—ç­‰ã€‚</p>
                    </div>
                </div>
                <div class="timeline-item right">
                    <div class="timeline-content">
                        <h3>RBAC å®è·µ</h3>
                        <p>é€šè¿‡è‡ªå®šä¹‰è§’è‰²å’Œæƒé™åˆ†é…ï¼Œå¯ä»¥ç²¾ç¡®æ§åˆ¶ç”¨æˆ·å¯¹ä¸åŒ DAG å’Œèµ„æºçš„è®¿é—®æƒé™ã€‚</p>
                    </div>
                </div>
                <div class="timeline-item left">
                    <div class="timeline-content">
                        <h3>å¯†é’¥ç®¡ç†</h3>
                        <p>ä½¿ç”¨ HashiCorp Vault ç­‰ä¸“ä¸šå¯†é’¥ç®¡ç†å·¥å…·ï¼Œå¯ä»¥å¤§å¹…æå‡å¯†é’¥å­˜å‚¨çš„å®‰å…¨æ€§ã€‚</p>
                    </div>
                </div>
                <div class="timeline-item right">
                    <div class="timeline-content">
                        <h3>ç›‘æ§ä¸å®¡è®¡</h3>
                        <p>å»ºç«‹å®Œå–„çš„å®‰å…¨ç›‘æ§å’Œå®¡è®¡æœºåˆ¶ï¼Œèƒ½å¤ŸåŠæ—¶å‘ç°å’Œå“åº”å®‰å…¨å¨èƒã€‚</p>
                    </div>
                </div>
            </div>
            
            <h3>æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ</h3>
            <p>åœ¨å®è·µè¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸»è¦æŒ‘æˆ˜åŠè§£å†³æ–¹æ¡ˆï¼š</p>
            <ul>
                <li><strong>LDAP é›†æˆå¤æ‚æ€§ï¼š</strong>é€šè¿‡ä»”ç»†é…ç½® LDAP è¿æ¥å‚æ•°å’Œæµ‹è¯•è¿æ¥ï¼ŒæˆåŠŸå®ç°äº†ä¼ä¸šèº«ä»½éªŒè¯é›†æˆã€‚</li>
                <li><strong>æƒé™ç²’åº¦æ§åˆ¶ï¼š</strong>é€šè¿‡è‡ªå®šä¹‰å®‰å…¨ç®¡ç†å™¨ï¼Œå®ç°äº†åŸºäºç”¨æˆ·ç»„çš„ç»†ç²’åº¦ DAG è®¿é—®æ§åˆ¶ã€‚</li>
                <li><strong>å¯†é’¥è½®æ¢æœºåˆ¶ï¼š</strong>è®¾è®¡äº†è‡ªåŠ¨åŒ–çš„å¯†é’¥è½®æ¢æµç¨‹ï¼Œç¡®ä¿å¯†é’¥å®‰å…¨æ€§ã€‚</li>
            </ul>
        </div>

        <div class="card">
            <div class="card-header">
                <div class="card-icon icon-green">ğŸš€</div>
                <h2>ä¸‹ä¸€æ­¥å­¦ä¹ è®¡åˆ’</h2>
            </div>
            
            <h3>å³å°†å­¦ä¹ çš„å†…å®¹</h3>
            <ul class="checklist">
                <li>Day 13: é«˜çº§è°ƒåº¦å’Œè§¦å‘å™¨</li>
                <li>Day 14: æ•°æ®ç®¡é“ç›‘æ§å’Œå‘Šè­¦</li>
                <li>Day 15: æ€§èƒ½è°ƒä¼˜å’Œæ‰©å±•</li>
                <li>Day 16: äº‘åŸç”Ÿéƒ¨ç½²å’Œå®¹å™¨åŒ–</li>
            </ul>
            
            <h3>å®è·µé¡¹ç›®è§„åˆ’</h3>
            <p>è®¡åˆ’åœ¨æ¥ä¸‹æ¥çš„å­¦ä¹ ä¸­å®Œæˆä»¥ä¸‹å®è·µé¡¹ç›®ï¼š</p>
            <ol>
                <li>æ„å»ºä¼ä¸šçº§ Airflow å®‰å…¨å¹³å°</li>
                <li>å®ç°å¤šç§Ÿæˆ· Airflow ç¯å¢ƒ</li>
                <li>å¼€å‘è‡ªå®šä¹‰å®‰å…¨æ’ä»¶</li>
                <li>éƒ¨ç½²é«˜å¯ç”¨ Airflow é›†ç¾¤</li>
            </ol>
            
            <div style="text-align: center; margin-top: 2rem;">
                <button class="btn" onclick="window.location.href='../day11-performance-optimization/examples/learning_summary.html'">â† æŸ¥çœ‹ç¬¬11å¤©</button>
                <button class="btn btn-secondary" onclick="window.location.href='security_examples.py'">æŸ¥çœ‹ç¤ºä¾‹ä»£ç </button>
                <button class="btn btn-accent" onclick="window.location.href='../../PROGRESS.md'">æŸ¥çœ‹æ€»ä½“è¿›åº¦</button>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <p>Apache Airflow å®‰å…¨ä¸æƒé™ç®¡ç†å­¦ä¹  | Day 12 å®Œæˆ</p>
            <p>Â© 2024 Airflow å­¦ä¹ è®¡åˆ’ - ä¼ä¸šçº§æ•°æ®å·¥ç¨‹å®è·µ</p>
        </div>
    </footer>
</body>
</html>