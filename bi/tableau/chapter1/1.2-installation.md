# 1.2 Tableau安装与配置

## Tableau Desktop安装

### 系统要求

在安装Tableau Desktop之前，请确保您的系统满足以下最低要求：

#### Windows系统
- **操作系统**：Windows 10或更高版本（64位）
- **处理器**：Intel Core i5或同等级别以上的处理器
- **内存**：最低8GB RAM，推荐16GB或更高
- **存储空间**：至少2GB可用空间
- **显示器**：1366×768分辨率，推荐1920×1080或更高

#### macOS系统
- **操作系统**：macOS 10.15或更高版本
- **处理器**：Intel Core i5或Apple M1/M2芯片
- **内存**：最低8GB RAM，推荐16GB或更高
- **存储空间**：至少2GB可用空间
- **显示器**：1366×768分辨率，推荐1920×1080或更高

### 安装步骤（Windows）

1. **下载安装程序**
   - 访问Tableau官方网站（https://www.tableau.com/products/desktop）
   - 选择适合的版本（Creator、Explorer或Professional）
   - 填写必要信息并下载安装程序

2. **运行安装程序**
   - 双击下载的安装文件（通常名为`TableauDesktop-<版本>-64bit.exe`）
   - 选择安装语言，点击"确定"
   - 阅读并接受许可协议
   - 选择安装路径（默认为`C:\Program Files\Tableau\Tableau <版本>`）
   - 点击"安装"开始安装过程

3. **激活产品**
   - 安装完成后，启动Tableau Desktop
   - 选择激活选项：
     - **产品密钥**：输入购买获得的产品密钥
     - **试用期**：选择14天免费试用
   - 创建或登录Tableau账户
   - 完成激活流程

### 安装步骤（macOS）

1. **下载安装程序**
   - 访问Tableau官方网站下载DMG安装文件
   - 确保选择与您的Mac芯片兼容的版本（Intel或Apple Silicon）

2. **安装应用程序**
   - 双击下载的DMG文件
   - 将Tableau图标拖拽到Applications文件夹
   - 等待复制完成

3. **首次运行与激活**
   - 从Applications文件夹启动Tableau
   - 在首次运行提示中，选择"打开"
   - 按照Windows版本的步骤3进行产品激活

## Tableau Server安装

### 部署选项

Tableau Server支持多种部署方式：

1. **本地安装**
   - 单节点部署（适用于小型团队）
   - 集群部署（适用于大型企业）

2. **云部署**
   - Tableau Online（官方托管云服务）
   - AWS/Azure/GCP云平台部署

### 单节点服务器安装（Windows）

#### 前提条件
- Windows Server 2016或更高版本
- 至少8核CPU，16GB RAM
- 至少50GB可用存储空间
- 具有管理员权限的账户

#### 安装步骤

1. **下载安装程序**
   - 从Tableau客户门户网站下载Tableau Server安装程序

2. **运行安装程序**
   ```cmd
   # 以管理员身份运行命令提示符
   # 导航到安装文件目录
   cd C:\Downloads
   
   # 运行安装程序
   tableau-server-2023-1-x64.exe /silent /accepteula
   ```

3. **初始化服务器**
   ```cmd
   # 以管理员身份运行Tableau Server工具
   cd "C:\Program Files\Tableau\Tableau Server\2023.1\bin"
   
   # 初始化服务器
   tsm initialize
   ```

4. **激活服务器**
   ```cmd
   # 激活Tableau Server
   tsm licenses activate -k <产品密钥>
   ```

5. **设置管理员账户**
   ```cmd
   # 设置初始管理员账户
   tabcmd initialuser --server localhost --username admin
   ```

6. **启动服务器**
   ```cmd
   # 启动Tableau Server
   tsm start
   ```

## Tableau Public安装

### 安装步骤

Tableau Public是免费版本，安装过程与Tableau Desktop类似：

1. **下载安装程序**
   - 访问https://public.tableau.com/
   - 点击"Download Tableau Public"

2. **安装应用程序**
   - 按照Tableau Desktop的安装步骤进行安装
   - 注意：Tableau Public没有产品密钥，直接使用免费账户登录

### Public版本的注意事项

1. **数据隐私**：所有保存的工作簿都会公开
2. **功能限制**：不支持连接所有数据源
3. **存储限制**：有数据存储大小限制
4. **服务器限制**：只能发布到Tableau Public服务器

## Tableau移动应用

### 安装步骤

1. **下载应用**
   - **iOS设备**：在App Store搜索"Tableau Mobile"
   - **Android设备**：在Google Play商店搜索"Tableau Mobile"

2. **配置连接**
   - 启动应用
   - 输入Tableau Server或Tableau Online地址
   - 使用用户名和密码登录

## Tableau Prep安装

### 系统要求

Tableau Prep的系统要求与Tableau Desktop类似：

- **操作系统**：Windows 10或更高版本，macOS 10.15或更高版本
- **处理器**：Intel Core i5或同等级别以上
- **内存**：最低8GB RAM，推荐16GB
- **存储空间**：至少2GB可用空间

### 安装步骤

1. **下载安装程序**
   - 从Tableau官方网站下载Tableau Prep安装程序

2. **运行安装**
   - 按照与Tableau Desktop相同的步骤进行安装

3. **激活产品**
   - 使用与Tableau Desktop相同的产品密钥激活

## 配置与个性化设置

### Tableau Desktop设置

1. **性能设置**
   - 菜单：`文件` > `性能设置`
   - 设置：
     - 查询缓存：启用以提高重复查询性能
     - 自动刷新：设置自动刷新间隔
     - 后景刷新：允许后台刷新以提高响应速度

2. **数据连接设置**
   - 菜单：`帮助` > `设置和性能` > `设置连接`
   - 配置：
     - ODBC连接：设置超时和重试选项
     - 网络代理：配置代理服务器（如需要）
     - SSL证书：管理SSL证书设置

3. **界面个性化**
   - 菜单：`文件` > `工作簿性能设置`
   - 设置：
     - 主题：选择浅色或深色主题
     - 默认字体：设置图表默认字体
     - 网格线：设置工作区网格线显示

### Tableau Server设置

1. **常规配置**
   ```cmd
   # 使用TSM配置服务器
   tsm configuration set -k config.key -v "value"
   
   # 例如，设置服务器名称
   tsm configuration set -k wgserver.name -v "Tableau Server"
   
   # 应用更改
   tsm pending-changes apply
   ```

2. **性能调优**
   ```cmd
   # 设置可视化查询限制
   tsm configuration set -k vizqlserver.query_limit -v "1000"
   
   # 设置数据提取刷新限制
   tsm configuration set -k backgrounder.query_limit -v "5"
   ```

3. **安全设置**
   ```cmd
   # 启用SSL
   tsm security ssl-configure -c "cert.pem" -k "key.pem"
   
   # 设置密码策略
   tsm configuration set -k wgserver.password_policy.min_length -v "8"
   ```

## 故障排除

### 常见安装问题

1. **激活失败**
   - 检查网络连接
   - 确认产品密钥正确
   - 尝试使用管理员权限运行安装程序

2. **性能问题**
   - 检查系统资源使用情况
   - 关闭不必要的后台应用程序
   - 更新显卡驱动程序

3. **数据连接问题**
   - 验证数据源凭据
   - 检查网络防火墙设置
   - 安装必要的数据库驱动程序

### 日志收集

1. **Tableau Desktop日志**
   - 位置：`Documents\My Tableau Repository\Logs`

2. **Tableau Server日志**
   - Windows：`ProgramData\Tableau\Tableau Server\data\tabsvc\logs`
   - 收集日志命令：`tsm maintenance ziplogs`

3. **查看日志**
   ```cmd
   # 使用TSM查看服务器状态
   tsm status -v
   
   # 查看特定服务日志
   tsm logs get --file vizqlserver-0.log
   ```

## 更新与维护

### Tableau Desktop更新

1. **手动更新**
   - 菜单：`帮助` > `检查更新`
   - 下载并安装最新版本

2. **自动更新**
   - 菜单：`帮助` > `设置和性能` > `自动更新设置`
   - 配置自动检查和安装选项

### Tableau Server更新

1. **准备更新**
   ```cmd
   # 备份当前配置
   tsm maintenance backup -f backup-name.tsv
   
   # 检查更新
   tsm maintenance get-public-revision-info
   ```

2. **应用更新**
   ```cmd
   # 下载更新文件
   # 运行更新程序
   tableau-server-2023-2-x64.exe /silent /accepteula
   
   # 应用配置更改
   tsm pending-changes apply
   
   # 重启服务器
   tsm restart
   ```

## 许可证管理

### 查看许可证状态

1. **Tableau Desktop**
   - 菜单：`帮助` > `管理产品密钥` > `管理许可证`

2. **Tableau Server**
   ```cmd
   # 查看当前许可证
   tsm licenses list
   
   # 激活新许可证
   tsm licenses activate -k <新密钥>
   ```

### 许可证管理最佳实践

1. **集中管理许可证**
   - 使用Tableau账户集中管理所有许可证
   - 定期审查许可证使用情况

2. **用户角色管理**
   - 根据用户需求分配适当角色
   - 定期审核用户权限

3. **许可证优化**
   - 监控许可证使用情况
   - 回收不再使用的许可证

## 总结

本章详细介绍了Tableau各种产品的安装和配置方法，包括Tableau Desktop、Tableau Server、Tableau Public和Tableau Prep。正确的安装和配置是有效使用Tableau的基础，因此请确保按照系统要求进行安装，并根据实际需求进行适当的配置。

在下一章中，我们将学习如何创建第一个Tableau可视化项目，探索Tableau的基本功能和界面。