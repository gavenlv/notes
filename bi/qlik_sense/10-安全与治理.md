# ç¬¬10ç« ï¼šå®‰å…¨ä¸æ²»ç†

> **å­¦ä¹ æ—¶é•¿**: 10-12å°æ—¶  
> **éš¾åº¦**: â­â­â­â­  
> **å‰ç½®çŸ¥è¯†**: ç¬¬1-9ç« 

## æœ¬ç« ç›®æ ‡

å­¦å®Œæœ¬ç« å,ä½ å°†èƒ½å¤Ÿ:

- âœ… æŒæ¡Section Accessæ•°æ®å®‰å…¨æœºåˆ¶
- âœ… å®æ–½ç”¨æˆ·ç®¡ç†å’Œè®¤è¯ç³»ç»Ÿ
- âœ… è®¾è®¡æƒé™ç®¡ç†æœ€ä½³å®è·µ
- âœ… å»ºç«‹æ•°æ®æ²»ç†ç­–ç•¥ä½“ç³»
- âœ… å®ç°å®¡è®¡å’Œåˆè§„åŠŸèƒ½
- âœ… ç®¡ç†ç‰ˆæœ¬æ§åˆ¶å’Œéƒ¨ç½²
- âœ… è§£å†³å¸¸è§å®‰å…¨é—®é¢˜

---

## 10.1 Section Accessæ•°æ®å®‰å…¨

### 10.1.1 Section AccessåŸºç¡€

**ä»€ä¹ˆæ˜¯Section Access**?

Section Accessæ˜¯Qlik Senseæä¾›çš„è¡Œçº§å®‰å…¨æœºåˆ¶ï¼Œç”¨äºæ§åˆ¶ç”¨æˆ·å¯¹æ•°æ®çš„è®¿é—®æƒé™ã€‚

```qlik
// Section AccessåŸºæœ¬ç»“æ„
Section Access;
LOAD * INLINE [
    ACCESS, USERID, REDUCTION, OMIT
    ADMIN, ADMIN, *, 
    USER, DOMAIN\User1, 1,
    USER, DOMAIN\User2, 2
];

Section Application;

// æ•°æ®è¡¨
SalesData:
LOAD
    UserID,
    Amount,
    Region
FROM sales.csv;
```

**å…³é”®å­—æ®µè¯´æ˜**:
- **ACCESS**: è®¿é—®çº§åˆ« (ADMIN/USER)
- **USERID**: ç”¨æˆ·æ ‡è¯†
- **REDUCTION**: æ•°æ®ç¼©å‡å­—æ®µ
- **OMIT**: éšè—å­—æ®µ

### 10.1.2 è¡Œçº§å®‰å…¨å®ç°

```qlik
// 1. åŸºäºåŒºåŸŸçš„è®¿é—®æ§åˆ¶

// Section Accesså®šä¹‰
Section Access;
LOAD * INLINE [
    ACCESS, USERID, REGION
    ADMIN, ADMIN, *
    USER, DOMAIN\BeijingUser, åŒ—äº¬
    USER, DOMAIN\ShanghaiUser, ä¸Šæµ·
    USER, DOMAIN\GuangzhouUser, å¹¿å·
];

Section Application;

// æ•°æ®è¡¨
SalesData:
LOAD
    OrderID,
    CustomerName,
    Region,
    Amount,
    OrderDate
FROM sales_data.csv;

// æ•ˆæœ:
// BeijingUseråªèƒ½çœ‹åˆ°åŒ—äº¬åŒºåŸŸçš„æ•°æ®
// ShanghaiUseråªèƒ½çœ‹åˆ°ä¸Šæµ·åŒºåŸŸçš„æ•°æ®
// GuangzhouUseråªèƒ½çœ‹åˆ°å¹¿å·åŒºåŸŸçš„æ•°æ®
// ADMINå¯ä»¥çœ‹åˆ°æ‰€æœ‰æ•°æ®
```

### 10.1.3 å­—æ®µçº§å®‰å…¨å®ç°

```qlik
// 1. éšè—æ•æ„Ÿå­—æ®µ

// Section Accesså®šä¹‰
Section Access;
LOAD * INLINE [
    ACCESS, USERID, OMIT
    ADMIN, ADMIN, 
    USER, DOMAIN\NormalUser, æˆæœ¬,åˆ©æ¶¦
    USER, DOMAIN\ManagerUser, åˆ©æ¶¦
];

Section Application;

// æ•°æ®è¡¨
FinancialData:
LOAD
    ProductID,
    ProductName,
    Sales,
    Cost as æˆæœ¬,
    Profit as åˆ©æ¶¦,
    Margin
FROM financial_data.csv;

// æ•ˆæœ:
// NormalUserçœ‹ä¸åˆ°æˆæœ¬å’Œåˆ©æ¶¦å­—æ®µ
// ManagerUserçœ‹ä¸åˆ°åˆ©æ¶¦å­—æ®µ
// ADMINå¯ä»¥çœ‹åˆ°æ‰€æœ‰å­—æ®µ
```

### 10.1.4 å¤æ‚å®‰å…¨åœºæ™¯

```qlik
// 1. å¤šç»´åº¦è®¿é—®æ§åˆ¶

Section Access;
LOAD * INLINE [
    ACCESS, USERID, REGION, PRODUCT_TYPE, OMIT
    ADMIN, ADMIN, *, *, 
    USER, DOMAIN\SalesManager, *, *, æˆæœ¬
    USER, DOMAIN\RegionalManager, åŒ—äº¬, *, 
    USER, DOMAIN\ProductManager, *, ç”µå­äº§å“, 
    USER, DOMAIN\RegionalSales, åŒ—äº¬, ç”µå­äº§å“, æˆæœ¬,åˆ©æ¶¦
];

Section Application;

// æ•°æ®è¡¨
BusinessData:
LOAD
    Region,
    ProductType as PRODUCT_TYPE,
    Sales,
    Cost as æˆæœ¬,
    Profit as åˆ©æ¶¦,
    CustomerCount
FROM business_data.csv;

// è®¿é—®è§„åˆ™:
// SalesManager: æ‰€æœ‰åŒºåŸŸå’Œäº§å“ç±»å‹ï¼Œä½†çœ‹ä¸åˆ°æˆæœ¬
// RegionalManager: åªèƒ½çœ‹åŒ—äº¬åŒºåŸŸæ‰€æœ‰äº§å“ï¼Œèƒ½çœ‹åˆ°æˆæœ¬å’Œåˆ©æ¶¦
// ProductManager: æ‰€æœ‰åŒºåŸŸçš„ç”µå­äº§å“ï¼Œèƒ½çœ‹åˆ°æˆæœ¬å’Œåˆ©æ¶¦
// RegionalSales: åªèƒ½çœ‹åŒ—äº¬åŒºåŸŸçš„ç”µå­äº§å“ï¼Œçœ‹ä¸åˆ°æˆæœ¬å’Œåˆ©æ¶¦
```

---

## 10.2 ç”¨æˆ·ç®¡ç†ä¸è®¤è¯

### 10.2.1 ç”¨æˆ·è®¤è¯æœºåˆ¶

**Qlik Senseæ”¯æŒçš„è®¤è¯æ–¹å¼**:

```qlik
// 1. Windowsè®¤è¯
// æœ€å¸¸ç”¨çš„ä¼ä¸šè®¤è¯æ–¹å¼
// åŸºäºActive Directory

// 2. JWTè®¤è¯
// ç”¨äºå•ç‚¹ç™»å½•(SSO)
// éœ€è¦é…ç½®JWTæä¾›è€…

// 3. SAMLè®¤è¯
// ä¼ä¸šçº§å•ç‚¹ç™»å½•
// ä¸Identity Provideré›†æˆ

// 4. OAuthè®¤è¯
// ç¬¬ä¸‰æ–¹è®¤è¯
// å¦‚Google, Microsoftç­‰
```

**ç”¨æˆ·ç›®å½•é…ç½®**:

```qlik
// 1. Active Directoryé›†æˆ
// åœ¨Qlik Sense Management Consoleä¸­é…ç½®:
// - LDAPæœåŠ¡å™¨åœ°å€
// - Base DN
// - ç”¨æˆ·æœç´¢è¿‡æ»¤å™¨
// - ç»„æ˜ å°„

// 2. ç”¨æˆ·å±æ€§åŒæ­¥
// åŒæ­¥ADå±æ€§åˆ°Qlik Sense
// å¦‚: éƒ¨é—¨, èŒä½, ç»ç†ç­‰

// 3. ç»„ç®¡ç†
// ADç»„åˆ°Qlik Senseç»„çš„æ˜ å°„
// è‡ªåŠ¨åˆ†é…æƒé™å’Œè®¿é—®æ§åˆ¶
```

### 10.2.2 ç”¨æˆ·è§’è‰²ç®¡ç†

```qlik
// 1. è§’è‰²å®šä¹‰
// åœ¨Qlik Senseä¸­åˆ›å»ºè§’è‰²:
// - Administrator (ç³»ç»Ÿç®¡ç†å‘˜)
// - Developer (å¼€å‘äººå‘˜)
// - Analyst (åˆ†æå¸ˆ)
// - Consumer (æœ€ç»ˆç”¨æˆ·)

// 2. æƒé™åˆ†é…
// åŸºäºè§’è‰²çš„æƒé™æ§åˆ¶:
// - åº”ç”¨è®¿é—®æƒé™
// - æ•°æ®è®¿é—®æƒé™
// - åŠŸèƒ½ä½¿ç”¨æƒé™

// 3. åŠ¨æ€è§’è‰²åˆ†é…
// åŸºäºç”¨æˆ·å±æ€§çš„åŠ¨æ€åˆ†é…
Section Access;
LOAD
    'USER' as ACCESS,
    User as USERID,
    IF(Department = 'Sales', 'Sales',
       IF(Department = 'Marketing', 'Marketing',
          'General')) as ROLE
FROM user_attributes.csv;

Section Application;
```

### 10.2.3 å¤–éƒ¨ç”¨æˆ·ç®¡ç†

```qlik
// 1. åˆä½œä¼™ä¼´ç”¨æˆ·
// ä¸ºå¤–éƒ¨åˆä½œä¼™ä¼´åˆ›å»ºç”¨æˆ·
// é™åˆ¶è®¿é—®ç‰¹å®šåº”ç”¨å’Œæ•°æ®

// 2. ä¸´æ—¶ç”¨æˆ·
// ä¸ºä¸´æ—¶é¡¹ç›®åˆ›å»ºç”¨æˆ·
// è®¾ç½®è¿‡æœŸæ—¶é—´

// 3. åŒ¿åè®¿é—®
// é…ç½®åŒ¿åè®¿é—®æƒé™
// é€‚ç”¨äºå…¬å¼€æŠ¥è¡¨

// å¤–éƒ¨ç”¨æˆ·Section Accessç¤ºä¾‹:
Section Access;
LOAD * INLINE [
    ACCESS, USERID, ROLE, EXPIRY_DATE
    ADMIN, INTERNAL\ADMIN, ADMIN, 
    USER, PARTNER\ExternalUser1, PARTNER, 2024-12-31
    USER, TEMP\TempUser1, TEMP, 2024-06-30
    USER, ANONYMOUS\Anonymous, PUBLIC, 
];

Section Application;
```

---

## 10.3 æƒé™ç®¡ç†æœ€ä½³å®è·µ

### 10.3.1 æƒé™è®¾è®¡åŸåˆ™

```qlik
// 1. æœ€å°æƒé™åŸåˆ™
// ç”¨æˆ·åªæ‹¥æœ‰å®Œæˆå·¥ä½œæ‰€éœ€çš„æœ€å°æƒé™

// 2. èŒè´£åˆ†ç¦»
// ä¸åŒè§’è‰²ä¹‹é—´æƒé™åˆ†ç¦»
// é¿å…æƒé™å†²çªå’Œæ»¥ç”¨

// 3. åˆ†å±‚æƒé™ç®¡ç†
// ç³»ç»Ÿçº§ -> åº”ç”¨çº§ -> æ•°æ®çº§ -> å­—æ®µçº§

// 4. åŠ¨æ€æƒé™
// åŸºäºç”¨æˆ·å±æ€§çš„åŠ¨æ€æƒé™åˆ†é…

// æƒé™å±‚æ¬¡ç»“æ„ç¤ºä¾‹:
æƒé™å±‚æ¬¡:
LOAD * INLINE [
    æƒé™çº§åˆ«, æƒé™æè¿°, è®¿é—®èŒƒå›´
    SYSTEM_ADMIN, ç³»ç»Ÿç®¡ç†å‘˜, æ‰€æœ‰ç³»ç»ŸåŠŸèƒ½
    APP_ADMIN, åº”ç”¨ç®¡ç†å‘˜, æŒ‡å®šåº”ç”¨ç®¡ç†
    DATA_OWNER, æ•°æ®æ‰€æœ‰è€…, æŒ‡å®šæ•°æ®é›†
    ANALYST, åˆ†æå¸ˆ, æ•°æ®åˆ†æå’Œå¯è§†åŒ–
    CONSUMER, æ¶ˆè´¹è€…, æ•°æ®æŸ¥çœ‹å’Œä½¿ç”¨
];
```

### 10.3.2 ç»„æƒé™ç®¡ç†

```qlik
// 1. åŸºäºç»„çš„æƒé™åˆ†é…
// åˆ©ç”¨ADç»„æˆ–è‡ªå®šä¹‰ç»„

Section Access;
LOAD
    'USER' as ACCESS,
    User as USERID,
    Group as GROUP
FROM user_groups.csv;

Section Application;

// 2. ç»„å±‚æ¬¡ç»“æ„
// æ”¯æŒç»„çš„åµŒå¥—å’Œç»§æ‰¿

// 3. ç»„æƒé™æ˜ å°„
ç»„æƒé™æ˜ å°„:
LOAD * INLINE [
    GROUP, ROLE, ACCESS_LEVEL
    Sales_Team, ANALYST, READ_WRITE
    Marketing_Team, ANALYST, READ_ONLY
    Management, MANAGER, ADMIN_READ
    IT_Support, TECH_ADMIN, FULL_ACCESS
];

// 4. åŠ¨æ€ç»„åˆ†é…
åŠ¨æ€ç»„åˆ†é…:
LOAD
    User,
    IF(JobTitle LIKE '*Manager*', 'MANAGERS',
       IF(Department = 'IT', 'IT_STAFF',
          'GENERAL_USERS')) as DYNAMIC_GROUP
FROM employee_data.csv;
```

### 10.3.3 æƒé™å®¡è®¡

```qlik
// 1. æƒé™å˜æ›´æ—¥å¿—
æƒé™å˜æ›´æ—¥å¿—:
LOAD
    Timestamp,
    UserID,
    ActionType,
    ObjectName,
    OldPermissions,
    NewPermissions,
    ChangedBy
FROM permission_audit_log.csv;

// 2. æƒé™åˆè§„æ£€æŸ¥
æƒé™åˆè§„æ£€æŸ¥:
LOAD
    UserID,
    Role,
    AccessLevel,
    LastLogin,
    // åˆè§„æ£€æŸ¥
    IF(LastLogin < Today() - 90, 'Inactive', 'Active') as UserStatus,
    IF(AccessLevel = 'ADMIN' AND LastLogin > Today() - 30, 'HighRisk', 'Normal') as RiskLevel
RESIDENT ç”¨æˆ·æƒé™æ•°æ®;

// 3. æƒé™ä½¿ç”¨åˆ†æ
æƒé™ä½¿ç”¨åˆ†æ:
LOAD
    UserID,
    AccessObject,
    AccessTime,
    AccessType,
    // ä½¿ç”¨é¢‘ç‡åˆ†æ
    Count(AccessObject) as AccessCount,
    Max(AccessTime) as LastAccess,
    // æƒé™æœ‰æ•ˆæ€§æ£€æŸ¥
    IF(Count(AccessObject) = 0 AND AccessLevel <> 'ADMIN', 'Unused', 'Active') as PermissionStatus
RESIDENT è®¿é—®æ—¥å¿—
GROUP BY UserID, AccessObject;
```

---

## 10.4 æ•°æ®æ²»ç†ç­–ç•¥

### 10.4.1 æ•°æ®è´¨é‡ç®¡ç†

```qlik
// 1. æ•°æ®è´¨é‡è§„åˆ™å®šä¹‰
æ•°æ®è´¨é‡è§„åˆ™:
LOAD * INLINE [
    RuleID, RuleName, RuleDescription, RuleExpression, Severity
    DQ001, ç©ºå€¼æ£€æŸ¥, æ£€æŸ¥å…³é”®å­—æ®µæ˜¯å¦ä¸ºç©º, "IsNull(å­—æ®µå)", HIGH
    DQ002, æ ¼å¼æ£€æŸ¥, æ£€æŸ¥æ—¥æœŸæ ¼å¼æ˜¯å¦æ­£ç¡®, "IsNum(Date#(æ—¥æœŸå­—æ®µ))", MEDIUM
    DQ003, èŒƒå›´æ£€æŸ¥, æ£€æŸ¥æ•°å€¼æ˜¯å¦åœ¨åˆç†èŒƒå›´, "é‡‘é¢å­—æ®µ >= 0", HIGH
    DQ004, é‡å¤æ£€æŸ¥, æ£€æŸ¥æ˜¯å¦å­˜åœ¨é‡å¤è®°å½•, "Exists(ä¸»é”®å­—æ®µ)", HIGH
];

// 2. æ•°æ®è´¨é‡ç›‘æ§
æ•°æ®è´¨é‡ç›‘æ§:
LOAD
    RuleID,
    RuleName,
    Count(*) as ErrorCount,
    Today() as CheckDate
RESIDENT æ•°æ®è´¨é‡æ£€æŸ¥ç»“æœ
GROUP BY RuleID, RuleName;

// 3. æ•°æ®è´¨é‡æŠ¥å‘Š
æ•°æ®è´¨é‡æŠ¥å‘Š:
LOAD
    CheckDate,
    RuleName,
    ErrorCount,
    Severity,
    // è´¨é‡è¯„åˆ†
    IF(ErrorCount = 0, 'Excellent',
       IF(ErrorCount < 10, 'Good',
          IF(ErrorCount < 100, 'Fair', 'Poor'))) as QualityScore
RESIDENT æ•°æ®è´¨é‡ç›‘æ§
ORDER BY Severity DESC, ErrorCount DESC;
```

### 10.4.2 å…ƒæ•°æ®ç®¡ç†

```qlik
// 1. æ•°æ®å­—å…¸
æ•°æ®å­—å…¸:
LOAD * INLINE [
    TableName, FieldName, DataType, Description, BusinessOwner, DataSteward
    Sales, OrderID, Text, è®¢å•ç¼–å·, é”€å”®éƒ¨, å¼ ä¸‰
    Sales, CustomerID, Text, å®¢æˆ·ç¼–å·, é”€å”®éƒ¨, æå››
    Sales, Amount, Number, è®¢å•é‡‘é¢, è´¢åŠ¡éƒ¨, ç‹äº”
    Customer, CustomerName, Text, å®¢æˆ·åç§°, é”€å”®éƒ¨, å¼ ä¸‰
];

// 2. æ•°æ®è¡€ç¼˜å…³ç³»
æ•°æ®è¡€ç¼˜:
LOAD * INLINE [
    TargetTable, TargetField, SourceTable, SourceField, Transformation
    é”€å”®æ±‡æ€», æœˆé”€å”®é¢, è®¢å•æ˜ç»†, é‡‘é¢, Sum(é‡‘é¢)
    å®¢æˆ·åˆ†æ, å®¢æˆ·ç­‰çº§, å®¢æˆ·ä¸»æ•°æ®, ä¿¡ç”¨è¯„åˆ†, If(è¯„åˆ†>80,'VIP','æ™®é€š')
];

// 3. æ•°æ®æ ‡å‡†
æ•°æ®æ ‡å‡†:
LOAD * INLINE [
    StandardName, StandardType, StandardValue, AppliesTo, EffectiveDate
    æ—¥æœŸæ ¼å¼, Format, YYYY-MM-DD, AllTables, 2024-01-01
    è´§å¸æ ¼å¼, Format, Â¥#,##0.00, FinancialTables, 2024-01-01
    å®¢æˆ·çŠ¶æ€, Code, Active/Inactive, CustomerTable, 2024-01-01
];
```

### 10.4.3 æ•°æ®ç”Ÿå‘½å‘¨æœŸç®¡ç†

```qlik
// 1. æ•°æ®ä¿ç•™ç­–ç•¥
æ•°æ®ä¿ç•™ç­–ç•¥:
LOAD * INLINE [
    DataType, RetentionPeriod, ArchivePolicy, DestructionPolicy
    äº¤æ˜“æ•°æ®, 7å¹´, å½’æ¡£åˆ°å†·å­˜å‚¨, å®‰å…¨åˆ é™¤
    æ—¥å¿—æ•°æ®, 2å¹´, å‹ç¼©å­˜å‚¨, è‡ªåŠ¨æ¸…ç†
    ä¸´æ—¶æ•°æ®, 30å¤©, ä¸å½’æ¡£, è‡ªåŠ¨åˆ é™¤
];

// 2. æ•°æ®å½’æ¡£
æ•°æ®å½’æ¡£:
LOAD
    *,
    // å½’æ¡£æ ‡è¯†
    IF(OrderDate < AddYears(Today(), -2), 'ARCHIVED', 'ACTIVE') as ArchiveStatus,
    // å½’æ¡£æ—¶é—´
    IF(OrderDate < AddYears(Today(), -2), Today(), Null()) as ArchiveDate
RESIDENT è®¢å•æ•°æ®;

// 3. æ•°æ®æ¸…ç†
æ•°æ®æ¸…ç†:
LOAD
    *,
    // æ¸…ç†æ ‡è¯†
    IF(LastAccessDate < AddMonths(Today(), -6), 'TO_BE_CLEANED', 'ACTIVE') as CleanupStatus
RESIDENT åº”ç”¨ä½¿ç”¨æ•°æ®;
```

---

## 10.5 å®¡è®¡ä¸åˆè§„

### 10.5.1 å®¡è®¡æ—¥å¿—ç®¡ç†

```qlik
// 1. è®¿é—®å®¡è®¡
è®¿é—®å®¡è®¡:
LOAD
    Timestamp,
    UserID,
    ApplicationName,
    ObjectType,
    ObjectName,
    Action,
    IPAddress,
    SessionID
FROM access_log.csv;

// 2. æ•°æ®å˜æ›´å®¡è®¡
æ•°æ®å˜æ›´å®¡è®¡:
LOAD
    Timestamp,
    UserID,
    TableName,
    FieldName,
    OldValue,
    NewValue,
    ChangeType,
    Reason
FROM data_change_log.csv;

// 3. ç³»ç»Ÿå®¡è®¡
ç³»ç»Ÿå®¡è®¡:
LOAD
    Timestamp,
    EventType,
    EventDescription,
    Severity,
    Source,
    Target
FROM system_log.csv;

// å®¡è®¡æŠ¥å‘Š
å®¡è®¡æŠ¥å‘Š:
LOAD
    Date(Timestamp) as AuditDate,
    UserID,
    Count(*) as ActivityCount,
    // å¼‚å¸¸æ£€æµ‹
    IF(Count(*) > Avg(ActivityCount) * 2, 'SUSPICIOUS', 'NORMAL') as ActivityStatus
RESIDENT è®¿é—®å®¡è®¡
GROUP BY Date(Timestamp), UserID;
```

### 10.5.2 åˆè§„æ€§æ£€æŸ¥

```qlik
// 1. GDPRåˆè§„æ£€æŸ¥
GDPRåˆè§„æ£€æŸ¥:
LOAD
    UserID,
    PersonalDataFields,
    ConsentStatus,
    DataRetention,
    // åˆè§„çŠ¶æ€
    IF(ConsentStatus = 'Granted' AND DataRetention <= 2555, 'COMPLIANT', 'NON_COMPLIANT') as GDPRStatus
RESIDENT ç”¨æˆ·æ•°æ®;

// 2. SOXåˆè§„æ£€æŸ¥
SOXåˆè§„æ£€æŸ¥:
LOAD
    FinancialData,
    AccessControls,
    AuditTrail,
    // åˆè§„çŠ¶æ€
    IF(AccessControls = 'RESTRICTED' AND AuditTrail = 'ENABLED', 'COMPLIANT', 'NON_COMPLIANT') as SOXStatus
RESIDENT è´¢åŠ¡æ•°æ®;

// 3. è¡Œä¸šç‰¹å®šåˆè§„
è¡Œä¸šåˆè§„:
LOAD
    Industry,
    Regulation,
    ComplianceStatus,
    LastCheckDate,
    NextCheckDate
FROM compliance_registry.csv;
```

### 10.5.3 å®‰å…¨ç›‘æ§

```qlik
// 1. å¼‚å¸¸è®¿é—®æ£€æµ‹
å¼‚å¸¸è®¿é—®æ£€æµ‹:
LOAD
    UserID,
    IPAddress,
    AccessTime,
    AccessPattern,
    // å¼‚å¸¸è¯„åˆ†
    IF(
        // éå·¥ä½œæ—¶é—´è®¿é—®
        (Hour(AccessTime) < 8 OR Hour(AccessTime) > 18) AND
        // é¢‘ç¹è®¿é—®
        Count(AccessTime) > 100 AND
        // åœ°ç†ä½ç½®å¼‚å¸¸
        GeoDistance(IPAddress) > 1000,
        'HIGH_RISK',
        IF(
            Count(AccessTime) > 50,
            'MEDIUM_RISK',
            'LOW_RISK'
        )
    ) as RiskLevel
RESIDENT è®¿é—®æ—¥å¿—
GROUP BY UserID, IPAddress, AccessTime;

// 2. æ•°æ®æ³„éœ²æ£€æµ‹
æ•°æ®æ³„éœ²æ£€æµ‹:
LOAD
    UserID,
    DataExported,
    ExportDestination,
    ExportTime,
    // é£é™©è¯„ä¼°
    IF(
        DataExported > 10000 OR
        ExportDestination LIKE '*personal*' OR
        (Hour(ExportTime) > 22 OR Hour(ExportTime) < 6),
        'POTENTIAL_BREACH',
        'NORMAL'
    ) as BreachRisk
RESIDENT æ•°æ®å¯¼å‡ºæ—¥å¿—;
```

---

## 10.6 ç‰ˆæœ¬æ§åˆ¶ä¸éƒ¨ç½²

### 10.6.1 åº”ç”¨ç‰ˆæœ¬ç®¡ç†

```qlik
// 1. ç‰ˆæœ¬å‘½åè§„èŒƒ
ç‰ˆæœ¬å‘½å:
LOAD * INLINE [
    VersionFormat, Example, Description
    Major.Minor.Patch, 1.2.3, ä¸»ç‰ˆæœ¬.æ¬¡ç‰ˆæœ¬.ä¿®è®¢ç‰ˆæœ¬
    DateBased, 2024.01.15, åŸºäºæ—¥æœŸçš„ç‰ˆæœ¬
    FeatureBased, Sales-v1.0, åŸºäºåŠŸèƒ½çš„ç‰ˆæœ¬
];

// 2. ç‰ˆæœ¬æ§åˆ¶ç­–ç•¥
ç‰ˆæœ¬æ§åˆ¶:
LOAD
    ApplicationName,
    Version,
    ReleaseDate,
    ReleaseNotes,
    Status,
    // ç‰ˆæœ¬å…¼å®¹æ€§
    CompatibleWith
FROM application_versions.csv;

// 3. ç‰ˆæœ¬å›æ»šæœºåˆ¶
ç‰ˆæœ¬å›æ»š:
LOAD
    CurrentVersion,
    PreviousVersion,
    RollbackDate,
    RollbackReason,
    RollbackStatus
FROM version_rollback_log.csv;
```

### 10.6.2 éƒ¨ç½²æµæ°´çº¿

```qlik
// 1. å¼€å‘ç¯å¢ƒ
å¼€å‘ç¯å¢ƒ:
LOAD * INLINE [
    Environment, Purpose, AccessLevel, DataScope
    DEV, å¼€å‘æµ‹è¯•, Developers, SampleData
    TEST, ç”¨æˆ·éªŒæ”¶, Testers, TestData
    UAT, ä¸šåŠ¡éªŒè¯, BusinessUsers, ProductionSubset
    PROD, ç”Ÿäº§ç¯å¢ƒ, AllUsers, ProductionData
];

// 2. è‡ªåŠ¨åŒ–éƒ¨ç½²
è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬:
SUB DeployApplication(vSourceApp, vTargetEnv, vVersion)
    
    TRACE å¼€å§‹éƒ¨ç½²åº”ç”¨: $(vSourceApp);
    TRACE ç›®æ ‡ç¯å¢ƒ: $(vTargetEnv);
    TRACE åº”ç”¨ç‰ˆæœ¬: $(vVersion);
    
    // 1. å¤‡ä»½å½“å‰ç‰ˆæœ¬
    CALL BackupApplication(vTargetEnv);
    
    // 2. éƒ¨ç½²æ–°ç‰ˆæœ¬
    CALL PublishApplication(vSourceApp, vTargetEnv, vVersion);
    
    // 3. éªŒè¯éƒ¨ç½²
    CALL ValidateDeployment(vTargetEnv, vVersion);
    
    // 4. æ›´æ–°ç‰ˆæœ¬è®°å½•
    CALL UpdateVersionRegistry(vTargetEnv, vVersion);
    
    TRACE éƒ¨ç½²å®Œæˆ;
    
END SUB

// 3. éƒ¨ç½²éªŒè¯
éƒ¨ç½²éªŒè¯:
LOAD
    Environment,
    Version,
    DeploymentDate,
    ValidationStatus,
    TestResults,
    // éƒ¨ç½²å¥åº·åº¦
    IF(TestResults = 'PASS' AND ValidationStatus = 'SUCCESS', 'HEALTHY', 'UNHEALTHY') as DeploymentHealth
RESIDENT éƒ¨ç½²æ—¥å¿—;
```

### 10.6.3 å˜æ›´ç®¡ç†

```qlik
// 1. å˜æ›´è¯·æ±‚ç®¡ç†
å˜æ›´è¯·æ±‚:
LOAD
    RequestID,
    Requester,
    RequestType,
    Description,
    Priority,
    Status,
    RequestDate,
    TargetDate
FROM change_requests.csv;

// 2. å˜æ›´å½±å“åˆ†æ
å˜æ›´å½±å“åˆ†æ:
LOAD
    ChangeID,
    AffectedObjects,
    Dependencies,
    RiskLevel,
    // å½±å“è¯„ä¼°
    IF(
        Count(AffectedObjects) > 10 OR
        Dependencies LIKE '*critical*',
        'HIGH_IMPACT',
        IF(
            Count(AffectedObjects) > 5,
            'MEDIUM_IMPACT',
            'LOW_IMPACT'
        )
    ) as ImpactLevel
RESIDENT å˜æ›´è¯¦æƒ…;

// 3. å˜æ›´å®¡æ‰¹æµç¨‹
å˜æ›´å®¡æ‰¹:
LOAD
    ChangeID,
    Requester,
    Approver,
    ApprovalStatus,
    ApprovalDate,
    Comments
FROM change_approvals.csv;
```

---

## 10.7 å®éªŒ:ç»¼åˆå®‰å…¨æ²»ç†

### å®éªŒ1: ä¼ä¸šçº§å®‰å…¨æ¶æ„

```qlik
///$tab ä¼ä¸šçº§å®‰å…¨æ¶æ„

// 1. å®Œæ•´çš„Section Accesså®ç°

Section Access;
LOAD * INLINE [
    ACCESS, USERID, ROLE, REGION, PRODUCT_LINE, OMIT
    ADMIN, INTERNAL\QlikAdmin, SYSTEM_ADMIN, *, *, 
    USER, INTERNAL\SalesVP, SALES_MGR, *, *, COST,PROFIT
    USER, INTERNAL\RegionalMGR, REGIONAL_MGR, åŒ—äº¬, *, 
    USER, INTERNAL\ProductMGR, PRODUCT_MGR, *, ç”µå­äº§å“, 
    USER, INTERNAL\SalesRep, SALES_REP, åŒ—äº¬, ç”µå­äº§å“, COST,PROFIT,SENSITIVE_DATA
    USER, EXTERNAL\PartnerUser, PARTNER, åä¸œ, æ¶ˆè´¹å“, COST,PROFIT,INTERNAL_NOTES
];

Section Application;

// 2. æ•°æ®è¡¨è®¾è®¡
ä¼ä¸šé”€å”®æ•°æ®:
LOAD
    OrderID,
    CustomerName,
    Region as REGION,
    ProductLine as PRODUCT_LINE,
    SalesAmount,
    Cost as COST,
    Profit as PROFIT,
    OrderDate,
    SalesRepID
FROM enterprise_sales.csv;

// 3. å®‰å…¨æµ‹è¯•
å®‰å…¨æµ‹è¯•æŠ¥å‘Š:
LOAD
    USERID,
    ROLE,
    AccessibleRecords,
    TotalRecords,
    AccessPercentage,
    // å®‰å…¨åˆè§„æ€§
    IF(AccessPercentage <= 100 AND AccessPercentage >= 0, 'SECURE', 'INVESTIGATE') as SecurityStatus
RESIDENT è®¿é—®æµ‹è¯•ç»“æœ;
```

### å®éªŒ2: æ•°æ®æ²»ç†æ§åˆ¶å°

```qlik
///$tab æ•°æ®æ²»ç†æ§åˆ¶å°

// 1. æ•°æ®è´¨é‡ä»ªè¡¨æ¿
æ•°æ®è´¨é‡ä»ªè¡¨æ¿:
LOAD
    TableName,
    FieldName,
    DataType,
    RecordCount,
    NullCount,
    DuplicateCount,
    // è´¨é‡è¯„åˆ†
    (
        (RecordCount - NullCount) / RecordCount * 0.5 +
        (RecordCount - DuplicateCount) / RecordCount * 0.5
    ) * 100 as QualityScore,
    // è´¨é‡ç­‰çº§
    IF(QualityScore > 95, 'Excellent',
       IF(QualityScore > 85, 'Good',
          IF(QualityScore > 70, 'Fair', 'Poor'))) as QualityLevel
RESIDENT æ•°æ®è´¨é‡æ£€æŸ¥;

// 2. åˆè§„æ€§ç›‘æ§
åˆè§„æ€§ç›‘æ§:
LOAD
    Regulation,
    CheckItem,
    CheckResult,
    LastCheckDate,
    NextCheckDate,
    // åˆè§„çŠ¶æ€
    IF(CheckResult = 'PASS', 'COMPLIANT',
       IF(CheckResult = 'WARNING', 'AT_RISK', 'NON_COMPLIANT')) as ComplianceStatus,
    // é£é™©ç­‰çº§
    IF(CheckResult = 'FAIL', 'HIGH',
       IF(CheckResult = 'WARNING', 'MEDIUM', 'LOW')) as RiskLevel
RESIDENT åˆè§„æ£€æŸ¥ç»“æœ;

// 3. å®‰å…¨å®¡è®¡è¿½è¸ª
å®‰å…¨å®¡è®¡è¿½è¸ª:
LOAD
    AuditDate,
    UserID,
    ActionType,
    ObjectName,
    IPAddress,
    SessionID,
    // å¼‚å¸¸æ£€æµ‹
    IF(
        ActionType = 'EXPORT' AND 
        Hour(AuditDate) > 18 AND
        Hour(AuditDate) < 8,
        'SUSPICIOUS_ACTIVITY',
        'NORMAL_ACTIVITY'
    ) as ActivityRisk,
    // è®¿é—®æ¨¡å¼åˆ†æ
    Count(*) OVER (PARTITION BY UserID, Date(AuditDate)) as DailyAccessCount
RESIDENT å®¡è®¡æ—¥å¿—
GROUP BY AuditDate, UserID, ActionType, ObjectName, IPAddress, SessionID;
```

---

## 10.8 è¯¾åç»ƒä¹ 

### ç»ƒä¹ 1: Section Accesså®ç°

**ä»»åŠ¡**: ä¸ºé”€å”®æ•°æ®åˆ†æåº”ç”¨å®ç°å®Œæ•´çš„Section Access
- è®¾è®¡è¡Œçº§å’Œå­—æ®µçº§å®‰å…¨
- å®ç°å¤šè§’è‰²è®¿é—®æ§åˆ¶
- æµ‹è¯•å®‰å…¨ç­–ç•¥æœ‰æ•ˆæ€§

### ç»ƒä¹ 2: æ•°æ®æ²»ç†æ¡†æ¶

**ä»»åŠ¡**: å»ºç«‹ä¼ä¸šçº§æ•°æ®æ²»ç†æ¡†æ¶
- è®¾è®¡æ•°æ®è´¨é‡ç®¡ç†ä½“ç³»
- å®ç°å…ƒæ•°æ®ç®¡ç†
- å»ºç«‹æ•°æ®ç”Ÿå‘½å‘¨æœŸç­–ç•¥

### ç»ƒä¹ 3: åˆè§„æ€§ç›‘æ§

**ä»»åŠ¡**: å®ç°åˆè§„æ€§ç›‘æ§ç³»ç»Ÿ
- è®¾è®¡å®¡è®¡æ—¥å¿—ç®¡ç†
- å®ç°åˆè§„æ€§æ£€æŸ¥
- å»ºç«‹å®‰å…¨ç›‘æ§æœºåˆ¶

---

## 10.9 æœ¬ç« å°ç»“

### æ ¸å¿ƒçŸ¥è¯†ç‚¹

âœ… **Section Access**: è¡Œçº§å®‰å…¨ã€å­—æ®µçº§å®‰å…¨ã€å¤æ‚åœºæ™¯  
âœ… **ç”¨æˆ·ç®¡ç†**: è®¤è¯æœºåˆ¶ã€è§’è‰²ç®¡ç†ã€å¤–éƒ¨ç”¨æˆ·  
âœ… **æƒé™ç®¡ç†**: è®¾è®¡åŸåˆ™ã€ç»„æƒé™ã€æƒé™å®¡è®¡  
âœ… **æ•°æ®æ²»ç†**: è´¨é‡ç®¡ç†ã€å…ƒæ•°æ®ã€ç”Ÿå‘½å‘¨æœŸ  
âœ… **å®¡è®¡åˆè§„**: æ—¥å¿—ç®¡ç†ã€åˆè§„æ£€æŸ¥ã€å®‰å…¨ç›‘æ§  
âœ… **ç‰ˆæœ¬éƒ¨ç½²**: ç‰ˆæœ¬æ§åˆ¶ã€éƒ¨ç½²æµæ°´çº¿ã€å˜æ›´ç®¡ç†  

### å…³é”®æŠ€æœ¯

```qlik
// Section Access
Section Access;
LOAD * INLINE [
    ACCESS, USERID, REDUCTION, OMIT
    ADMIN, ADMIN, *, 
    USER, User1, åŒ—äº¬, æˆæœ¬
];

Section Application;

// æƒé™ç®¡ç†
IF(UserRole = 'ADMIN', 'FULL_ACCESS',
   IF(UserRole = 'ANALYST', 'READ_WRITE',
      'READ_ONLY')) as AccessLevel

// æ•°æ®æ²»ç†
DataQualityScore = (Completeness * 0.4 + Accuracy * 0.3 + Consistency * 0.3) * 100

// å®¡è®¡åˆè§„
IF(AccessTime BETWEEN '18:00' AND '08:00', 'SUSPICIOUS', 'NORMAL') as AccessRisk
```

### æœ€ä½³å®è·µ

1. **åˆ†å±‚å®‰å…¨**: ä»ç³»ç»Ÿåˆ°æ•°æ®çš„å¤šå±‚æ¬¡å®‰å…¨é˜²æŠ¤
2. **æœ€å°æƒé™**: ç”¨æˆ·åªæ‹¥æœ‰å¿…éœ€çš„æœ€å°æƒé™
3. **æŒç»­ç›‘æ§**: å»ºç«‹æŒç»­çš„å®‰å…¨å’Œåˆè§„ç›‘æ§æœºåˆ¶
4. **æ–‡æ¡£åŒ–**: å®Œæ•´è®°å½•å®‰å…¨ç­–ç•¥å’Œæ²»ç†æµç¨‹
5. **å®šæœŸå®¡æŸ¥**: å®šæœŸå®¡æŸ¥å’Œæ›´æ–°å®‰å…¨ç­–ç•¥

### ä¸‹ä¸€ç« é¢„å‘Š

**ç¬¬11ç«  - ä¼ä¸šçº§åº”ç”¨å¼€å‘**,å°†å­¦ä¹ :
- ğŸš€ Extensionså¼€å‘å’Œé›†æˆ
- ğŸ“Š Mashup APIåº”ç”¨å¼€å‘
- ğŸ”§ è‡ªåŠ¨åŒ–å’Œè°ƒåº¦
- ğŸ”„ æ•°æ®æµå’Œä»»åŠ¡ç®¡ç†
- ğŸ¨ è‡ªå®šä¹‰ä¸»é¢˜å’Œæ ·å¼
- ğŸ“± ç§»åŠ¨ç«¯åº”ç”¨å¼€å‘

---

[â† ä¸Šä¸€ç« ](./9-æ€§èƒ½ä¼˜åŒ–ä¸æ¶æ„.md) | [è¿”å›ç›®å½•](./README.md) | [ä¸‹ä¸€ç« : ä¼ä¸šçº§åº”ç”¨å¼€å‘ â†’](./11-ä¼ä¸šçº§åº”ç”¨å¼€å‘.md)
