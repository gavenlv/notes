# ç¬¬11ç« ï¼šä¼ä¸šçº§åº”ç”¨å¼€å‘

> **å­¦ä¹ æ—¶é•¿**: 12-15å°æ—¶  
> **éš¾åº¦**: â­â­â­â­â­  
> **å‰ç½®çŸ¥è¯†**: ç¬¬1-10ç« 

## æœ¬ç« ç›®æ ‡

å­¦å®Œæœ¬ç« å,ä½ å°†èƒ½å¤Ÿ:

- âœ… å¼€å‘å’Œé›†æˆè‡ªå®šä¹‰Extensions
- âœ… ä½¿ç”¨Mashup APIåˆ›å»ºåµŒå…¥å¼åˆ†æ
- âœ… å®ç°è‡ªåŠ¨åŒ–å’Œè°ƒåº¦ç³»ç»Ÿ
- âœ… ç®¡ç†æ•°æ®æµå’Œä»»åŠ¡
- âœ… åˆ›å»ºè‡ªå®šä¹‰ä¸»é¢˜å’Œæ ·å¼
- âœ… å¼€å‘ç§»åŠ¨ç«¯ä¼˜åŒ–åº”ç”¨
- âœ… é›†æˆç¬¬ä¸‰æ–¹ç³»ç»Ÿ

---

## 11.1 Extensionså¼€å‘åŸºç¡€

### 11.1.1 Extensionsæ¦‚è¿°

**ä»€ä¹ˆæ˜¯Extensions**?

Extensionsæ˜¯Qlik Senseçš„æ‰©å±•ç»„ä»¶ï¼Œç”¨äºæ·»åŠ è‡ªå®šä¹‰åŠŸèƒ½å’Œå¯è§†åŒ–æ•ˆæœã€‚

```javascript
// ExtensionsåŸºæœ¬ç»“æ„
// 1. Extensionç›®å½•ç»“æ„
MyExtension/
â”œâ”€â”€ MyExtension.qext          // æ‰©å±•æè¿°æ–‡ä»¶
â”œâ”€â”€ MyExtension.js            // ä¸»è¦JavaScriptæ–‡ä»¶
â”œâ”€â”€ MyExtension.css           // æ ·å¼æ–‡ä»¶
â””â”€â”€ lib/                      // ç¬¬ä¸‰æ–¹åº“
    â””â”€â”€ d3.min.js

// 2. qextæ–‡ä»¶ç¤ºä¾‹
{
    "name": "My Custom Extension",
    "description": "è‡ªå®šä¹‰æ‰©å±•ç¤ºä¾‹",
    "type": "visualization",
    "version": "1.0.0",
    "author": "Developer Name"
}
```

### 11.1.2 åŸºç¡€Extensionå¼€å‘

```javascript
// 1. ç®€å•Extensionæ¨¡æ¿
define( [
    'qlik',
    'text!./template.ng.html',
    'text!./style.css'
], function ( qlik, template, cssContent ) {
    'use strict';

    // æ³¨å…¥CSS
    $( '<style>' ).html( cssContent ).appendTo( 'head' );

    return {
        // æ‰©å±•å®šä¹‰
        definition: {
            type: "items",
            component: "accordion",
            items: {
                settings: {
                    uses: "settings",
                    items: {
                        // è‡ªå®šä¹‰è®¾ç½®
                        customSetting: {
                            ref: "props.customSetting",
                            label: "è‡ªå®šä¹‰è®¾ç½®",
                            type: "string",
                            defaultValue: "é»˜è®¤å€¼"
                        }
                    }
                }
            }
        },
        
        // æ•°æ®é¢æ¿å®šä¹‰
        support: {
            snapshot: true,
            export: true,
            exportData: true
        },
        
        // åˆå§‹åŒ–å‡½æ•°
        paint: function ( $element, layout ) {
            // æ¸²æŸ“é€»è¾‘
            var html = '<div class="custom-extension">';
            html += '<h3>' + layout.props.customSetting + '</h3>';
            html += '<p>æ•°æ®ç‚¹æ•°é‡: ' + layout.qHyperCube.qDataPages[0].qMatrix.length + '</p>';
            html += '</div>';
            
            $element.html( html );
        }
    };
} );
```

### 11.1.3 é«˜çº§ExtensionåŠŸèƒ½

```javascript
// 1. æ•°æ®å¤„ç†
paint: function ( $element, layout ) {
    // è·å–æ•°æ®
    var data = layout.qHyperCube.qDataPages[0].qMatrix;
    
    // æ•°æ®è½¬æ¢
    var processedData = data.map( function ( row ) {
        return {
            dimension: row[0].qText,
            measure: row[1].qNum
        };
    } );
    
    // ä½¿ç”¨D3.jså¯è§†åŒ–
    var svg = d3.select( $element[0] )
        .append( 'svg' )
        .attr( 'width', 400 )
        .attr( 'height', 300 );
    
    // åˆ›å»ºæ¡å½¢å›¾
    svg.selectAll( 'rect' )
        .data( processedData )
        .enter()
        .append( 'rect' )
        .attr( 'x', function ( d, i ) { return i * 50; } )
        .attr( 'y', function ( d ) { return 300 - d.measure; } )
        .attr( 'width', 40 )
        .attr( 'height', function ( d ) { return d.measure; } )
        .attr( 'fill', 'steelblue' );
}

// 2. äº¤äº’åŠŸèƒ½
paint: function ( $element, layout ) {
    var self = this;
    
    // æ·»åŠ ç‚¹å‡»äº‹ä»¶
    $element.on( 'click', '.data-item', function () {
        var value = $( this ).data( 'value' );
        // é€‰æ‹©æ•°æ®
        self.backendApi.selectValues( 0, [value], true );
    } );
    
    // æ·»åŠ æ‚¬åœæ•ˆæœ
    $element.on( 'mouseenter', '.data-item', function () {
        $( this ).addClass( 'hover' );
    } );
    
    $element.on( 'mouseleave', '.data-item', function () {
        $( this ).removeClass( 'hover' );
    } );
}
```

---

## 11.2 Mashup APIåº”ç”¨å¼€å‘

### 11.2.1 MashupåŸºç¡€

**ä»€ä¹ˆæ˜¯Mashup**?

Mashupæ˜¯å°†Qlik Senseåˆ†æåŠŸèƒ½åµŒå…¥åˆ°å…¶ä»–Webåº”ç”¨ä¸­çš„æŠ€æœ¯ã€‚

```html
<!-- 1. åŸºæœ¬HTMLç»“æ„ -->
<!DOCTYPE html>
<html>
<head>
    <title>Qlik Sense Mashup</title>
    <!-- å¼•å…¥Qlik Sense CSS -->
    <link rel="stylesheet" href="https://<hostname>/resources/autogenerated/qlik-styles.css">
    <!-- å¼•å…¥Qlik Sense JS -->
    <script src="https://<hostname>/resources/js/qlik.js"></script>
</head>
<body>
    <!-- å®¹å™¨å…ƒç´  -->
    <div id="QV01" style="width: 100%; height: 400px;"></div>
    <div id="CurrentSelections" style="width: 100%; height: 100px;"></div>
</body>
</html>
```

### 11.2.2 è¿æ¥å’Œåº”ç”¨é›†æˆ

```javascript
// 1. å»ºç«‹è¿æ¥
require( ["js/qlik"], function ( qlik ) {
    // é…ç½®è¿æ¥
    qlik.setOnError( function ( error ) {
        console.log( error );
    } );
    
    // æ‰“å¼€åº”ç”¨
    var app = qlik.openApp( 'åº”ç”¨IDæˆ–åç§°.qvf', {
        host: 'localhost',
        port: 4848,
        isSecure: true
    } );
    
    // 2. åµŒå…¥å¯¹è±¡
    app.getObject( 'QV01', 'å¯¹è±¡ID' ).then( function ( model ) {
        // å¯¹è±¡åŠ è½½å®Œæˆ
        console.log( 'å¯¹è±¡åŠ è½½æˆåŠŸ' );
    } );
    
    // 3. åµŒå…¥å½“å‰é€‰æ‹©
    app.getObject( 'CurrentSelections', 'CurrentSelections' );
} );

// 4. åŠ¨æ€åˆ›å»ºå¯¹è±¡
app.visualization.create( 'barchart', [
    'å®¢æˆ·åç§°',
    '=Sum(é”€å”®é¢)'
], {
    title: 'å®¢æˆ·é”€å”®åˆ†æ'
} ).then( function ( barChart ) {
    barChart.show( 'QV02' );
} );
```

### 11.2.3 é«˜çº§MashupåŠŸèƒ½

```javascript
// 1. è‡ªå®šä¹‰é€‰æ‹©å¤„ç†
app.selectionState().OnData.bind( function () {
    var selections = app.selectionState().selections;
    console.log( 'å½“å‰é€‰æ‹©:', selections );
    
    // æ ¹æ®é€‰æ‹©æ›´æ–°UI
    updateCustomUI( selections );
} );

// 2. æ•°æ®è·å–å’Œå¤„ç†
app.createCube( {
    qDimensions: [{
        qDef: {
            qFieldDefs: ['äº§å“ç±»åˆ«']
        }
    }],
    qMeasures: [{
        qDef: {
            qDef: '=Sum(é”€å”®é¢)'
        }
    }],
    qInitialDataFetch: [{
        qTop: 0,
        qLeft: 0,
        qWidth: 2,
        qHeight: 1000
    }]
}, function ( reply ) {
    // å¤„ç†æ•°æ®
    var data = reply.qHyperCube.qDataPages[0].qMatrix;
    processData( data );
} );

// 3. ä¹¦ç­¾å’ŒçŠ¶æ€ç®¡ç†
// åˆ›å»ºä¹¦ç­¾
app.bookmark.create( 'è‡ªå®šä¹‰è§†å›¾', 'å½“å‰åˆ†æçŠ¶æ€' ).then( function ( bookmarkId ) {
    console.log( 'ä¹¦ç­¾åˆ›å»ºæˆåŠŸ:', bookmarkId );
} );

// åº”ç”¨ä¹¦ç­¾
app.bookmark.apply( 'ä¹¦ç­¾ID' ).then( function () {
    console.log( 'ä¹¦ç­¾åº”ç”¨æˆåŠŸ' );
} );
```

---

## 11.3 è‡ªåŠ¨åŒ–å’Œè°ƒåº¦

### 11.3.1 ä»»åŠ¡è°ƒåº¦ç®¡ç†

**Qlik Senseä»»åŠ¡è°ƒåº¦**:

```qlik
// 1. æ•°æ®åŠ è½½ä»»åŠ¡
// åœ¨QMCä¸­åˆ›å»ºä»»åŠ¡:
// - é€‰æ‹©åº”ç”¨
// - è®¾ç½®è§¦å‘å™¨ (æ—¶é—´ã€äº‹ä»¶)
// - é…ç½®æ‰§è¡Œé€‰é¡¹
// - è®¾ç½®é€šçŸ¥é€‰é¡¹

// 2. è„šæœ¬è‡ªåŠ¨åŒ–
// å®šæ—¶æ‰§è¡Œçš„è„šæœ¬ç¤ºä¾‹
SUB ScheduledDataLoad()
    
    TRACE ===== å®šæ—¶æ•°æ®åŠ è½½å¼€å§‹ =====;
    LET vStartTime = Now();
    
    // æ‰§è¡Œæ•°æ®åŠ è½½
    CALL LoadSalesData();
    CALL LoadCustomerData();
    CALL LoadProductData();
    
    LET vEndTime = Now();
    LET vDuration = Interval(vEndTime - vStartTime, 'h:mm:ss');
    
    TRACE æ•°æ®åŠ è½½å®Œæˆï¼Œè€—æ—¶: $(vDuration);
    
    // å‘é€é€šçŸ¥
    CALL SendNotification('æ•°æ®åŠ è½½å®Œæˆ', 'è€—æ—¶: $(vDuration)');
    
END SUB

// 3. æ¡ä»¶æ‰§è¡Œ
SUB ConditionalTaskExecution()
    
    // æ£€æŸ¥æ¡ä»¶
    LET vDataAvailable = FileTime('lib://Source/new_data.csv');
    
    IF vDataAvailable > 0 THEN
        TRACE æ–°æ•°æ®å¯ç”¨ï¼Œå¼€å§‹å¤„ç†;
        CALL ProcessNewData();
    ELSE
        TRACE æ— æ–°æ•°æ®ï¼Œè·³è¿‡å¤„ç†;
    END IF
    
END SUB
```

### 11.3.2 å¤–éƒ¨è§¦å‘é›†æˆ

```qlik
// 1. APIè§¦å‘ä»»åŠ¡
// ä½¿ç”¨Qlik Sense REST APIè§¦å‘ä»»åŠ¡

// 2. æ–‡ä»¶ç›‘æ§è§¦å‘
SUB FileBasedTrigger()
    
    // ç›‘æ§ç‰¹å®šæ–‡ä»¶
    LET vTriggerFile = 'lib://Trigger/trigger.txt';
    LET vFileExists = FileTime(vTriggerFile);
    
    IF vFileExists > 0 THEN
        TRACE æ£€æµ‹åˆ°è§¦å‘æ–‡ä»¶ï¼Œå¼€å§‹æ‰§è¡Œ;
        
        // æ‰§è¡Œä»»åŠ¡
        CALL ExecuteScheduledTask();
        
        // åˆ é™¤è§¦å‘æ–‡ä»¶
        EXECUTE DELETE $(vTriggerFile);
        
    END IF
    
END SUB

// 3. æ•°æ®åº“è§¦å‘
SUB DatabaseTrigger()
    
    // æ£€æŸ¥æ•°æ®åº“ä¸­çš„è§¦å‘æ ‡å¿—
    TriggerCheck:
    SQL SELECT TriggerFlag, TriggerTime 
    FROM SystemControl 
    WHERE TriggerFlag = 1;
    
    IF NoOfRows('TriggerCheck') > 0 THEN
        TRACE æ•°æ®åº“è§¦å‘å™¨æ¿€æ´»ï¼Œå¼€å§‹æ‰§è¡Œ;
        
        // æ‰§è¡Œä»»åŠ¡
        CALL ExecuteScheduledTask();
        
        // é‡ç½®è§¦å‘æ ‡å¿—
        SQL UPDATE SystemControl 
        SET TriggerFlag = 0 
        WHERE TriggerFlag = 1;
        
    END IF
    
    DROP Table TriggerCheck;
    
END SUB
```

### 11.3.3 é€šçŸ¥å’Œç›‘æ§

```qlik
// 1. é‚®ä»¶é€šçŸ¥
SUB SendEmailNotification(vSubject, vBody)
    
    // ä½¿ç”¨å¤–éƒ¨é‚®ä»¶æœåŠ¡
    LET vEmailCommand = 'powershell.exe -Command "';
    LET vEmailCommand = vEmailCommand & 'Send-MailMessage -To \"admin@company.com\" ';
    LET vEmailCommand = vEmailCommand & '-Subject \"$(vSubject)\" ';
    LET vEmailCommand = vEmailCommand & '-Body \"$(vBody)\" ';
    LET vEmailCommand = vEmailCommand & '-SmtpServer \"smtp.company.com\""';
    
    EXECUTE $(vEmailCommand);
    
END SUB

// 2. æ—¥å¿—è®°å½•
SUB LogTaskExecution(vTaskName, vStatus, vDetails)
    
    TaskLog:
    LOAD
        '$(vTaskName)' as TaskName,
        '$(vStatus)' as Status,
        '$(vDetails)' as Details,
        Now() as ExecutionTime,
        OSUser() as ExecutedBy
    AUTOGENERATE 1;
    
    // ä¿å­˜æ—¥å¿—åˆ°æ–‡ä»¶
    STORE TaskLog INTO [lib://Logs/$(vTaskName)_$(Date(Today(), 'YYYYMMDD')).log] (txt);
    DROP Table TaskLog;
    
END SUB

// 3. å¥åº·æ£€æŸ¥
SUB HealthCheck()
    
    HealthStatus:
    LOAD
        DocumentName() as ApplicationName,
        MemUsed() / 1024 / 1024 as MemoryUsed_MB,
        NoOfTables() as TableCount,
        NoOfFields() as FieldCount,
        ScriptErrorCount as ErrorCount,
        Now() as CheckTime
    AUTOGENERATE 1;
    
    // æ£€æŸ¥å…³é”®æŒ‡æ ‡
    LET vMemoryUsed = Peek('MemoryUsed_MB', 0, 'HealthStatus');
    LET vErrorCount = Peek('ErrorCount', 0, 'HealthStatus');
    
    IF vMemoryUsed > 1000 THEN
        CALL SendAlert('å†…å­˜ä½¿ç”¨è¿‡é«˜', 'å½“å‰å†…å­˜ä½¿ç”¨: $(vMemoryUsed) MB');
    END IF
    
    IF vErrorCount > 0 THEN
        CALL SendAlert('è„šæœ¬é”™è¯¯', 'é”™è¯¯æ•°é‡: $(vErrorCount)');
    END IF
    
    DROP Table HealthStatus;
    
END SUB
```

---

## 11.4 æ•°æ®æµå’Œä»»åŠ¡ç®¡ç†

### 11.4.1 æ•°æ®æµè®¾è®¡

```qlik
// 1. åˆ†å±‚æ•°æ®æµ

// ç¬¬ä¸€å±‚: åŸå§‹æ•°æ®åŠ è½½
SUB LoadRawData()
    
    // ä»å„ç§æºåŠ è½½åŸå§‹æ•°æ®
    RawSales:
    LOAD * FROM [lib://Raw/Sales_*.csv] (txt);
    
    RawCustomers:
    SQL SELECT * FROM Customers;
    
    RawProducts:
    LOAD * FROM [lib://Raw/Products.xlsx] (ooxml);
    
    // å­˜å‚¨ä¸ºQVD
    STORE RawSales INTO [lib://QVD/L1_Raw/Sales.qvd] (qvd);
    STORE RawCustomers INTO [lib://QVD/L1_Raw/Customers.qvd] (qvd);
    STORE RawProducts INTO [lib://QVD/L1_Raw/Products.qvd] (qvd);
    
END SUB

// ç¬¬äºŒå±‚: æ•°æ®æ¸…æ´—å’Œè½¬æ¢
SUB TransformData()
    
    // åŠ è½½åŸå§‹æ•°æ®
    Sales:
    LOAD * FROM [lib://QVD/L1_Raw/Sales.qvd] (qvd);
    
    // æ•°æ®æ¸…æ´—
    CleanedSales:
    LOAD
        OrderID,
        Date(OrderDate) as CleanOrderDate,
        Num(Amount, '#,##0.00') as CleanAmount,
        Upper(CustomerName) as CleanCustomerName
    RESIDENT Sales;
    
    DROP Table Sales;
    
    // å­˜å‚¨æ¸…æ´—åæ•°æ®
    STORE CleanedSales INTO [lib://QVD/L2_Cleaned/Sales.qvd] (qvd);
    
END SUB

// ç¬¬ä¸‰å±‚: æ•°æ®æ•´åˆå’Œèšåˆ
SUB AggregateData()
    
    // åŠ è½½æ¸…æ´—åæ•°æ®
    Sales:
    LOAD * FROM [lib://QVD/L2_Cleaned/Sales.qvd] (qvd);
    
    // èšåˆè®¡ç®—
    AggregatedSales:
    LOAD
        Year(CleanOrderDate) as SalesYear,
        Month(CleanOrderDate) as SalesMonth,
        CleanCustomerName,
        Sum(CleanAmount) as TotalSales,
        Count(OrderID) as OrderCount
    RESIDENT Sales
    GROUP BY Year(CleanOrderDate), Month(CleanOrderDate), CleanCustomerName;
    
    DROP Table Sales;
    
    // å­˜å‚¨èšåˆæ•°æ®
    STORE AggregatedSales INTO [lib://QVD/L3_Aggregated/Sales.qvd] (qvd);
    
END SUB
```

### 11.4.2 ä¾èµ–ç®¡ç†

```qlik
// 1. ä»»åŠ¡ä¾èµ–å…³ç³»

// ä¸»ä»»åŠ¡è°ƒåº¦å™¨
SUB MainDataPipeline()
    
    TRACE ===== å¼€å§‹æ•°æ®å¤„ç†æµæ°´çº¿ =====;
    
    // ç¬¬ä¸€é˜¶æ®µ: åŸå§‹æ•°æ®åŠ è½½
    LET vStage1Start = Now();
    CALL LoadRawData();
    LET vStage1End = Now();
    LET vStage1Duration = Interval(vStage1End - vStage1Start, 'h:mm:ss');
    CALL LogTaskExecution('Stage1_RawData', 'Completed', 'è€—æ—¶: $(vStage1Duration)');
    
    // æ£€æŸ¥ç¬¬ä¸€é˜¶æ®µæ˜¯å¦æˆåŠŸ
    IF ScriptErrorCount = 0 THEN
        
        // ç¬¬äºŒé˜¶æ®µ: æ•°æ®è½¬æ¢
        LET vStage2Start = Now();
        CALL TransformData();
        LET vStage2End = Now();
        LET vStage2Duration = Interval(vStage2End - vStage2Start, 'h:mm:ss');
        CALL LogTaskExecution('Stage2_Transform', 'Completed', 'è€—æ—¶: $(vStage2Duration)');
        
        // æ£€æŸ¥ç¬¬äºŒé˜¶æ®µæ˜¯å¦æˆåŠŸ
        IF ScriptErrorCount = 0 THEN
            
            // ç¬¬ä¸‰é˜¶æ®µ: æ•°æ®èšåˆ
            LET vStage3Start = Now();
            CALL AggregateData();
            LET vStage3End = Now();
            LET vStage3Duration = Interval(vStage3End - vStage3Start, 'h:mm:ss');
            CALL LogTaskExecution('Stage3_Aggregate', 'Completed', 'è€—æ—¶: $(vStage3Duration)');
            
        ELSE
            CALL SendAlert('æ•°æ®è½¬æ¢å¤±è´¥', 'è¯·æ£€æŸ¥è½¬æ¢è„šæœ¬');
        END IF
        
    ELSE
        CALL SendAlert('åŸå§‹æ•°æ®åŠ è½½å¤±è´¥', 'è¯·æ£€æŸ¥æ•°æ®æº');
    END IF
    
    TRACE ===== æ•°æ®å¤„ç†æµæ°´çº¿ç»“æŸ =====;
    
END SUB

// 2. å¹¶è¡Œå¤„ç†
SUB ParallelProcessing()
    
    // åŒæ—¶å¤„ç†å¤šä¸ªä¸ç›¸å…³çš„æ•°æ®æº
    CALL LoadCustomerData();
    CALL LoadProductData();
    CALL LoadSalesData();
    
    // ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆ
    // åœ¨QMCä¸­é…ç½®å¹¶è¡Œä»»åŠ¡
    
END SUB
```

### 11.4.3 é”™è¯¯å¤„ç†å’Œæ¢å¤

```qlik
// 1. é”™è¯¯å¤„ç†æœºåˆ¶
SUB RobustDataLoad()
    
    // ä¿å­˜åˆå§‹é”™è¯¯è®¡æ•°
    LET vInitialErrorCount = ScriptErrorCount;
    
    // å°è¯•åŠ è½½æ•°æ®
    SalesData:
    LOAD * FROM [lib://Data/sales.csv] (txt);
    
    // æ£€æŸ¥æ˜¯å¦å‡ºé”™
    IF ScriptErrorCount > vInitialErrorCount THEN
        TRACE æ•°æ®åŠ è½½å‡ºé”™ï¼Œå°è¯•å¤‡ç”¨æ–¹æ¡ˆ;
        
        // åˆ é™¤ä¸å®Œæ•´çš„è¡¨
        DROP Table SalesData;
        
        // å°è¯•å¤‡ç”¨æ•°æ®æº
        SalesData:
        LOAD * FROM [lib://Backup/sales_backup.csv] (txt);
        
        // è®°å½•é”™è¯¯
        CALL LogError('SalesData_Load', ScriptError, 'ä½¿ç”¨äº†å¤‡ç”¨æ•°æ®æº');
        
    END IF
    
END SUB

// 2. æ•°æ®éªŒè¯
SUB ValidateData()
    
    // åŠ è½½æ•°æ®
    Sales:
    LOAD * FROM sales.qvd (qvd);
    
    // æ•°æ®éªŒè¯æ£€æŸ¥
    ValidationErrors:
    LOAD
        'ç©ºè®¢å•ID' as ErrorType,
        Count(*) as ErrorCount
    RESIDENT Sales
    WHERE IsNull(OrderID) OR Len(Trim(OrderID)) = 0;
    
    CONCATENATE (ValidationErrors)
    LOAD
        'è´Ÿé‡‘é¢' as ErrorType,
        Count(*) as ErrorCount
    RESIDENT Sales
    WHERE Amount < 0;
    
    // æ£€æŸ¥éªŒè¯ç»“æœ
    IF Sum(ErrorCount) > 0 THEN
        TRACE æ•°æ®éªŒè¯å¤±è´¥ï¼Œå‘ç°é”™è¯¯;
        // å¤„ç†é”™è¯¯æ•°æ®
        CALL HandleDataErrors();
    ELSE
        TRACE æ•°æ®éªŒè¯é€šè¿‡;
    END IF
    
    DROP Table ValidationErrors;
    
END SUB

// 3. æ¢å¤æœºåˆ¶
SUB RecoveryMechanism()
    
    // æ£€æŸ¥ä¸Šæ¬¡æ‰§è¡ŒçŠ¶æ€
    LET vLastExecutionStatus = Peek('Status', -1, 'ExecutionLog');
    
    IF vLastExecutionStatus = 'Failed' THEN
        TRACE æ£€æµ‹åˆ°ä¸Šæ¬¡æ‰§è¡Œå¤±è´¥ï¼Œå¯åŠ¨æ¢å¤æµç¨‹;
        
        // æ‰§è¡Œæ¢å¤æ“ä½œ
        CALL RecoveryProcess();
        
        // è®°å½•æ¢å¤
        CALL LogRecovery('æ•°æ®åŠ è½½æ¢å¤', 'ä»ä¸Šæ¬¡å¤±è´¥ç‚¹ç»§ç»­æ‰§è¡Œ');
    END IF
    
END SUB
```

---

## 11.5 è‡ªå®šä¹‰ä¸»é¢˜å’Œæ ·å¼

### 11.5.1 ä¸»é¢˜å¼€å‘

```json
// 1. è‡ªå®šä¹‰ä¸»é¢˜æ–‡ä»¶ç»“æ„
MyTheme/
â”œâ”€â”€ MyTheme.json          // ä¸»é¢˜å®šä¹‰æ–‡ä»¶
â”œâ”€â”€ preview.png           // é¢„è§ˆå›¾ç‰‡
â””â”€â”€ assets/               // èµ„æºæ–‡ä»¶
    â”œâ”€â”€ fonts/           // å­—ä½“æ–‡ä»¶
    â””â”€â”€ images/          // å›¾ç‰‡èµ„æº

// 2. ä¸»é¢˜JSONç»“æ„
{
  "_inherits": "default",
  "_variables": {
    "@defaultFontSize": "14px",
    "@defaultFontFamily": "Arial, sans-serif"
  },
  "color": "@blue",
  "background-color": "@white",
  "font-size": "@defaultFontSize",
  "font-family": "@defaultFontFamily",
  "coloring": {
    "primary": "#007acc",
    "secondary": "#666666",
    "success": "#46a546",
    "warning": "#f89406",
    "danger": "#cc3300",
    "info": "#3399f3"
  }
}
```

### 11.5.2 æ ·å¼å®šåˆ¶

```css
/* 1. è‡ªå®šä¹‰CSSæ ·å¼ */

/* ä»ªè¡¨æ¿æ ·å¼ */
.qv-panel-sheet {
    background-color: #f5f5f5;
    padding: 20px;
}

/* å›¾è¡¨æ ‡é¢˜æ ·å¼ */
.qv-object-title {
    font-family: 'Microsoft YaHei', Arial, sans-serif;
    font-size: 18px;
    color: #333;
    border-bottom: 2px solid #007acc;
    padding-bottom: 10px;
    margin-bottom: 15px;
}

/* KPIå¯¹è±¡æ ·å¼ */
.kpi-container {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 10px;
    padding: 20px;
    text-align: center;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

.kpi-value {
    font-size: 36px;
    font-weight: bold;
    color: white;
    margin: 10px 0;
}

.kpi-label {
    font-size: 14px;
    color: rgba(255,255,255,0.8);
}

/* è¡¨æ ¼æ ·å¼ */
.qv-st-data-table {
    border-collapse: collapse;
    width: 100%;
}

.qv-st-data-table th {
    background-color: #007acc;
    color: white;
    padding: 12px;
    text-align: left;
}

.qv-st-data-table td {
    padding: 12px;
    border-bottom: 1px solid #ddd;
}

.qv-st-data-table tr:nth-child(even) {
    background-color: #f9f9f9;
}

.qv-st-data-table tr:hover {
    background-color: #f5f5f5;
}
```

### 11.5.3 å“åº”å¼è®¾è®¡

```css
/* 1. åª’ä½“æŸ¥è¯¢ */
@media (max-width: 768px) {
    /* ç§»åŠ¨ç«¯æ ·å¼ */
    .qv-panel-sheet {
        padding: 10px;
    }
    
    .kpi-value {
        font-size: 24px;
    }
    
    .qv-object-title {
        font-size: 16px;
    }
}

@media (max-width: 480px) {
    /* å°å±å¹•æ ·å¼ */
    .qv-st-data-table {
        font-size: 12px;
    }
    
    .qv-st-data-table th,
    .qv-st-data-table td {
        padding: 8px;
    }
}

/* 2. ç½‘æ ¼ç³»ç»Ÿ */
.container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    padding: 20px;
}

.grid-item {
    min-width: 0;
    overflow: hidden;
}

/* 3. å¼¹æ€§å¸ƒå±€ */
.flex-container {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
}

.flex-item {
    flex: 1 1 300px;
    min-width: 0;
}
```

---

## 11.6 ç§»åŠ¨ç«¯åº”ç”¨å¼€å‘

### 11.6.1 ç§»åŠ¨ç«¯ä¼˜åŒ–

```qlik
// 1. ç§»åŠ¨ç«¯ä¸“ç”¨å¸ƒå±€

// åˆ›å»ºç§»åŠ¨ç«¯è§†å›¾
ç§»åŠ¨ç«¯ä»ªè¡¨æ¿:
LOAD
    // ç®€åŒ–å­—æ®µ
    æ ¸å¿ƒæŒ‡æ ‡1,
    æ ¸å¿ƒæŒ‡æ ‡2,
    æ ¸å¿ƒæŒ‡æ ‡3,
    // é¢„èšåˆæ•°æ®
    æœˆåº¦æ±‡æ€»,
    å­£åº¦è¶‹åŠ¿
RESIDENT åŸå§‹æ•°æ®
WHERE è®¾å¤‡ç±»å‹ = 'ç§»åŠ¨ç«¯';

// 2. è§¦æ§ä¼˜åŒ–
// åœ¨Extensionsä¸­æ·»åŠ è§¦æ§æ”¯æŒ
paint: function ( $element, layout ) {
    
    // æ·»åŠ è§¦æ§äº‹ä»¶
    $element.on( 'touchstart', '.touch-item', function ( e ) {
        e.preventDefault();
        $( this ).addClass( 'touch-active' );
    } );
    
    $element.on( 'touchend', '.touch-item', function ( e ) {
        e.preventDefault();
        $( this ).removeClass( 'touch-active' );
        
        // å¤„ç†ç‚¹å‡»
        var value = $( this ).data( 'value' );
        self.backendApi.selectValues( 0, [value], true );
    } );
}
```

### 11.6.2 æ€§èƒ½ä¼˜åŒ–

```javascript
// 1. ç§»åŠ¨ç«¯æ€§èƒ½ä¼˜åŒ–

// æ•°æ®é‡‡æ ·
app.createCube( {
    qDimensions: [{
        qDef: {
            qFieldDefs: ['æ—¥æœŸ']
        }
    }],
    qMeasures: [{
        qDef: {
            qDef: '=Sum(é”€å”®é¢)'
        }
    }],
    qInitialDataFetch: [{
        qTop: 0,
        qLeft: 0,
        qWidth: 2,
        // é™åˆ¶ç§»åŠ¨ç«¯æ•°æ®é‡
        qHeight: $(window).width() < 768 ? 100 : 1000
    }]
}, function ( reply ) {
    // å¤„ç†ç§»åŠ¨ç«¯ä¼˜åŒ–çš„æ•°æ®
    processDataForMobile( reply );
} );

// 2. å»¶è¿ŸåŠ è½½
// ç§»åŠ¨ç«¯å»¶è¿ŸåŠ è½½éå…³é”®å¯¹è±¡
if ( isMobile() ) {
    setTimeout( function () {
        loadNonCriticalObjects();
    }, 2000 );
}

// 3. å›¾åƒä¼˜åŒ–
// ä½¿ç”¨å“åº”å¼å›¾ç‰‡
function loadImageForDevice( baseImageUrl ) {
    var devicePixelRatio = window.devicePixelRatio || 1;
    var screenWidth = $(window).width();
    
    if ( screenWidth < 480 ) {
        return baseImageUrl + '_small.png';
    } else if ( screenWidth < 768 ) {
        return baseImageUrl + '_medium.png';
    } else {
        return baseImageUrl + '_large.png';
    }
}
```

### 11.6.3 ç¦»çº¿æ”¯æŒ

```javascript
// 1. æœ¬åœ°å­˜å‚¨
// ä½¿ç”¨localStorageç¼“å­˜å…³é”®æ•°æ®
function cacheDataLocally( key, data ) {
    try {
        localStorage.setItem( key, JSON.stringify( data ) );
        localStorage.setItem( key + '_timestamp', Date.now() );
    } catch ( e ) {
        console.log( 'æœ¬åœ°å­˜å‚¨å¤±è´¥:', e );
    }
}

function getCachedData( key, maxAge ) {
    var cachedData = localStorage.getItem( key );
    var timestamp = localStorage.getItem( key + '_timestamp' );
    
    if ( cachedData && timestamp ) {
        var age = Date.now() - parseInt( timestamp );
        if ( age < maxAge ) {
            return JSON.parse( cachedData );
        }
    }
    
    return null;
}

// 2. Service Workeræ”¯æŒ
// æ³¨å†ŒService Workerå®ç°ç¦»çº¿åŠŸèƒ½
if ( 'serviceWorker' in navigator ) {
    navigator.serviceWorker.register( '/sw.js' ).then( function ( registration ) {
        console.log( 'Service Workeræ³¨å†ŒæˆåŠŸ' );
    } ).catch( function ( error ) {
        console.log( 'Service Workeræ³¨å†Œå¤±è´¥:', error );
    } );
}
```

---

## 11.7 ç¬¬ä¸‰æ–¹ç³»ç»Ÿé›†æˆ

### 11.7.1 REST APIé›†æˆ

```qlik
// 1. è°ƒç”¨å¤–éƒ¨REST API

// ä½¿ç”¨LIB CONNECT TOè¿æ¥RESTæœåŠ¡
LIB CONNECT TO 'ExternalAPI';

// è·å–æ•°æ®
RestData:
SQL SELECT 
    "id",
    "name",
    "value",
    "timestamp"
FROM JSON (wrap on) "root"
WITH CONNECTION (
    URL "https://api.example.com/data",
    HTTPHEADER "Authorization" "Bearer $(vAccessToken)"
);

// 2. æ•°æ®å¤„ç†å’Œå­˜å‚¨
ProcessedRestData:
LOAD
    id as ExternalID,
    name as ExternalName,
    Num(value) as ExternalValue,
    Date(timestamp) as ExternalDate
RESIDENT RestData;

STORE ProcessedRestData INTO [lib://QVD/ExternalData.qvd] (qvd);
DROP Tables RestData, ProcessedRestData;
```

### 11.7.2 æ•°æ®åº“é›†æˆ

```qlik
// 1. å¤šæ•°æ®åº“è¿æ¥

// SQL Serverè¿æ¥
LIB CONNECT TO 'SQLServer_Prod';
SalesData:
SQL SELECT 
    OrderID,
    CustomerID,
    ProductID,
    Amount,
    OrderDate
FROM Sales;

// Oracleè¿æ¥
LIB CONNECT TO 'Oracle_Financial';
FinancialData:
SQL SELECT 
    AccountID,
    AccountName,
    Balance,
    Period
FROM FinancialAccounts;

// MySQLè¿æ¥
LIB CONNECT TO 'MySQL_Inventory';
InventoryData:
SQL SELECT 
    ProductID,
    StockQuantity,
    LastUpdated
FROM Inventory;

// 2. æ•°æ®æ•´åˆ
IntegratedData:
LOAD
    s.OrderID,
    s.CustomerID,
    s.ProductID,
    s.Amount,
    s.OrderDate,
    f.Balance,
    i.StockQuantity
RESIDENT SalesData s
LEFT JOIN (FinancialData f) ON s.CustomerID = f.AccountID
LEFT JOIN (InventoryData i) ON s.ProductID = i.ProductID;
```

### 11.7.3 å•ç‚¹ç™»å½•é›†æˆ

```javascript
// 1. JWTé›†æˆ
// åœ¨Mashupä¸­é›†æˆJWTè®¤è¯

require( ["js/qlik"], function ( qlik ) {
    
    // è·å–JWTä»¤ç‰Œ
    function getJWTToken() {
        // ä»è®¤è¯æœåŠ¡è·å–ä»¤ç‰Œ
        return fetch( '/api/auth/token' )
            .then( response => response.json() )
            .then( data => data.token );
    }
    
    // ä½¿ç”¨JWTè¿æ¥Qlik Sense
    getJWTToken().then( function ( token ) {
        var config = {
            host: window.location.hostname,
            port: window.location.port,
            prefix: "/",
            isSecure: window.location.protocol === "https:",
            webIntegrationId: "your-web-integration-id",
            jwt: token
        };
        
        var app = qlik.openApp( 'your-app.qvf', config );
        
        // åº”ç”¨å¯¹è±¡
        app.getObject( 'QV01', 'object-id' );
    } );
} );

// 2. SAMLé›†æˆ
// é…ç½®Qlik Sense SAMLè®¤è¯
// åœ¨QMCä¸­é…ç½®:
// - Identity Providerè®¾ç½®
// - æœåŠ¡æä¾›è€…å…ƒæ•°æ®
// - ç”¨æˆ·å±æ€§æ˜ å°„
// - ç»„æ˜ å°„
```

---

## 11.8 å®éªŒ:ç»¼åˆä¼ä¸šåº”ç”¨

### å®éªŒ1: é”€å”®åˆ†æä»ªè¡¨æ¿æ‰©å±•

```javascript
///$tab é”€å”®åˆ†ææ‰©å±•

// 1. è‡ªå®šä¹‰é”€å”®è¶‹åŠ¿æ‰©å±•
define( [
    'qlik',
    'text!./sales-trend.html',
    'text!./sales-trend.css'
], function ( qlik, template, cssContent ) {
    'use strict';
    
    $( '<style>' ).html( cssContent ).appendTo( 'head' );
    
    return {
        definition: {
            type: "items",
            component: "accordion",
            items: {
                settings: {
                    uses: "settings",
                    items: {
                        trendType: {
                            ref: "props.trendType",
                            label: "è¶‹åŠ¿ç±»å‹",
                            type: "string",
                            component: "dropdown",
                            options: [
                                { value: "line", label: "æŠ˜çº¿å›¾" },
                                { value: "bar", label: "æŸ±çŠ¶å›¾" },
                                { value: "area", label: "é¢ç§¯å›¾" }
                            ],
                            defaultValue: "line"
                        },
                        showForecast: {
                            ref: "props.showForecast",
                            label: "æ˜¾ç¤ºé¢„æµ‹",
                            type: "boolean",
                            defaultValue: false
                        }
                    }
                }
            }
        },
        
        paint: function ( $element, layout ) {
            var self = this;
            var data = layout.qHyperCube.qDataPages[0].qMatrix;
            
            // å¤„ç†æ•°æ®
            var processedData = data.map( function ( row ) {
                return {
                    date: row[0].qText,
                    actual: row[1].qNum,
                    forecast: row[2] ? row[2].qNum : null
                };
            } );
            
            // æ¸²æŸ“å›¾è¡¨
            renderChart( $element, processedData, layout.props );
        }
    };
    
    function renderChart( $element, data, props ) {
        // ä½¿ç”¨Chart.jsæ¸²æŸ“å›¾è¡¨
        var ctx = $element[0].getContext( '2d' );
        var chart = new Chart( ctx, {
            type: props.trendType,
            data: {
                labels: data.map( d => d.date ),
                datasets: [{
                    label: 'å®é™…é”€å”®',
                    data: data.map( d => d.actual ),
                    borderColor: 'rgb(75, 192, 192)',
                    backgroundColor: props.trendType === 'area' ? 'rgba(75, 192, 192, 0.2)' : 'transparent'
                }, {
                    label: 'é¢„æµ‹é”€å”®',
                    data: data.map( d => d.forecast ),
                    borderColor: 'rgb(255, 99, 132)',
                    borderDash: [5, 5],
                    hidden: !props.showForecast
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false
            }
        } );
    }
} );
```

### å®éªŒ2: ä¼ä¸šé—¨æˆ·é›†æˆ

```html
///$tab ä¼ä¸šé—¨æˆ·é›†æˆ

<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¼ä¸šåˆ†æé—¨æˆ·</title>
    <link rel="stylesheet" href="https://<hostname>/resources/autogenerated/qlik-styles.css">
    <style>
        .portal-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
            padding: 20px;
        }
        
        .dashboard-card {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .card-header {
            background: #007acc;
            color: white;
            padding: 15px;
            font-size: 16px;
            font-weight: bold;
        }
        
        .card-content {
            height: 300px;
        }
        
        @media (max-width: 768px) {
            .portal-container {
                grid-template-columns: 1fr;
                padding: 10px;
            }
            
            .card-content {
                height: 250px;
            }
        }
    </style>
</head>
<body>
    <div class="portal-container">
        <div class="dashboard-card">
            <div class="card-header">é”€å”®ä»ªè¡¨æ¿</div>
            <div id="sales-dashboard" class="card-content"></div>
        </div>
        
        <div class="dashboard-card">
            <div class="card-header">è´¢åŠ¡åˆ†æ</div>
            <div id="finance-dashboard" class="card-content"></div>
        </div>
        
        <div class="dashboard-card">
            <div class="card-header">å®¢æˆ·æ´å¯Ÿ</div>
            <div id="customer-dashboard" class="card-content"></div>
        </div>
    </div>
    
    <script src="https://<hostname>/resources/js/qlik.js"></script>
    <script>
        require( ["js/qlik"], function ( qlik ) {
            // é…ç½®è¿æ¥
            var config = {
                host: window.location.hostname,
                port: window.location.port,
                prefix: "/",
                isSecure: window.location.protocol === "https:"
            };
            
            // æ‰“å¼€åº”ç”¨å¹¶åµŒå…¥å¯¹è±¡
            var salesApp = qlik.openApp( 'sales.qvf', config );
            salesApp.getObject( 'sales-dashboard', 'sales-object-id' );
            
            var financeApp = qlik.openApp( 'finance.qvf', config );
            financeApp.getObject( 'finance-dashboard', 'finance-object-id' );
            
            var customerApp = qlik.openApp( 'customer.qvf', config );
            customerApp.getObject( 'customer-dashboard', 'customer-object-id' );
        } );
    </script>
</body>
</html>
```

---

## 11.9 è¯¾åç»ƒä¹ 

### ç»ƒä¹ 1: Extensionså¼€å‘

**ä»»åŠ¡**: å¼€å‘ä¸€ä¸ªè‡ªå®šä¹‰å¯è§†åŒ–æ‰©å±•
- å®ç°ç‰¹å®šçš„å›¾è¡¨ç±»å‹
- æ·»åŠ äº¤äº’åŠŸèƒ½
- æ”¯æŒç§»åŠ¨ç«¯æ˜¾ç¤º

### ç»ƒä¹ 2: Mashupé›†æˆ

**ä»»åŠ¡**: åˆ›å»ºä¼ä¸šé—¨æˆ·é›†æˆæ–¹æ¡ˆ
- é›†æˆå¤šä¸ªQlik Senseåº”ç”¨
- å®ç°å•ç‚¹ç™»å½•
- ä¼˜åŒ–ç§»åŠ¨ç«¯ä½“éªŒ

### ç»ƒä¹ 3: è‡ªåŠ¨åŒ–ç³»ç»Ÿ

**ä»»åŠ¡**: è®¾è®¡ä¼ä¸šçº§è‡ªåŠ¨åŒ–è°ƒåº¦ç³»ç»Ÿ
- å®ç°å¤æ‚çš„æ•°æ®å¤„ç†æµæ°´çº¿
- å»ºç«‹ç›‘æ§å’Œé€šçŸ¥æœºåˆ¶
- å¤„ç†é”™è¯¯å’Œæ¢å¤

---

## 11.10 æœ¬ç« å°ç»“

### æ ¸å¿ƒçŸ¥è¯†ç‚¹

âœ… **Extensionså¼€å‘**: åŸºç¡€ç»“æ„ã€æ•°æ®å¤„ç†ã€äº¤äº’åŠŸèƒ½  
âœ… **Mashup API**: è¿æ¥é›†æˆã€å¯¹è±¡åµŒå…¥ã€é«˜çº§åŠŸèƒ½  
âœ… **è‡ªåŠ¨åŒ–è°ƒåº¦**: ä»»åŠ¡ç®¡ç†ã€å¤–éƒ¨è§¦å‘ã€é€šçŸ¥ç›‘æ§  
âœ… **æ•°æ®æµç®¡ç†**: åˆ†å±‚è®¾è®¡ã€ä¾èµ–ç®¡ç†ã€é”™è¯¯æ¢å¤  
âœ… **ä¸»é¢˜å®šåˆ¶**: è‡ªå®šä¹‰ä¸»é¢˜ã€æ ·å¼ä¼˜åŒ–ã€å“åº”è®¾è®¡  
âœ… **ç§»åŠ¨ç«¯å¼€å‘**: ä¼˜åŒ–é€‚é…ã€æ€§èƒ½æå‡ã€ç¦»çº¿æ”¯æŒ  
âœ… **ç³»ç»Ÿé›†æˆ**: REST APIã€æ•°æ®åº“ã€å•ç‚¹ç™»å½•  

### å…³é”®æŠ€æœ¯

```javascript
// Extensionså¼€å‘
define(['qlik'], function(qlik) {
    return {
        paint: function($element, layout) {
            // æ¸²æŸ“é€»è¾‘
        }
    };
});

// Mashupé›†æˆ
qlik.openApp('app.qvf', config).then(function(app) {
    app.getObject('container', 'object-id');
});

// è‡ªåŠ¨åŒ–è°ƒåº¦
SUB ScheduledTask()
    CALL LoadData()
    CALL ProcessData()
    CALL NotifyCompletion()
END SUB
```

### æœ€ä½³å®è·µ

1. **æ¨¡å—åŒ–å¼€å‘**: å°†å¤æ‚åŠŸèƒ½åˆ†è§£ä¸ºç‹¬ç«‹æ¨¡å—
2. **æ€§èƒ½ä¼˜åŒ–**: è€ƒè™‘ç§»åŠ¨ç«¯å’Œä½æ€§èƒ½è®¾å¤‡
3. **é”™è¯¯å¤„ç†**: å»ºç«‹å®Œå–„çš„é”™è¯¯å¤„ç†å’Œæ¢å¤æœºåˆ¶
4. **å®‰å…¨æ€§**: éµå¾ªå®‰å…¨æœ€ä½³å®è·µ
5. **æ–‡æ¡£åŒ–**: å®Œæ•´è®°å½•å¼€å‘å’Œé…ç½®è¿‡ç¨‹

### ä¸‹ä¸€ç« é¢„å‘Š

**ç¬¬12ç«  - å®æˆ˜é¡¹ç›®**,å°†å­¦ä¹ :
- ğŸ¢ ä¼ä¸šçº§é”€å”®åˆ†æé¡¹ç›®
- ğŸ’° è´¢åŠ¡ç®¡æ§ä»ªè¡¨æ¿é¡¹ç›®
- ğŸ“¦ ä¾›åº”é“¾å¯è§†åŒ–é¡¹ç›®
- ğŸ‘¥ å®¢æˆ·è¡Œä¸ºåˆ†æé¡¹ç›®
- ğŸ“Š å®æ—¶ç›‘æ§å¤§å±é¡¹ç›®

---

[â† ä¸Šä¸€ç« ](./10-å®‰å…¨ä¸æ²»ç†.md) | [è¿”å›ç›®å½•](./README.md) | [ä¸‹ä¸€ç« : å®æˆ˜é¡¹ç›® â†’](./12-å®æˆ˜é¡¹ç›®.md)
