# Prometheus配置文件
# 由Ansible管理，请勿手动修改

global:
  scrape_interval: {{ prometheus_scrape_interval }}
  evaluation_interval: {{ prometheus_evaluation_interval }}

rule_files:
{% for rule_file in prometheus_rule_files %}
  - "{{ rule_file }}"
{% endfor %}

scrape_configs:
{% for job in prometheus_scrape_configs %}
  - job_name: '{{ job.name }}'
    static_configs:
{% for target in job.targets %}
      - targets: ['{{ target }}']
{% endfor %}
{% if job.labels is defined %}
    labels:
{% for key, value in job.labels.items() %}
      {{ key }}: '{{ value }}'
{% endfor %}
{% endif %}
{% endfor %}