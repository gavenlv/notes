checks for events:
  # Events table checks
  - row_count > 0:
      name: Events table has data

  - freshness(event_time) < 2h:
      name: Recent event data

  - missing_count(user_id) = 0:
      name: User ID is required

  - missing_count(event_name) = 0:
      name: Event name is required

  - invalid_count(event_name) = 0:
      name: Valid event names
      valid values: ['click', 'view', 'purchase', 'signup', 'login', 'page_view']

  - failed rows:
      name: Valid timestamps
      fail query: |
        SELECT * FROM events 
        WHERE event_time > now() OR event_time < '2020-01-01'

  - failed rows:
      name: Valid user IDs
      fail query: |
        SELECT * FROM events 
        WHERE user_id = 0

checks for user_sessions:
  # User sessions table checks
  - row_count > 0:
      name: User sessions table has data

  - missing_count(session_id) = 0:
      name: Session ID is required

  - missing_count(user_id) = 0:
      name: User ID is required

  - failed rows:
      name: Valid session duration
      fail query: |
        SELECT * FROM user_sessions 
        WHERE duration_seconds <= 0 OR duration_seconds > 86400

  - failed rows:
      name: Valid page views
      fail query: |
        SELECT * FROM user_sessions 
        WHERE page_views <= 0

  - failed rows:
      name: Valid session times
      fail query: |
        SELECT * FROM user_sessions 
        WHERE start_time > end_time

checks for daily_events_summary:
  # Daily events summary view checks
  - row_count > 0:
      name: Daily events summary has data

  - failed rows:
      name: Valid event counts
      fail query: |
        SELECT * FROM daily_events_summary 
        WHERE event_count <= 0

checks for user_activity_view:
  # User activity view checks
  - row_count > 0:
      name: User activity view has data

  - failed rows:
      name: Valid activity data
      fail query: |
        SELECT * FROM user_activity_view 
        WHERE total_events <= 0 OR activity_span_hours < 0
