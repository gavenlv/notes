# 第一章：Spring Boot 简介与环境搭建

## 1.1 什么是 Spring Boot？

Spring Boot 是由 Pivotal 团队提供的全新框架，其设计目的是用来简化新 Spring 应用的初始搭建以及开发过程。该框架使用了特定的方式来进行配置，从而使开发人员不再需要定义样板化的配置。通过这种方式，Spring Boot 致力于在蓬勃发展的快速应用开发领域（RAD）成为领导者。

### 1.1.1 Spring Boot 的优势

1. **自动配置**：Spring Boot 会根据你添加的 jar 依赖自动配置你的 Spring 应用。
2. **起步依赖**：提供了一系列的 starter 依赖，简化了 Maven/Gradle 配置。
3. **内嵌服务器**：内嵌了 Tomcat、Jetty 和 Undertow 服务器，可以直接运行应用程序。
4. **生产就绪特性**：提供了健康检查、指标监控、外部化配置等生产环境所需的特性。
5. **无代码生成和 XML 配置**：不需要任何代码生成和 XML 配置就能实现 Spring 的所有配置。

### 1.1.2 Spring Boot 的核心理念

- **约定优于配置**：Spring Boot 提供了一套默认配置，让开发者可以快速启动项目。
- **开箱即用**：大部分功能都可以通过简单的依赖引入即可使用。
- **独立运行**：Spring Boot 内置了 Web 服务器，可以打包成 jar 文件独立运行。

## 1.2 环境准备

在开始学习 Spring Boot 之前，我们需要准备一些必要的开发环境。

### 1.2.1 JDK 安装

Spring Boot 支持 Java 8 及以上版本。我们推荐使用 Java 11 或更高版本。

1. 访问 [Oracle JDK 下载页面](https://www.oracle.com/java/technologies/downloads/) 或 [OpenJDK](https://openjdk.org/)
2. 下载适用于您操作系统的 JDK 版本
3. 安装 JDK 并配置环境变量

验证安装：
```bash
java -version
javac -version
```

### 1.2.2 Maven 安装

Maven 是一个项目管理和构建自动化工具。

1. 访问 [Maven 官网](https://maven.apache.org/download.cgi) 下载最新版本
2. 解压到指定目录
3. 配置环境变量

验证安装：
```bash
mvn -v
```

### 1.2.3 IDE 选择

推荐使用以下 IDE：
- IntelliJ IDEA（推荐）
- Eclipse
- VS Code

## 1.3 创建第一个 Spring Boot 项目

### 1.3.1 使用 Spring Initializr 创建项目

Spring Initializr 是一个快速生成 Spring Boot 项目的在线工具。

1. 访问 [Spring Initializr](https://start.spring.io/)
2. 选择项目类型（Maven Project 或 Gradle Project）
3. 选择语言（Java）
4. 选择 Spring Boot 版本
5. 填写项目元数据（Group、Artifact、Name、Description 等）
6. 添加依赖项（例如：Spring Web）
7. 点击 Generate 下载项目

### 1.3.2 项目结构解析

生成的项目结构如下：
```
demo/
├── src/
│   ├── main/
│   │   ├── java/
│   │   │   └── com/example/demo/
│   │   │       └── DemoApplication.java
│   │   └── resources/
│   │       ├── application.properties
│   │       ├── static/
│   │       └── templates/
│   └── test/
│       └── java/
│           └── com/example/demo/
│               └── DemoApplicationTests.java
├── pom.xml
└── mvnw
```

### 1.3.3 主程序类解析

```java
package com.example.demo;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class DemoApplication {

    public static void main(String[] args) {
        SpringApplication.run(DemoApplication.class, args);
    }

}
```

- `@SpringBootApplication`：这是一个组合注解，包含了：
  - `@Configuration`：标识该类是一个配置类
  - `@EnableAutoConfiguration`：启用 Spring Boot 的自动配置机制
  - `@ComponentScan`：启用组件扫描

### 1.3.4 启动应用程序

可以通过以下几种方式启动应用程序：

1. 在 IDE 中运行主类的 main 方法
2. 使用 Maven 命令：
   ```bash
   mvn spring-boot:run
   ```
3. 打包后运行：
   ```bash
   mvn clean package
   java -jar target/demo-0.0.1-SNAPSHOT.jar
   ```

## 1.4 实践案例：创建一个简单的 Web 应用

让我们创建一个简单的 Web 应用来演示 Spring Boot 的强大功能。

### 1.4.1 添加 Web 依赖

在 `pom.xml` 中确保有以下依赖：

```xml
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-web</artifactId>
</dependency>
```

### 1.4.2 创建控制器

创建一个新的控制器类 `HelloController.java`：

```java
package com.example.demo.controller;

import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class HelloController {

    @GetMapping("/hello")
    public String hello() {
        return "Hello, Spring Boot!";
    }
}
```

### 1.4.3 运行并测试

1. 启动应用程序
2. 打开浏览器访问 `http://localhost:8080/hello`
3. 应该能看到返回的 "Hello, Spring Boot!" 字符串

## 1.5 配置文件详解

Spring Boot 使用 `application.properties` 或 `application.yml` 作为配置文件。

### 1.5.1 application.properties 示例

```properties
# 服务器端口配置
server.port=8080

# 应用名称
spring.application.name=demo

# 日志配置
logging.level.com.example.demo=DEBUG
```

### 1.5.2 application.yml 示例

```yaml
server:
  port: 8080

spring:
  application:
    name: demo

logging:
  level:
    com.example.demo: DEBUG
```

## 1.6 最佳实践

1. **命名规范**：遵循 Java 命名规范，包名使用小写字母
2. **项目结构**：合理组织包结构，按功能划分
3. **配置管理**：敏感信息不要硬编码在代码中，使用配置文件或环境变量
4. **日志记录**：合理使用日志记录，便于问题排查
5. **版本控制**：使用 Git 进行版本控制

## 1.7 总结

本章我们学习了 Spring Boot 的基本概念、优势和设计理念，完成了开发环境的搭建，并创建了一个简单的 Web 应用程序。我们还介绍了 Spring Boot 项目的结构和配置文件的基本使用方法。

在下一章中，我们将深入学习 Spring Boot 的核心概念和基础入门知识。

## 附录：完整可运行代码

本章的完整代码示例可以在 [code/chapter1](code/chapter1/) 目录中找到。