\u003c!DOCTYPE html\u003e
\u003chtml lang="zh-CN"\u003e
\u003chead\u003e
    \u003cmeta charset="UTF-8"\u003e
    \u003cmeta name="viewport" content="width=device-width, initial-scale=1.0"\u003e
    \u003ctitle\u003eå‰ç«¯å·¥ç¨‹åŒ–å®è·µ - é«˜çº§å¼€å‘æŒ‡å—\u003c/title\u003e
    \u003cstyle\u003e
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 40px 0;
            text-align: center;
            margin-bottom: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        h2 {
            color: #4a5568;
            margin: 30px 0 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e2e8f0;
        }
        
        h3 {
            color: #2d3748;
            margin: 25px 0 15px;
        }
        
        p {
            margin-bottom: 16px;
            font-size: 1.05em;
        }
        
        .section {
            background: white;
            padding: 30px;
            margin-bottom: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        
        pre {
            background-color: #282c34;
            color: #abb2bf;
            padding: 20px;
            border-radius: 6px;
            overflow-x: auto;
            font-family: 'Courier New', Courier, monospace;
            margin: 20px 0;
        }
        
        code {
            font-family: 'Courier New', Courier, monospace;
            background-color: #f1f1f1;
            padding: 2px 6px;
            border-radius: 4px;
        }
        
        .demo-area {
            background-color: #f7fafc;
            padding: 20px;
            border-left: 4px solid #1e3c72;
            margin: 20px 0;
            border-radius: 0 6px 6px 0;
        }
        
        button {
            background-color: #1e3c72;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #2a5298;
        }
        
        .result {
            margin-top: 20px;
            padding: 15px;
            background-color: #e6fffa;
            border: 1px solid #b2f5ea;
            border-radius: 4px;
            min-height: 50px;
        }
        
        ul, ol {
            margin-left: 20px;
            margin-bottom: 16px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        .highlight {
            background-color: #fffaf0;
            padding: 2px 4px;
            border-radius: 3px;
            font-weight: 500;
        }
        
        .workflow-diagram {
            background-color: #f7fafc;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: center;
        }
        
        .workflow-step {
            display: inline-block;
            background-color: #2a5298;
            color: white;
            padding: 10px 20px;
            border-radius: 4px;
            margin: 0 10px;
        }
        
        .workflow-arrow {
            display: inline-block;
            margin: 0 5px;
            font-size: 20px;
            color: #4a5568;
        }
    \u003c/style\u003e
\u003c/head\u003e
\u003cbody\u003e
    \u003cdiv class="container"\u003e
        \u003cheader\u003e
            \u003ch1\u003eå‰ç«¯å·¥ç¨‹åŒ–å®è·µ\u003c/h1\u003e
            \u003cp\u003eç°ä»£å‰ç«¯å¼€å‘æµç¨‹çš„æ ‡å‡†åŒ–ä¸è‡ªåŠ¨åŒ–\u003c/p\u003e
        \u003c/header\u003e
        
        \u003cdiv class="section"\u003e
            \u003ch2\u003e1. å‰ç«¯å·¥ç¨‹åŒ–æ¦‚è¿°\u003c/h2\u003e
            \u003cp\u003eå‰ç«¯å·¥ç¨‹åŒ–æ˜¯æŒ‡å°†è½¯ä»¶å·¥ç¨‹çš„æ–¹æ³•å’ŒåŸåˆ™åº”ç”¨äºå‰ç«¯å¼€å‘ï¼Œé€šè¿‡å·¥å…·é“¾ã€æ ‡å‡†åŒ–æµç¨‹å’Œæœ€ä½³å®è·µï¼Œæå‡å¼€å‘æ•ˆç‡å’Œä»£ç è´¨é‡ã€‚\u003c/p\u003e
            
            \u003cdiv class="workflow-diagram"\u003e
                \u003cdiv class="workflow-step"\u003eéœ€æ±‚åˆ†æ\u003c/div\u003e
                \u003cspan class="workflow-arrow"\u003eâ†’\u003c/span\u003e
                \u003cdiv class="workflow-step"\u003eå¼€å‘ç¯å¢ƒæ­å»º\u003c/div\u003e
                \u003cspan class="workflow-arrow"\u003eâ†’\u003c/span\u003e
                \u003cdiv class="workflow-step"\u003eæ¨¡å—åŒ–å¼€å‘\u003c/div\u003e
                \u003cspan class="workflow-arrow"\u003eâ†’\u003c/span\u003e
                \u003cdiv class="workflow-step"\u003eæ„å»ºæ‰“åŒ…\u003c/div\u003e
                \u003cspan class="workflow-arrow"\u003eâ†’\u003c/span\u003e
                \u003cdiv class="workflow-step"\u003eè‡ªåŠ¨åŒ–æµ‹è¯•\u003c/div\u003e
                \u003cspan class="workflow-arrow"\u003eâ†’\u003c/span\u003e
                \u003cdiv class="workflow-step"\u003eéƒ¨ç½²ä¸Šçº¿\u003c/div\u003e
            \u003c/div\u003e
            
            \u003ch3\u003e1.1 æ ¸å¿ƒè¦ç´ \u003c/h3\u003e
            \u003cul\u003e
                \u003cli\u003e\u003cstrong\u003eæ¨¡å—åŒ–\u003c/strong\u003eï¼šå°†ä»£ç æ‹†åˆ†ä¸ºç‹¬ç«‹çš„æ¨¡å—ï¼Œä¾¿äºç»´æŠ¤å’Œå¤ç”¨\u003c/li\u003e
                \u003cli\u003e\u003cstrong\u003eç»„ä»¶åŒ–\u003c/strong\u003eï¼šå°†UIæ‹†åˆ†ä¸ºå¯å¤ç”¨çš„ç»„ä»¶\u003c/li\u003e
                \u003cli\u003e\u003cstrong\u003eè§„èŒƒåŒ–\u003c/strong\u003eï¼šç»Ÿä¸€ä»£ç è§„èŒƒã€ç›®å½•ç»“æ„å’Œå‘½åçº¦å®š\u003c/li\u003e
                \u003cli\u003e\u003cstrong\u003eè‡ªåŠ¨åŒ–\u003c/strong\u003eï¼šè‡ªåŠ¨åŒ–æ„å»ºã€æµ‹è¯•ã€éƒ¨ç½²æµç¨‹\u003c/li\u003e
                \u003cli\u003e\u003cstrong\u003eæ€§èƒ½ä¼˜åŒ–\u003c/strong\u003eï¼šä»£ç å‹ç¼©ã€æŒ‰éœ€åŠ è½½ã€ç¼“å­˜ç­–ç•¥ç­‰\u003c/li\u003e
            \u003c/ul\u003e
        \u003c/div\u003e
        
        \u003cdiv class="section"\u003e
            \u003ch2\u003e2. æ„å»ºå·¥å…·é…ç½®ä¸ä¼˜åŒ–\u003c/h2\u003e
            \u003ch3\u003e2.1 Webpack é«˜çº§é…ç½®\u003c/h3\u003e
            \u003cp\u003eWebpackæ˜¯ç°ä»£å‰ç«¯å·¥ç¨‹åŒ–ä¸­æœ€æµè¡Œçš„æ„å»ºå·¥å…·ä¹‹ä¸€ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›é«˜çº§é…ç½®ç¤ºä¾‹ï¼š\u003c/p\u003e
            
            \u003cpre\u003e// webpack.config.js
const path = require('path');
const HtmlWebpackPlugin = require('html-webpack-plugin');
const MiniCssExtractPlugin = require('mini-css-extract-plugin');
const { CleanWebpackPlugin } = require('clean-webpack-plugin');
const TerserPlugin = require('terser-webpack-plugin');
const OptimizeCSSAssetsPlugin = require('optimize-css-assets-webpack-plugin');

module.exports = {
  mode: process.env.NODE_ENV === 'production' ? 'production' : 'development',
  entry: {
    main: './src/index.js',
    // åˆ†ç¦»ç¬¬ä¸‰æ–¹åº“
    vendor: ['react', 'react-dom']
  },
  output: {
    path: path.resolve(__dirname, 'dist'),
    // ä½¿ç”¨å†…å®¹å“ˆå¸Œè¿›è¡Œç¼“å­˜ä¼˜åŒ–
    filename: '[name].[contenthash].js',
    chunkFilename: '[name].[contenthash].chunk.js'
  },
  optimization: {
    // ä»£ç åˆ†å‰²
    splitChunks: {
      chunks: 'all',
      cacheGroups: {
        vendor: {
          test: /[\/]node_modules[\/]/,
          name(module) {
            const packageName = module.context.match(/[\/]node_modules[\/](.*?)([\/]|$)/)[1];
            return `npm.${packageName.replace('@', '')}`;
          }
        },
        styles: {
          name: 'styles',
          test: /\.css$/,
          chunks: 'all',
          enforce: true
        }
      }
    },
    // è¿è¡Œæ—¶ä»£ç åˆ†å‰²
    runtimeChunk: 'single',
    // ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–
    minimizer: [
      new TerserPlugin({
        terserOptions: {
          compress: {
            drop_console: true
          }
        }
      }),
      new OptimizeCSSAssetsPlugin({})
    ]
  },
  module: {
    rules: [
      {
        test: /\.jsx?$/,
        exclude: /node_modules/,
        use: {
          loader: 'babel-loader',
          options: {
            presets: ['@babel/preset-env', '@babel/preset-react'],
            // å¯ç”¨ç¼“å­˜
            cacheDirectory: true
          }
        }
      },
      {
        test: /\.css$/,
        use: [
          process.env.NODE_ENV === 'production' ?
            MiniCssExtractPlugin.loader : 'style-loader',
          'css-loader',
          {
            loader: 'postcss-loader',
            options: {
              plugins: [require('autoprefixer')]
            }
          }
        ]
      },
      {
        test: /\.(png|jpg|gif|svg)$/,
        use: [
          {
            loader: 'url-loader',
            options: {
              limit: 8192,
              name: 'assets/[name].[hash].[ext]'
            }
          }
        ]
      }
    ]
  },
  plugins: [
    // æ¸…ç†æ„å»ºç›®å½•
    new CleanWebpackPlugin(),
    // ç”ŸæˆHTMLæ–‡ä»¶
    new HtmlWebpackPlugin({
      template: './public/index.html',
      minify: {
        collapseWhitespace: true,
        removeComments: true
      }
    }),
    // æå–CSSåˆ°å•ç‹¬æ–‡ä»¶
    new MiniCssExtractPlugin({
      filename: '[name].[contenthash].css'
    })
  ],
  // å¼€å‘æœåŠ¡å™¨é…ç½®
  devServer: {
    contentBase: './dist',
    port: 3000,
    hot: true,
    proxy: {
      '/api': {
        target: 'http://localhost:8000',
        changeOrigin: true
      }
    }
  },
  // å¼€å‘å·¥å…·
  devtool: process.env.NODE_ENV === 'production' ?
    'source-map' : 'eval-cheap-module-source-map'
};\u003c/pre\u003e
            
            \u003ch3\u003e2.2 Vite é…ç½®ä¸ä¼˜åŠ¿\u003c/h3\u003e
            \u003cp\u003eViteæ˜¯æ–°ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·ï¼Œä»¥å…¶æé€Ÿçš„å¼€å‘æœåŠ¡å™¨å’Œä¼˜åŒ–çš„æ„å»ºè¾“å‡ºè€Œå—åˆ°æ¬¢è¿ï¼š\u003c/p\u003e
            
            \u003cpre\u003e// vite.config.js
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';
import { resolve } from 'path';

export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      '@': resolve(__dirname, 'src')
    }
  },
  css: {
    preprocessorOptions: {
      scss: {
        additionalData: `@import "@/styles/variables.scss";`
      }
    }
  },
  server: {
    port: 3000,
    proxy: {
      '/api': {
        target: 'http://localhost:8000',
        changeOrigin: true
      }
    }
  },
  build: {
    outDir: 'dist',
    assetsDir: 'assets',
    sourcemap: false,
    minify: 'terser',
    terserOptions: {
      compress: {
        drop_console: true
      }
    },
    rollupOptions: {
      output: {
        manualChunks: {
          vendor: ['react', 'react-dom'],
          utils: ['lodash-es', 'date-fns']
        }
      }
    }
  }
});\u003c/pre\u003e
            
            \u003cdiv class="demo-area"\u003e
                \u003ch4\u003eæ„å»ºå·¥å…·æ€§èƒ½å¯¹æ¯”æ¼”ç¤º\u003c/h4\u003e
                \u003cbutton id="buildToolDemoBtn"\u003eè¿è¡Œæ„å»ºå·¥å…·å¯¹æ¯”\u003c/button\u003e
                \u003cdiv id="buildToolResult" class="result"\u003e\u003c/div\u003e
            \u003c/div\u003e
        \u003c/div\u003e
        
        \u003cdiv class="section"\u003e
            \u003ch2\u003e3. ä»£ç è§„èŒƒä¸è´¨é‡ä¿éšœ\u003c/h2\u003e
            \u003ch3\u003e3.1 ESLint ä¸ Prettier é…ç½®\u003c/h3\u003e
            \u003cp\u003eç»Ÿä¸€ä»£ç é£æ ¼å’Œè´¨é‡è§„èŒƒï¼š\u003c/p\u003e
            
            \u003cpre\u003e// .eslintrc.js
module.exports = {
  root: true,
  env: {
    browser: true,
    node: true,
    es2021: true,
    jest: true
  },
  extends: [
    'eslint:recommended',
    'plugin:react/recommended',
    'plugin:prettier/recommended'
  ],
  parserOptions: {
    ecmaVersion: 12,
    sourceType: 'module',
    ecmaFeatures: {
      jsx: true
    }
  },
  plugins: ['react', 'prettier'],
  rules: {
    'prettier/prettier': 'error',
    'react/react-in-jsx-scope': 'off',
    'react/prop-types': 'warn',
    'no-console': process.env.NODE_ENV === 'production' ? 'error' : 'warn',
    'no-debugger': process.env.NODE_ENV === 'production' ? 'error' : 'warn',
    'no-unused-vars': ['warn', { argsIgnorePattern: '^_' }]
  },
  settings: {
    react: {
      version: 'detect'
    }
  }
};

// .prettierrc.js
module.exports = {
  printWidth: 100,
  tabWidth: 2,
  useTabs: false,
  semi: true,
  singleQuote: true,
  trailingComma: 'es5',
  bracketSpacing: true,
  jsxBracketSameLine: false,
  arrowParens: 'always'
};\u003c/pre\u003e
            \u003ch3\u003e3.2 Git Hooks ä¸è‡ªåŠ¨åŒ–æ£€æŸ¥\u003c/h3\u003e
            \u003cp\u003eä½¿ç”¨huskyå’Œlint-stagedåœ¨æäº¤å‰è‡ªåŠ¨æ£€æŸ¥ä»£ç ï¼š\u003c/p\u003e
            \u003cpre\u003e// package.json (éƒ¨åˆ†)
{
  "scripts": {
    "lint": "eslint src --ext .js,.jsx",
    "prettier": "prettier --write src/**/*.{js,jsx,css,scss}",
    "test": "jest"
  },
  "lint-staged": {
    "*.{js,jsx}": [
      "eslint --fix",
      "prettier --write"
    ],
    "*.{css,scss}": [
      "prettier --write"
    ]
  },
  "husky": {
    "hooks": {
      "pre-commit": "lint-staged",
      "pre-push": "npm test"
    }
  }
}\u003c/pre\u003e
            
            \u003cdiv class="demo-area"\u003e
                \u003ch4\u003eä»£ç æ£€æŸ¥æµç¨‹æ¼”ç¤º\u003c/h4\u003e
                \u003cbutton id="lintDemoBtn"\u003eè¿è¡Œä»£ç æ£€æŸ¥æ¼”ç¤º\u003c/button\u003e
                \u003cdiv id="lintResult" class="result"\u003e\u003c/div\u003e
            \u003c/div\u003e
        \u003c/div\u003e
        
        \u003cdiv class="section"\u003e
            \u003ch2\u003e4. æ¨¡å—åŒ–ä¸ä»£ç åˆ†å‰²ç­–ç•¥\u003c/h2\u003e
            \u003ch3\u003e4.1 æ¨¡å—è”é‚¦å®ç°å¾®å‰ç«¯\u003c/h3\u003e
            \u003cp\u003eä½¿ç”¨Webpack 5çš„æ¨¡å—è”é‚¦åŠŸèƒ½å®ç°å¾®å‰ç«¯æ¶æ„ï¼š\u003c/p\u003e
            \u003cpre\u003e// ä¸»åº”ç”¨ webpack.config.js
const { ModuleFederationPlugin } = require('webpack').container;

module.exports = {
  // ...å…¶ä»–é…ç½®
  plugins: [
    new ModuleFederationPlugin({
      name: 'mainApp',
      remotes: {
        authApp: 'authApp@http://localhost:3001/remoteEntry.js',
        productApp: 'productApp@http://localhost:3002/remoteEntry.js'
      },
      shared: {
        react: {\ singleton: true, requiredVersion: '^17.0.2' },
        'react-dom': { singleton: true, requiredVersion: '^17.0.2' }
      }
    })
  ]
};

// å­åº”ç”¨ webpack.config.js
const { ModuleFederationPlugin } = require('webpack').container;

module.exports = {
  // ...å…¶ä»–é…ç½®
  plugins: [
    new ModuleFederationPlugin({
      name: 'authApp',
      filename: 'remoteEntry.js',
      exposes: {
        './AuthModule': './src/AuthModule',
        './LoginComponent': './src/components/Login'
      },
      shared: {
        react: { singleton: true, requiredVersion: '^17.0.2' },
        'react-dom': { singleton: true, requiredVersion: '^17.0.2' }
      }
    })
  ]
};

// ä¸»åº”ç”¨ä¸­ä½¿ç”¨è¿œç¨‹æ¨¡å—
const loadRemoteModule = async () => {
  try {
    const { LoginComponent } = await import('authApp/LoginComponent');
    // ä½¿ç”¨LoginComponent
  } catch (error) {
    console.error('åŠ è½½è¿œç¨‹æ¨¡å—å¤±è´¥:', error);
  }
};\u003c/pre\u003e
            \u003ch3\u003e4.2 åŠ¨æ€å¯¼å…¥ä¸æ‡’åŠ è½½ç­–ç•¥\u003c/h3\u003e
            \u003cp\u003eå®ç°ä»£ç çš„æŒ‰éœ€åŠ è½½ï¼Œå‡å°‘åˆå§‹åŠ è½½ä½“ç§¯ï¼š\u003c/p\u003e
            \u003cpre\u003e// è·¯ç”±çº§åˆ«æ‡’åŠ è½½ (React + React Router)
import React, { lazy, Suspense } from 'react';
import { BrowserRouter, Routes, Route } from 'react-router-dom';
import LoadingSpinner from './components/LoadingSpinner';
import ErrorBoundary from './components/ErrorBoundary';

// ä½¿ç”¨React.lazyè¿›è¡Œç»„ä»¶æ‡’åŠ è½½
const Home = lazy(() => import('./pages/Home'));
const About = lazy(() => import('./pages/About'));
const Dashboard = lazy(() => import('./pages/Dashboard'));
const Settings = lazy(() => import('./pages/Settings'));
const ProductDetail = lazy(() => import('./pages/ProductDetail'));

function App() {
  return (
    \u003cBrowserRouter\u003e
      \u003cErrorBoundary\u003e
        \u003cSuspense fallback={\u003cLoadingSpinner /\u003e}\u003e
          \u003cRoutes\u003e
            \u003cRoute path="/" element={\u003cHome /\u003e} /\u003e
            \u003cRoute path="/about" element={\u003cAbout /\u003e} /\u003e
            \u003cRoute path="/dashboard" element={\u003cDashboard /\u003e} /\u003e
            \u003cRoute path="/settings" element={\u003cSettings /\u003e} /\u003e
            \u003cRoute path="/products/:id" element={\u003cProductDetail /\u003e} /\u003e
          \u003c/Routes\u003e
        \u003c/Suspense\u003e
      \u003c/ErrorBoundary\u003e
    \u003c/BrowserRouter\u003e
  );
}

export default App;

// ç»„ä»¶çº§åˆ«æ‡’åŠ è½½
const loadHeavyComponent = () => {
  // ä»…åœ¨éœ€è¦æ—¶åŠ è½½
  import('./HeavyComponent')
    .then(module => {
      const HeavyComponent = module.default;
      // æ¸²æŸ“ç»„ä»¶
      renderHeavyComponent(HeavyComponent);
    })
    .catch(error => {
      console.error('ç»„ä»¶åŠ è½½å¤±è´¥:', error);
    });
};\u003c/pre\u003e
        \u003c/div\u003e
        
        \u003cdiv class="section"\u003e
            \u003ch2\u003e5. è‡ªåŠ¨åŒ–æµ‹è¯•ä¸CI/CDé›†æˆ\u003c/h2\u003e
            \u003ch3\u003e5.1 Jest å•å…ƒæµ‹è¯•é…ç½®\u003c/h3\u003e
            \u003cp\u003eè®¾ç½®Jestè¿›è¡Œç»„ä»¶å’ŒåŠŸèƒ½æµ‹è¯•ï¼š\u003c/p\u003e
            \u003cpre\u003e// jest.config.js
module.exports = {
  roots: ['\u003csrc'],
  testMatch: [
    '**/__tests__/**/*.+(js|jsx|ts|tsx)',
    '**/?(*.)+(spec|test).+(js|jsx|ts|tsx)'
  ],
  transform: {
    '^.+\.(js|jsx)$': 'babel-jest',
    '\.(css|less|scss)$': 'jest-css-modules-transform'
  },
  moduleNameMapper: {
    '^@/(.*)$': '\u003csrc/$1',
    '\.(jpg|jpeg|png|gif|webp|svg)$': '\u003crootDir>/__mocks__/fileMock.js'
  },
  setupFilesAfterEnv: ['\u003csrc/setupTests.js'],
  collectCoverage: true,
  collectCoverageFrom: [
    'src/**/*.{js,jsx}',
    '!src/index.js',
    '!src/serviceWorker.js'
  ],
  coverageThreshold: {
    global: {
      branches: 80,
      functions: 80,
      lines: 80,
      statements: 80
    }
  }
};

// ç»„ä»¶æµ‹è¯•ç¤ºä¾‹
import React from 'react';
import { render, screen, fireEvent } from '@testing-library/react';
import '@testing-library/jest-dom';
import Counter from './Counter';

describe('Counter Component', () => {
  test('renders counter with initial value', () => {
    render(\u003cCounter /\u003e);
    expect(screen.getByText(/Count: 0/i)).toBeInTheDocument();
  });

  test('increments count when button is clicked', () => {
    render(\u003cCounter /\u003e);
    const incrementButton = screen.getByText(/Increment/i);
    fireEvent.click(incrementButton);
    expect(screen.getByText(/Count: 1/i)).toBeInTheDocument();
  });

  test('decrements count when button is clicked', () => {
    render(\u003cCounter /\u003e);
    const decrementButton = screen.getByText(/Decrement/i);
    fireEvent.click(decrementButton);
    expect(screen.getByText(/Count: -1/i)).toBeInTheDocument();
  });
});\u003c/pre\u003e
            \u003ch3\u003e5.2 CI/CD æµæ°´çº¿é…ç½®\u003c/h3\u003e
            \u003cp\u003eä½¿ç”¨GitHub Actionsé…ç½®è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼š\u003c/p\u003e
            \u003cpre\u003e# .github/workflows/ci-cd.yml
name: CI/CD Pipeline

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main, develop ]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: Setup Node.js
      uses: actions/setup-node@v2
      with:
        node-version: '16'
        cache: 'npm'
    - name: Install dependencies
      run: npm ci
    - name: Run linting
      run: npm run lint
    - name: Run tests
      run: npm test
      env:
        CI: true
    - name: Upload coverage reports
      uses: actions/upload-artifact@v2
      with:
        name: coverage
        path: coverage

  build:
    needs: test
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: Setup Node.js
      uses: actions/setup-node@v2
      with:
        node-version: '16'
        cache: 'npm'
    - name: Install dependencies
      run: npm ci
    - name: Build application
      run: npm run build
    - name: Upload build artifacts
      uses: actions/upload-artifact@v2
      with:
        name: build
        path: build

  deploy:
    needs: build
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main' || github.ref == 'refs/heads/develop'
    steps:
    - name: Download build artifacts
      uses: actions/download-artifact@v2
      with:
        name: build
        path: build
    - name: Deploy to production
      if: github.ref == 'refs/heads/main'
      uses: easingthemes/ssh-deploy@v2
      env:
        SSH_PRIVATE_KEY: ${{ secrets.SSH_PRIVATE_KEY }}
        ARGS: '-rltgoDzvO --delete'
        SOURCE: 'build/'
        REMOTE_HOST: ${{ secrets.PROD_HOST }}
        REMOTE_USER: ${{ secrets.PROD_USER }}
        TARGET: ${{ secrets.PROD_TARGET }}
    - name: Deploy to staging
      if: github.ref == 'refs/heads/develop'
      uses: easingthemes/ssh-deploy@v2
      env:
        SSH_PRIVATE_KEY: ${{ secrets.SSH_PRIVATE_KEY }}
        ARGS: '-rltgoDzvO --delete'
        SOURCE: 'build/'
        REMOTE_HOST: ${{ secrets.STAGING_HOST }}
        REMOTE_USER: ${{ secrets.STAGING_USER }}
        TARGET: ${{ secrets.STAGING_TARGET }}\u003c/pre\u003e
            
            \u003cdiv class="demo-area"\u003e
                \u003ch4\u003eCI/CDæµç¨‹æ¼”ç¤º\u003c/h4\u003e
                \u003cbutton id="cicdDemoBtn"\u003eè¿è¡ŒCI/CDæµç¨‹æ¨¡æ‹Ÿ\u003c/button\u003e
                \u003cdiv id="cicdResult" class="result"\u003e\u003c/div\u003e
            \u003c/div\u003e
        \u003c/div\u003e
    \u003c/div\u003e
    
    \u003cscript\u003e
        // è¾…åŠ©å‡½æ•°ï¼šä»£ç é«˜äº®
        function highlightCode() {
            document.querySelectorAll('pre code').forEach((block) =\u003e {
                // ç®€å•çš„è¯­æ³•é«˜äº®æ¨¡æ‹Ÿ
                block.innerHTML = block.innerHTML
                    .replace(/\/\/.*$/gm, '\u003cspan style="color: #6a9955"\u003e$&\u003c/span\u003e')
                    .replace(/("[^"]*"|'[^']*')/g, '\u003cspan style="color: #ce9178"\u003e$1\u003c/span\u003e')
                    .replace(/(\bconst\b|\blet\b|\bvar\b|\bfunction\b|\bimport\b|\bexport\b|\bdefault\b)/g, '\u003cspan style="color: #569cd6"\u003e$1\u003c/span\u003e')
                    .replace(/(\bmodule\.exports\b|\brequire\b)/g, '\u003cspan style="color: #c586c0"\u003e$1\u003c/span\u003e');
            });
        }
        
        // æ„å»ºå·¥å…·å¯¹æ¯”æ¼”ç¤º
        document.getElementById('buildToolDemoBtn').addEventListener('click', function() {
            const result = document.getElementById('buildToolResult');
            result.innerHTML = 'å¼€å§‹æ¨¡æ‹Ÿæ„å»ºå·¥å…·æ€§èƒ½å¯¹æ¯”...\n';
            
            setTimeout(() =\u003e {
                result.innerHTML += 'âœ… Webpack æ„å»ºæ—¶é—´: ~3.5 ç§’\n';
                
                setTimeout(() =\u003e {
                    result.innerHTML += 'âœ… Vite æ„å»ºæ—¶é—´: ~0.8 ç§’\n';
                    
                    setTimeout(() =\u003e {
                        result.innerHTML += '\nğŸ“Š å¼€å‘æœåŠ¡å™¨å¯åŠ¨æ—¶é—´:\n';
                        result.innerHTML += '  Webpack Dev Server: ~2.1 ç§’\n';
                        result.innerHTML += '  Vite Dev Server: ~0.1 ç§’\n';
                        
                        setTimeout(() =\u003e {
                            result.innerHTML += '\nğŸ“ˆ çƒ­æ¨¡å—æ›¿æ¢(HMR)æ€§èƒ½:\n';
                            result.innerHTML += '  Webpack: ~500ms\n';
                            result.innerHTML += '  Vite: ~100ms\n';
                            
                            result.innerHTML += '\n<strong>ç»“è®º: Viteåœ¨å¼€å‘ä½“éªŒæ–¹é¢æ˜¾è‘—ä¼˜äºWebpackï¼Œç‰¹åˆ«æ˜¯åœ¨å¤§å‹é¡¹ç›®ä¸­ã€‚</strong>';
                        }, 800);
                    }, 800);
                }, 1000);
            }, 1000);
        });
        
        // ä»£ç æ£€æŸ¥æµç¨‹æ¼”ç¤º
        document.getElementById('lintDemoBtn').addEventListener('click', function() {
            const result = document.getElementById('lintResult');
            result.innerHTML = 'å¼€å§‹æ¨¡æ‹Ÿä»£ç æäº¤å‰æ£€æŸ¥æµç¨‹...\n';
            
            setTimeout(() =\u003e {
                result.innerHTML += 'ğŸ” è¿è¡Œ ESLint æ£€æŸ¥...\n';
                
                setTimeout(() =\u003e {
                    result.innerHTML += 'âš ï¸ å‘ç° 2 ä¸ª ESLint é”™è¯¯:\n';
                    result.innerHTML += '  - ç¬¬15è¡Œ: æœªä½¿ç”¨çš„å˜é‡ "unusedVar"\n';
                    result.innerHTML += '  - ç¬¬42è¡Œ: ç¼ºå°‘åˆ†å·\n';
                    
                    setTimeout(() =\u003e {
                        result.innerHTML += 'ğŸ”§ è‡ªåŠ¨ä¿®å¤ ESLint é”™è¯¯...\n';
                        
                        setTimeout(() =\u003e {
                            result.innerHTML += 'âœ… ESLint é”™è¯¯ä¿®å¤å®Œæˆ\n';
                            result.innerHTML += 'ğŸ” è¿è¡Œ Prettier æ ¼å¼åŒ–...\n';
                            
                            setTimeout(() =\u003e {
                                result.innerHTML += 'âœ… ä»£ç æ ¼å¼åŒ–å®Œæˆ\n';
                                result.innerHTML += 'ğŸ” è¿è¡Œå•å…ƒæµ‹è¯•...\n';
                                
                                setTimeout(() =\u003e {
                                    result.innerHTML += 'âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡ (8/8 tests passed)\n';
                                    result.innerHTML += '\n<strong>ä»£ç æ£€æŸ¥é€šè¿‡ï¼Œå‡†å¤‡æäº¤åˆ°ä»“åº“...</strong>';
                                }, 1000);
                            }, 800);
                        }, 800);
                    }, 800);
                }, 1000);
            }, 800);
        });
        
        // CI/CDæµç¨‹æ¼”ç¤º
        document.getElementById('cicdDemoBtn').addEventListener('click', function() {
            const result = document.getElementById('cicdResult');
            result.innerHTML = 'å¼€å§‹æ¨¡æ‹ŸCI/CDæµæ°´çº¿...\n';
            
            setTimeout(() =\u003e {
                result.innerHTML += 'ğŸš€ è§¦å‘ CI/CD æµæ°´çº¿...\n';
                
                setTimeout(() =\u003e {
                    result.innerHTML += 'ğŸ“¦ å®‰è£…ä¾èµ–...\n';
                    
                    setTimeout(() =\u003e {
                        result.innerHTML += 'âœ… ä¾èµ–å®‰è£…å®Œæˆ\n';
                        result.innerHTML += 'ğŸ” è¿è¡Œä»£ç æ£€æŸ¥...\n';
                        
                        setTimeout(() =\u003e {
                            result.innerHTML += 'âœ… ä»£ç æ£€æŸ¥é€šè¿‡\n';
                            result.innerHTML += 'ğŸ§ª è¿è¡Œæµ‹è¯•...\n';
                            
                            setTimeout(() =\u003e {
                                result.innerHTML += 'âœ… æµ‹è¯•é€šè¿‡ (è¦†ç›–ç‡: 85%)\n';
                                result.innerHTML += 'ğŸ—ï¸ æ„å»ºåº”ç”¨...\n';
                                
                                setTimeout(() =\u003e {
                                    result.innerHTML += 'âœ… åº”ç”¨æ„å»ºå®Œæˆ\n';
                                    result.innerHTML += 'ğŸš€ éƒ¨ç½²åˆ°ç›®æ ‡ç¯å¢ƒ...\n';
                                    
                                    setTimeout(() =\u003e {
                                        result.innerHTML += 'âœ… éƒ¨ç½²æˆåŠŸ\n';
                                        result.innerHTML += 'ğŸ“± è§¦å‘è‡ªåŠ¨åŒ–æµ‹è¯•...\n';
                                        
                                        setTimeout(() =\u003e {
                                            result.innerHTML += 'âœ… è‡ªåŠ¨åŒ–æµ‹è¯•é€šè¿‡\n';
                                            result.innerHTML += '\n<strong>ğŸ‰ CI/CD æµæ°´çº¿æ‰§è¡Œå®Œæˆï¼åº”ç”¨å·²æˆåŠŸéƒ¨ç½²å¹¶éªŒè¯ã€‚</strong>';
                                        }, 800);
                                    }, 1000);
                                }, 1200);
                            }, 1000);
                        }, 800);
                    }, 1000);
                }, 800);
            }, 600);
        });
        
        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            highlightCode();
        });
    \u003c/script\u003e
\u003c/body\u003e
\u003c/html\u003e