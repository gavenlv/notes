# 主题配置自定义

在本章中，我们将深入探讨如何自定义Tailwind CSS的主题配置，以满足项目的设计需求。通过自定义主题，你可以创建符合品牌风格的UI组件和界面。

## 2.1 颜色配置

颜色是设计系统的核心部分，Tailwind提供了灵活的颜色配置机制。

### 2.1.1 扩展默认颜色

默认情况下，Tailwind提供了一套完整的颜色系统。你可以在不替换默认颜色的情况下添加新颜色：

```javascript
module.exports = {
  theme: {
    extend: {
      colors: {
        primary: '#165DFF',
        secondary: '#722ED1',
        success: '#00B42A',
        warning: '#FF7D00',
        danger: '#F53F3F',
        info: '#86909C',
      },
    },
  },
}
```

### 2.1.2 定义颜色系统

对于更复杂的项目，你可以定义完整的颜色系统，包括主色、辅助色和中性色，以及不同亮度的变体：

```javascript
module.exports = {
  theme: {
    extend: {
      colors: {
        // 主色
        primary: {
          DEFAULT: '#165DFF',
          50: '#E8F3FF',
          100: '#D6E9FF',
          200: '#ADC6FF',
          300: '#85A5FF',
          400: '#597EF7',
          500: '#165DFF',
          600: '#094EDA',
          700: '#0040C1',
          800: '#00359E',
          900: '#00277D',
        },
        // 中性色
        neutral: {
          100: '#F2F3F5',
          200: '#E5E6EB',
          300: '#C9CDD4',
          400: '#86909C',
          500: '#4E5969',
          600: '#272E3B',
          700: '#1D2129',
        },
      },
    },
  },
}
```

### 2.1.3 实际应用示例

配置完成后，你可以这样使用自定义颜色：

```html
<!-- 使用主色 -->
<div class="bg-primary text-white">主色背景</div>

<!-- 使用主色的变体 -->
<div class="bg-primary-100 text-primary-700">主色变体</div>

<!-- 文本颜色 -->
<p class="text-primary-600">主色文本</p>

<!-- 边框颜色 -->
<div class="border border-primary-200">边框颜色</div>

<!-- 悬停效果 -->
<button class="bg-primary hover:bg-primary-600">悬停按钮</button>
```

## 2.2 字体配置

字体配置允许你定义项目中使用的字体族、字重和行高。

### 2.2.1 字体族配置

你可以配置自定义字体族：

```javascript
module.exports = {
  theme: {
    extend: {
      fontFamily: {
        sans: ['Inter', 'system-ui', 'sans-serif'],
        display: ['Montserrat', 'sans-serif'],
        mono: ['Fira Code', 'monospace'],
      },
    },
  },
}
```

### 2.2.2 字体大小和行高配置

你可以自定义字体大小和行高：

```javascript
module.exports = {
  theme: {
    extend: {
      fontSize: {
        'heading-1': ['2.5rem', { lineHeight: '1.2' }],
        'heading-2': ['2rem', { lineHeight: '1.3' }],
        'heading-3': ['1.75rem', { lineHeight: '1.35' }],
        'body-large': ['1.125rem', { lineHeight: '1.5' }],
        'body-normal': ['1rem', { lineHeight: '1.6' }],
        'caption': ['0.875rem', { lineHeight: '1.4' }],
      },
    },
  },
}
```

### 2.2.3 字重配置

自定义字重配置：

```javascript
module.exports = {
  theme: {
    extend: {
      fontWeight: {
        'extra-light': 100,
        'light': 300,
        'normal': 400,
        'medium': 500,
        'semi-bold': 600,
        'bold': 700,
        'extra-bold': 800,
      },
    },
  },
}
```

### 2.2.4 实际应用示例

配置完成后，你可以这样使用自定义字体：

```html
<!-- 使用字体族 -->
<div class="font-display">显示字体</div>
<div class="font-sans">无衬线字体</div>
<div class="font-mono">等宽字体</div>

<!-- 使用字体大小 -->
<h1 class="text-heading-1">一级标题</h1>
<h2 class="text-heading-2">二级标题</h2>
<p class="text-body-normal">普通文本</p>

<!-- 使用字重 -->
<span class="font-light">细体</span>
<span class="font-normal">正常</span>
<span class="font-bold">粗体</span>
```

## 2.3 间距配置

间距配置定义了项目中的间距比例系统，用于margin、padding、width、height等。

### 2.3.1 基本间距配置

```javascript
module.exports = {
  theme: {
    extend: {
      spacing: {
        '128': '32rem',
        '144': '36rem',
        '160': '40rem',
        'px-1': '1px',
        'px-2': '2px',
        'px-3': '3px',
      },
    },
  },
}
```

### 2.3.2 语义化间距配置

为了提高可维护性，可以使用语义化的间距名称：

```javascript
module.exports = {
  theme: {
    extend: {
      spacing: {
        // 基础间距
        'base': '0.25rem',
        'tiny': '0.5rem',
        'small': '1rem',
        'medium': '2rem',
        'large': '3rem',
        'xlarge': '4rem',
        // 组件间距
        'card': '1.5rem',
        'section': '4rem',
        'layout': '8rem',
        // 网格间距
        'grid': '2rem',
      },
    },
  },
}
```

### 2.3.3 实际应用示例

配置完成后，你可以这样使用自定义间距：

```html
<!-- Margin -->
<div class="mt-small mb-medium">边距示例</div>
<div class="mx-large">水平居中边距</div>

<!-- Padding -->
<div class="p-card">卡片内边距</div>
<div class="py-small px-medium">垂直和水平内边距</div>

<!-- Width/Height -->
<div class="w-128 h-64">宽高示例</div>

<!-- 语义化间距 -->
<div class="mb-section">章节间距</div>
```

## 2.4 断点配置

断点配置定义了响应式设计的各个屏幕尺寸。

### 2.4.1 默认断点

Tailwind的默认断点如下：

```javascript
module.exports = {
  theme: {
    screens: {
      'sm': '640px',
      'md': '768px',
      'lg': '1024px',
      'xl': '1280px',
      '2xl': '1536px',
    },
  },
}
```

### 2.4.2 自定义断点

你可以完全自定义断点配置：

```javascript
module.exports = {
  theme: {
    screens: {
      'xs': '480px',
      'sm': '640px',
      'md': '768px',
      'lg': '1024px',
      'xl': '1280px',
      '2xl': '1536px',
      '3xl': '1920px',
      '4xl': '2560px',
      // 还可以添加特殊断点
      'portrait': {'raw': '(orientation: portrait)'},
      'landscape': {'raw': '(orientation: landscape)'},
      'dark': {'raw': '(prefers-color-scheme: dark)'},
      'light': {'raw': '(prefers-color-scheme: light)'},
    },
  },
}
```

### 2.4.3 实际应用示例

配置完成后，你可以这样使用自定义断点：

```html
<!-- 响应式布局 -->
<div class="flex flex-col lg:flex-row">
  <div class="lg:w-1/2">左侧内容</div>
  <div class="lg:w-1/2">右侧内容</div>
</div>

<!-- 特殊断点 -->
<div class="bg-white dark:bg-gray-900">
  根据系统主题切换背景色
</div>

<div class="flex portrait:flex-col landscape:flex-row">
  根据设备方向调整布局
</div>
```

## 2.5 圆角和阴影配置

### 2.5.1 圆角配置

```javascript
module.exports = {
  theme: {
    extend: {
      borderRadius: {
        'xl': '1rem',
        '2xl': '1.5rem',
        '3xl': '2rem',
        'full': '9999px',
        'card': '0.75rem',
        'button': '0.375rem',
      },
    },
  },
}
```

### 2.5.2 阴影配置

```javascript
module.exports = {
  theme: {
    extend: {
      boxShadow: {
        'sm': '0 1px 2px 0 rgba(0, 0, 0, 0.05)',
        'DEFAULT': '0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)',
        'md': '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)',
        'lg': '0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)',
        'xl': '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',
        '2xl': '0 25px 50px -12px rgba(0, 0, 0, 0.25)',
        'inner': 'inset 0 2px 4px 0 rgba(0, 0, 0, 0.06)',
        'none': 'none',
        // 自定义阴影
        'card': '0 4px 20px rgba(0, 0, 0, 0.08)',
        'elevated': '0 10px 30px rgba(0, 0, 0, 0.12)',
      },
    },
  },
}
```

### 2.5.3 实际应用示例

```html
<!-- 圆角 -->
<div class="rounded-xl">大圆角</div>
<div class="rounded-card">卡片圆角</div>
<button class="rounded-button">按钮圆角</button>

<!-- 阴影 -->
<div class="shadow-md">中等阴影</div>
<div class="shadow-card">卡片阴影</div>
<div class="shadow-elevated">突出阴影</div>
```

## 2.6 过渡和动画配置

### 2.6.1 过渡配置

```javascript
module.exports = {
  theme: {
    extend: {
      transitionProperty: {
        'height': 'height',
        'spacing': 'margin, padding',
        'border': 'border-color',
      },
      transitionTimingFunction: {
        'smooth': 'cubic-bezier(0.25, 0.1, 0.25, 1)',
        'bounce': 'cubic-bezier(0.175, 0.885, 0.32, 1.275)',
      },
      transitionDuration: {
        '150': '150ms',
        '200': '200ms',
        '300': '300ms',
        '500': '500ms',
        '700': '700ms',
        '1000': '1000ms',
      },
    },
  },
}
```

### 2.6.2 动画配置

```javascript
module.exports = {
  theme: {
    extend: {
      keyframes: {
        fadeIn: {
          '0%': { opacity: '0' },
          '100%': { opacity: '1' },
        },
        slideUp: {
          '0%': { transform: 'translateY(20px)', opacity: '0' },
          '100%': { transform: 'translateY(0)', opacity: '1' },
        },
        pulseSlow: {
          '0%, 100%': { opacity: '1' },
          '50%': { opacity: '0.5' },
        },
      },
      animation: {
        fadeIn: 'fadeIn 0.5s ease-in-out',
        slideUp: 'slideUp 0.6s ease-out',
        pulseSlow: 'pulseSlow 2s cubic-bezier(0.4, 0, 0.6, 1) infinite',
      },
    },
  },
}
```

### 2.6.3 实际应用示例

```html
<!-- 过渡 -->
<div class="transition-all duration-300 hover:bg-primary hover:text-white">
  悬停效果
</div>

<div class="transition-height duration-500">
  高度过渡
</div>

<!-- 动画 -->
<div class="animate-fadeIn">淡入动画</div>
<div class="animate-slideUp">滑入动画</div>
<div class="animate-pulseSlow">慢速脉冲</div>
```

## 2.7 自定义主题的最佳实践

### 2.7.1 设计系统与主题配置的结合

Tailwind的主题配置非常适合实现设计系统：

1. **保持一致性**：将所有设计决策集中在配置文件中
2. **可维护性**：修改一处，影响全局
3. **语义化**：使用有意义的名称，如`primary`、`secondary`、`card`等

### 2.7.2 主题配置的组织方式

对于大型项目，考虑以下组织方式：

```javascript
// tailwind.config.js
module.exports = {
  content: ['./src/**/*.{html,js,ts,tsx,vue}'],
  theme: {
    extend: {
      // 基础配置
      colors: require('./tailwind/theme/colors'),
      fontFamily: require('./tailwind/theme/typography').fontFamily,
      fontSize: require('./tailwind/theme/typography').fontSize,
      spacing: require('./tailwind/theme/spacing'),
      borderRadius: require('./tailwind/theme/borders').radius,
      boxShadow: require('./tailwind/theme/shadows'),
      // 动画和过渡
      keyframes: require('./tailwind/theme/animations').keyframes,
      animation: require('./tailwind/theme/animations').animation,
    },
  },
  plugins: [],
}
```

### 2.7.3 主题配置的版本控制

在团队项目中，考虑将主题配置作为设计资产进行版本控制：

1. 将配置文件放在专门的设计系统包中
2. 使用npm包管理主题配置
3. 建立主题配置的审核和更新流程

### 2.7.4 主题配置与设计工具的结合

许多设计工具可以导出设计令牌（tokens），可以将这些令牌转换为Tailwind配置：

1. 使用Figma Tokens插件导出设计令牌
2. 使用Style Dictionary等工具将令牌转换为Tailwind配置
3. 建立设计系统与代码的同步机制

在下一节中，我们将详细介绍如何创建自定义工具类和插件。