<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScripté”™è¯¯å¤„ç†ç¤ºä¾‹</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background-color: white;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        h2 {
            color: #34495e;
            margin-top: 30px;
            margin-bottom: 20px;
            border-left: 4px solid #3498db;
            padding-left: 15px;
        }
        h3 {
            color: #7f8c8d;
            margin-top: 20px;
        }
        .example-section {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 25px;
            border-left: 3px solid #3498db;
        }
        .result-box {
            background-color: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            margin-top: 15px;
            font-family: monospace;
            max-height: 300px;
            overflow-y: auto;
            white-space: pre-wrap;
        }
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        button:hover {
            background-color: #2980b9;
        }
        button:active {
            transform: translateY(1px);
        }
        .error-button {
            background-color: #e74c3c;
        }
        .error-button:hover {
            background-color: #c0392b;
        }
        .success-button {
            background-color: #2ecc71;
        }
        .success-button:hover {
            background-color: #27ae60;
        }
        .code-block {
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            border-left: 3px solid #e74c3c;
            font-family: monospace;
            overflow-x: auto;
            margin-bottom: 20px;
            white-space: pre;
        }
        .error-message {
            background-color: #fdf2e9;
            border-left: 4px solid #e67e22;
            padding: 10px 15px;
            margin: 10px 0;
            border-radius: 0 5px 5px 0;
            color: #e74c3c;
            font-weight: bold;
        }
        .success-message {
            background-color: #e8f8f5;
            border-left: 4px solid #2ecc71;
            padding: 10px 15px;
            margin: 10px 0;
            border-radius: 0 5px 5px 0;
            color: #27ae60;
            font-weight: bold;
        }
        .warning-message {
            background-color: #fcf3cf;
            border-left: 4px solid #f39c12;
            padding: 10px 15px;
            margin: 10px 0;
            border-radius: 0 5px 5px 0;
            color: #d35400;
            font-weight: bold;
        }
        .input-group {
            margin: 15px 0;
        }
        input, select {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
            margin-right: 10px;
            width: 200px;
        }
        .card {
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            padding: 20px;
            margin: 15px 0;
        }
        .error-type {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin: 15px 0;
        }
        .error-item {
            background-color: #ecf0f1;
            padding: 12px 16px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        .error-item:hover {
            background-color: #3498db;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        .trace-back {
            background-color: #34495e;
            color: #ecf0f1;
            padding: 10px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 14px;
            margin: 10px 0;
            white-space: pre-wrap;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        th {
            background-color: #f2f2f2;
            font-weight: bold;
        }
        tr:hover {
            background-color: #f5f5f5;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>JavaScripté”™è¯¯å¤„ç†</h1>
        <p>é”™è¯¯å¤„ç†æ˜¯ç¼–å†™å¥å£®JavaScriptåº”ç”¨ç¨‹åºçš„é‡è¦éƒ¨åˆ†ã€‚æœ¬é¡µé¢æ¼”ç¤ºäº†JavaScriptä¸­çš„é”™è¯¯ç±»å‹ã€é”™è¯¯æ•è·å’Œå¤„ç†æŠ€æœ¯ï¼Œä»¥åŠå¦‚ä½•åˆ›å»ºå’Œä½¿ç”¨è‡ªå®šä¹‰é”™è¯¯ã€‚</p>
        
        <h2>1. åŸºæœ¬é”™è¯¯æ•è· (try-catch-finally)</h2>
        <div class="example-section">
            <p>try-catch-finallyè¯­å¥æ˜¯JavaScriptä¸­å¤„ç†å¼‚å¸¸çš„åŸºæœ¬æœºåˆ¶ï¼Œå…è®¸ä½ æ•è·å’Œå¤„ç†è¿è¡Œæ—¶é”™è¯¯è€Œä¸ä¸­æ–­ç¨‹åºæ‰§è¡Œã€‚</p>
            
            <div class="code-block">try {
    // å¯èƒ½ä¼šæŠ›å‡ºé”™è¯¯çš„ä»£ç 
    const result = 10 / 0; // ä¸ä¼šæŠ›å‡ºé”™è¯¯ï¼Œä½†ä¼šäº§ç”ŸInfinity
    console.log(result);
    
    const invalidOperation = someUndefinedFunction(); // è¿™é‡Œä¼šæŠ›å‡ºé”™è¯¯
} catch (error) {
    // å¤„ç†æ•è·åˆ°çš„é”™è¯¯
    console.error('å‘ç”Ÿé”™è¯¯:', error.message);
    console.error('é”™è¯¯ç±»å‹:', error.name);
} finally {
    // æ— è®ºæ˜¯å¦å‘ç”Ÿé”™è¯¯éƒ½ä¼šæ‰§è¡Œçš„ä»£ç 
    console.log('æ— è®ºå¦‚ä½•éƒ½ä¼šæ‰§è¡Œ');
}</div>
            
            <button onclick="runBasicTryCatchDemo()">è¿è¡ŒåŸºæœ¬try-catchæ¼”ç¤º</button>
            <button onclick="runZeroDivisionDemo()">è¿è¡Œé™¤é›¶æ¼”ç¤º</button>
            <button onclick="runReferenceErrorDemo()">è¿è¡Œå¼•ç”¨é”™è¯¯æ¼”ç¤º</button>
            <div id="basicTryCatchResult" class="result-box">ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</div>
        </div>
        
        <h2>2. JavaScriptä¸­çš„é”™è¯¯ç±»å‹</h2>
        <div class="example-section">
            <p>JavaScriptæœ‰å¤šç§å†…ç½®é”™è¯¯ç±»å‹ï¼Œæ¯ç§ç±»å‹ç”¨äºè¡¨ç¤ºç‰¹å®šç±»å‹çš„é”™è¯¯æƒ…å†µã€‚</p>
            
            <table>
                <thead>
                    <tr>
                        <th>é”™è¯¯ç±»å‹</th>
                        <th>æè¿°</th>
                        <th>ä¾‹å­</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Error</td>
                        <td>æ‰€æœ‰é”™è¯¯çš„åŸºç±»</td>
                        <td>throw new Error('é”™è¯¯ä¿¡æ¯')</td>
                    </tr>
                    <tr>
                        <td>SyntaxError</td>
                        <td>è¯­æ³•é”™è¯¯</td>
                        <td>let 123variable = 42;</td>
                    </tr>
                    <tr>
                        <td>ReferenceError</td>
                        <td>å¼•ç”¨äº†ä¸å­˜åœ¨çš„å˜é‡æˆ–å‡½æ•°</td>
                        <td>console.log(undefinedVariable);</td>
                    </tr>
                    <tr>
                        <td>TypeError</td>
                        <td>å€¼çš„ç±»å‹ä¸æ˜¯é¢„æœŸç±»å‹</td>
                        <td>'hello'.toUpperCase().push('!')</td>
                    </tr>
                    <tr>
                        <td>RangeError</td>
                        <td>å€¼è¶…å‡ºæœ‰æ•ˆèŒƒå›´</td>
                        <td>[].length = -1</td>
                    </tr>
                    <tr>
                        <td>URIError</td>
                        <td>URIç›¸å…³å‡½æ•°çš„å‚æ•°æ— æ•ˆ</td>
                        <td>decodeURIComponent('%')</td>
                    </tr>
                    <tr>
                        <td>EvalError</td>
                        <td>eval()å‡½æ•°é”™è¯¯ä½¿ç”¨</td>
                        <td>å¾ˆå°‘ä½¿ç”¨ï¼Œä¸»è¦æ˜¯ä¸ºäº†å‘åå…¼å®¹</td>
                    </tr>
                </tbody>
            </table>
            
            <p>ç‚¹å‡»ä¸‹é¢çš„æŒ‰é’®è§¦å‘ä¸åŒç±»å‹çš„é”™è¯¯ï¼š</p>
            
            <div class="error-type">
                <div class="error-item" onclick="triggerSyntaxError()">SyntaxError</div>
                <div class="error-item" onclick="triggerReferenceError()">ReferenceError</div>
                <div class="error-item" onclick="triggerTypeError()">TypeError</div>
                <div class="error-item" onclick="triggerRangeError()">RangeError</div>
                <div class="error-item" onclick="triggerURIError()">URIError</div>
            </div>
            <div id="errorTypeResult" class="result-box">ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</div>
        </div>
        
        <h2>3. æŠ›å‡ºè‡ªå®šä¹‰é”™è¯¯ (throw)</h2>
        <div class="example-section">
            <p>ä½ å¯ä»¥ä½¿ç”¨throwè¯­å¥æ˜¾å¼åœ°æŠ›å‡ºé”™è¯¯ï¼Œè¿™åœ¨å‚æ•°éªŒè¯å’Œä¸šåŠ¡é€»è¾‘é”™è¯¯å¤„ç†ä¸­éå¸¸æœ‰ç”¨ã€‚</p>
            <div class="code-block">// æŠ›å‡ºåŸºæœ¬é”™è¯¯
throw new Error('è¿™æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰é”™è¯¯');

// æŠ›å‡ºç‰¹å®šç±»å‹çš„é”™è¯¯
throw new TypeError('å‚æ•°å¿…é¡»æ˜¯æ•°å­—');

// åœ¨å‡½æ•°ä¸­ä½¿ç”¨
function divide(a, b) {
    if (typeof a !== 'number' || typeof b !== 'number') {
        throw new TypeError('å‚æ•°å¿…é¡»æ˜¯æ•°å­—');
    }
    if (b === 0) {
        throw new Error('é™¤æ•°ä¸èƒ½ä¸ºé›¶');
    }
    return a / b;
}

// ä½¿ç”¨try-catchæ•è·
let result;
try {
    result = divide(10, 0);
} catch (error) {
    console.error('æ•è·åˆ°é”™è¯¯:', error.message);
}</div>
            
            <div class="input-group">
                <label for="num1">ç¬¬ä¸€ä¸ªæ•°:</label>
                <input type="number" id="num1" value="10">
                <span> Ã· </span>
                <label for="num2">ç¬¬äºŒä¸ªæ•°:</label>
                <input type="number" id="num2" value="2">
                <button onclick="runDivisionDemo()">è®¡ç®—</button>
            </div>
            <div id="throwErrorResult" class="result-box">ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</div>
        </div>
        
        <h2>4. åˆ›å»ºè‡ªå®šä¹‰é”™è¯¯ç±»>
        <div class="example-section">
            <p>ä½ å¯ä»¥é€šè¿‡ç»§æ‰¿Errorç±»æ¥åˆ›å»ºè‡ªå®šä¹‰é”™è¯¯ç±»å‹ï¼Œè¿™æ ·å¯ä»¥æ›´ç²¾ç¡®åœ°è¡¨ç¤ºå’Œå¤„ç†ç‰¹å®šé¢†åŸŸçš„é”™è¯¯ã€‚</p>
            <div class="code-block">// åˆ›å»ºè‡ªå®šä¹‰é”™è¯¯ç±»
class ValidationError extends Error {
    constructor(message, fieldName) {
        super(message); // è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°
        this.name = 'ValidationError'; // è®¾ç½®é”™è¯¯åç§°
        this.fieldName = fieldName; // æ·»åŠ è‡ªå®šä¹‰å±æ€§
        this.date = new Date(); // æ·»åŠ é”™è¯¯å‘ç”Ÿæ—¶é—´
    }
}

// ä½¿ç”¨è‡ªå®šä¹‰é”™è¯¯
function validateUser(user) {
    if (!user.name || user.name.trim() === '') {
        throw new ValidationError('ç”¨æˆ·åä¸èƒ½ä¸ºç©º', 'name');
    }
    if (!user.email || !user.email.includes('@')) {
        throw new ValidationError('é‚®ç®±æ ¼å¼ä¸æ­£ç¡®', 'email');
    }
    if (!user.age || user.age < 18) {
        throw new ValidationError('å¹´é¾„å¿…é¡»å¤§äºç­‰äº18', 'age');
    }
    return true;
}

// æ•è·è‡ªå®šä¹‰é”™è¯¯
try {
    const user = { name: 'å¼ ä¸‰', email: 'invalid-email', age: 16 };
    validateUser(user);
} catch (error) {
    if (error instanceof ValidationError) {
        console.error(`éªŒè¯é”™è¯¯: ${error.message}`);
        console.error(`å­—æ®µ: ${error.fieldName}`);
        console.error(`æ—¶é—´: ${error.date}`);
    } else {
        console.error('å…¶ä»–é”™è¯¯:', error);
    }
}</div>
            <div class="card">
                <h3>ç”¨æˆ·æ³¨å†Œè¡¨å•ï¼ˆå¸¦é”™è¯¯éªŒè¯ï¼‰</h3>
                <div class="input-group">
                    <label for="username">ç”¨æˆ·å:</label>
                    <input type="text" id="username" placeholder="è¯·è¾“å…¥ç”¨æˆ·å">
                </div>
                <div class="input-group">
                    <label for="email">é‚®ç®±:</label>
                    <input type="text" id="email" placeholder="è¯·è¾“å…¥é‚®ç®±">
                </div>
                <div class="input-group">
                    <label for="age">å¹´é¾„:</label>
                    <input type="number" id="age" placeholder="è¯·è¾“å…¥å¹´é¾„">
                <div>
                <button onclick="validateRegistration()" class="success-button">æ³¨å†Œ</button>
            </div>
            <div id="customErrorResult" class="result-box">éªŒè¯ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</div>
        </div>
        
        <h2>5. å¼‚æ­¥ä»£ç ä¸­çš„é”™è¯¯å¤„ç†>
        <div class="example-section">
            <p>åœ¨å¼‚æ­¥ä»£ç ä¸­å¤„ç†é”™è¯¯éœ€è¦ç‰¹åˆ«æ³¨æ„ï¼ŒPromiseå’Œasync/awaitæä¾›äº†ä¸åŒçš„é”™è¯¯å¤„ç†æœºåˆ¶ã€‚</p>
            <div class="code-block">// Promiseä¸­çš„é”™è¯¯å¤„ç†
function fetchData() {
    return new Promise((resolve, reject) => {
        // æ¨¡æ‹Ÿå¼‚æ­¥æ“ä½œå¤±è´¥
        setTimeout(() => {
            reject(new Error('ç½‘ç»œè¯·æ±‚å¤±è´¥'));
        }, 1000);
    });
}

// ä½¿ç”¨.catch()
fetchData()
    .then(data => {
        console.log('æˆåŠŸ:', data);
    })
    .catch(error => {
        console.error('Promiseæ•è·åˆ°é”™è¯¯:', error.message);
    });

// async/awaitä¸­çš„é”™è¯¯å¤„ç†
async function processData() {
    try {
        const data = await fetchData();
        console.log('æˆåŠŸ:', data);
    } catch (error) {
        console.error('async/awaitæ•è·åˆ°é”™è¯¯:', error.message);
    }
}

processData();</div>
            <button onclick="runAsyncErrorDemo()">è¿è¡Œå¼‚æ­¥é”™è¯¯å¤„ç†æ¼”ç¤º</button>
            <div id="asyncErrorResult" class="result-box">ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</div>
        </div>
        
        <h2>6. é”™è¯¯å †æ ˆè·Ÿè¸ª (Stack Trace)>
        <div class="example-section">
            <p>é”™è¯¯å †æ ˆè·Ÿè¸ªæä¾›äº†é”™è¯¯å‘ç”Ÿçš„ä½ç½®å’Œè°ƒç”¨è·¯å¾„ä¿¡æ¯ï¼Œå¯¹äºè°ƒè¯•éå¸¸æœ‰ç”¨ã€‚</p>
            <div class="code-block">function outerFunction() {
    console.log('è°ƒç”¨å¤–éƒ¨å‡½æ•°');
    middleFunction();
}

function middleFunction() {
    console.log('è°ƒç”¨ä¸­é—´å‡½æ•°');
    innerFunction();
}

function innerFunction() {
    console.log('è°ƒç”¨å†…éƒ¨å‡½æ•°');
    // æŠ›å‡ºé”™è¯¯ä»¥ç”Ÿæˆå †æ ˆè·Ÿè¸ª
    throw new Error('å†…éƒ¨å‡½æ•°å‡ºé”™');
}

try {
    outerFunction();
} catch (error) {
    console.error('é”™è¯¯ä¿¡æ¯:', error.message);
    console.error('é”™è¯¯åç§°:', error.name);
    console.error('é”™è¯¯å †æ ˆ:', error.stack);
}</div>
            <button onclick="runStackTraceDemo()">è¿è¡Œå †æ ˆè·Ÿè¸ªæ¼”ç¤º</button>
            <div id="stackTraceResult" class="result-box">å †æ ˆè·Ÿè¸ªå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</div>
        </div>
        
        <h2>7. å…¨å±€é”™è¯¯å¤„ç†>
        <div class="example-section">
            <p>JavaScriptæä¾›äº†å…¨å±€é”™è¯¯å¤„ç†æœºåˆ¶ï¼Œå¯ä»¥æ•è·æœªè¢«try-catchæ•è·çš„é”™è¯¯ã€‚</p>
            <div class="code-block">// æ•è·åŒæ­¥é”™è¯¯
window.onerror = function(message, source, lineno, colno, error) {
    console.error('å…¨å±€é”™è¯¯æ•è·:', message);
    console.error('é”™è¯¯æº:', source);
    console.error('è¡Œå·:', lineno);
    console.error('åˆ—å·:', colno);
    console.error('é”™è¯¯å¯¹è±¡:', error);
    return true; // é˜²æ­¢é»˜è®¤å¤„ç†
};

// æ•è·Promiseæœªå¤„ç†çš„æ‹’ç»
window.addEventListener('unhandledrejection', function(event) {
    console.error('æœªå¤„ç†çš„Promiseæ‹’ç»:', event.reason);
});

// å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ é”™è¯¯ä¸ŠæŠ¥é€»è¾‘
function reportError(error) {
    // å®é™…é¡¹ç›®ä¸­ï¼Œè¿™é‡Œå¯ä»¥å‘é€é”™è¯¯ä¿¡æ¯åˆ°æœåŠ¡å™¨
    console.log('ä¸ŠæŠ¥é”™è¯¯åˆ°æœåŠ¡å™¨:', error);
}</div>
            <button onclick="runGlobalErrorDemo()">è¿è¡Œå…¨å±€é”™è¯¯å¤„ç†æ¼”ç¤º</button>
            <div id="globalErrorResult" class="result-box">ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</div>
        </div>
        <h2>8. é”™è¯¯å¤„ç†æœ€ä½³å®è·µ>
        <div class="example-section">
            <div class="card">
                <h3>âœ… æ¨èåšæ³•</h3>
                <ul>
                    <li>å§‹ç»ˆå¯¹å¯èƒ½æŠ›å‡ºé”™è¯¯çš„ä»£ç ä½¿ç”¨<strong>try-catch</strong>å—</li>
                    <li>ä¸ºç‰¹å®šé”™è¯¯ç±»å‹ä½¿ç”¨ä¸åŒçš„<strong>catch</strong>å—ï¼ˆä½¿ç”¨instanceofï¼‰</li>
                    <li>ä½¿ç”¨<strong>finally</strong>å—è¿›è¡Œèµ„æºæ¸…ç†</li>
                    <li>åˆ›å»ºå¹¶ä½¿ç”¨<strong>è‡ªå®šä¹‰é”™è¯¯ç±»</strong>æ¥è¡¨ç¤ºç‰¹å®šé¢†åŸŸçš„é”™è¯¯</li>
                    <li>åœ¨Promiseä¸­ä½¿ç”¨<strong>.catch()</strong>æˆ–åœ¨async/awaitä¸­ä½¿ç”¨try-catch</li>
                    <li>æä¾›æœ‰ç”¨çš„é”™è¯¯ä¿¡æ¯ï¼Œä½†é¿å…æ³„éœ²æ•æ„Ÿä¿¡æ¯</li>
                    <li>å®ç°å…¨å±€é”™è¯¯å¤„ç†ä»¥æ•è·æœªå¤„ç†çš„é”™è¯¯</li>
                    <li>è®°å½•é”™è¯¯ä½†å‘ç”¨æˆ·æ˜¾ç¤ºå‹å¥½çš„é”™è¯¯æ¶ˆæ¯</li>
                </ul>
            </div>
            <div class="card">
                <h3>âŒ é¿å…åšæ³•</h3>
                <ul>
                    <li>å¿½ç•¥é”™è¯¯ï¼ˆç©ºçš„catchå—ï¼‰</li>
                    <li>æ•è·æ‰€æœ‰é”™è¯¯ä½†ä¸åŒºåˆ†é”™è¯¯ç±»å‹</li>
                    <li>å‘ç”¨æˆ·æš´éœ²æŠ€æœ¯æ€§é”™è¯¯ç»†èŠ‚</li>
                    <li>æ²¡æœ‰ä¸ºå¼‚æ­¥ä»£ç æ·»åŠ é”™è¯¯å¤„ç†</li>
                    <li>è¿‡åº¦ä½¿ç”¨try-catchï¼ˆä¼šå½±å“æ€§èƒ½ï¼‰</li>
                    <li>åœ¨catchå—ä¸­é‡æ–°æŠ›å‡ºç›¸åŒçš„é”™è¯¯è€Œä¸æ·»åŠ ä¸Šä¸‹æ–‡ä¿¡æ¯</li>
                </ul>
            </div>
            <div class="card">
                <h3>ğŸŒ é”™è¯¯ç›‘æ§å’ŒæŠ¥å‘Š</h3>
                <p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå»ºè®®å®ç°é”™è¯¯ç›‘æ§å’ŒæŠ¥å‘Šç³»ç»Ÿï¼š</p>
                <ul>
                    <li>æ”¶é›†é”™è¯¯ä¿¡æ¯ï¼ˆç±»å‹ã€æ¶ˆæ¯ã€å †æ ˆè·Ÿè¸ªã€ä¸Šä¸‹æ–‡ï¼‰</li>
                    <li>å°†é”™è¯¯ä¿¡æ¯å‘é€åˆ°ä¸­å¤®æœåŠ¡å™¨è¿›è¡Œåˆ†æ</li>
                    <li>å®ç°é”™è¯¯èšåˆä»¥é¿å…é‡å¤æŠ¥å‘Š</li>
                    <li>è®¾ç½®é”™è¯¯é˜ˆå€¼è­¦æŠ¥ç³»ç»Ÿ</li>
                    <li>åˆ†æé”™è¯¯è¶‹åŠ¿ä»¥æ”¹è¿›åº”ç”¨ç¨‹åºè´¨é‡</li>
                </ul>
                <p>å¸¸ç”¨çš„é”™è¯¯ç›‘æ§å·¥å…·åŒ…æ‹¬ï¼šSentryã€LogRocketã€New Relicç­‰ã€‚</p>
            </div>
        </div>
        
        <h2>9. å®é™…åº”ç”¨ç¤ºä¾‹ï¼šè¡¨å•éªŒè¯å™¨>
        <div class="example-section">
            <p>ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨è‡ªå®šä¹‰é”™è¯¯è¿›è¡Œè¡¨å•éªŒè¯çš„å®é™…ç¤ºä¾‹ã€‚</p>
            <div class="card">
                <h3>é«˜çº§è¡¨å•éªŒè¯ï¼ˆä½¿ç”¨è‡ªå®šä¹‰é”™è¯¯ç±»ï¼‰</h3>
                <div class="input-group">
                    <label for="productName">äº§å“åç§°:</label>
                    <input type="text" id="productName" placeholder="è¯·è¾“å…¥äº§å“åç§°">
                </div>
                <div class="input-group">
                    <label for="productPrice">äº§å“ä»·æ ¼:</label>
                    <input type="number" id="productPrice" step="0.01" placeholder="è¯·è¾“å…¥äº§å“ä»·æ ¼">
                </div>
                <div class="input-group">
                    <label for="productStock">åº“å­˜æ•°é‡:</label>
                    <input type="number" id="productStock" placeholder="è¯·è¾“å…¥åº“å­˜æ•°é‡">
                </div>
                <div class="input-group">
                    <label for="productCategory">äº§å“åˆ†ç±»:</label>
                    <select id="productCategory">
                        <option value="">è¯·é€‰æ‹©åˆ†ç±»</option>
                        <option value="electronics">ç”µå­äº§å“</option>
                        <option value="clothing">æœè£…</option>
                        <option value="food">é£Ÿå“</option>
                        <option value="books">å›¾ä¹¦</option>
                    </select>
                </div>
                <button onclick="validateProductForm()" class="success-button">æäº¤è¡¨å•</button>
            </div>
            <div id="formValidatorResult" class="result-box">éªŒè¯ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</div>
        </div>
    </div>

    <script>
        // è¾…åŠ©å‡½æ•°
        function displayResult(elementId, content) {
            const element = document.getElementById(elementId);
            element.textContent = content;
        }
        
        function appendResult(elementId, content) {
            const element = document.getElementById(elementId);
            element.textContent += '\n' + content;
        }
        
        // 1. åŸºæœ¬try-catchæ¼”ç¤º
        function runBasicTryCatchDemo() {
            displayResult('basicTryCatchResult', 'å¼€å§‹åŸºæœ¬try-catchæ¼”ç¤º...');
            
            try {
                appendResult('basicTryCatchResult', 'æ‰§è¡Œtryå—ä¸­çš„ä»£ç ');
                
                // è¿™æ®µä»£ç ä¸ä¼šæŠ›å‡ºé”™è¯¯
                const x = 10;
                const y = 5;
                const result = x + y;
                
                appendResult('basicTryCatchResult', `è®¡ç®—ç»“æœ: ${x} + ${y} = ${result}`);
                
            } catch (error) {
                appendResult('basicTryCatchResult', `æ•è·åˆ°é”™è¯¯: ${error.message}`);
            } finally {
                appendResult('basicTryCatchResult', 'æ‰§è¡Œfinallyå—ä¸­çš„ä»£ç ');
                appendResult('basicTryCatchResult', 'æ¼”ç¤ºå®Œæˆ!');
            }
        }
        
        function runZeroDivisionDemo() {
            displayResult('basicTryCatchResult', 'å¼€å§‹é™¤é›¶æ¼”ç¤º...');
            
            try {
                appendResult('basicTryCatchResult', 'å°è¯•é™¤ä»¥é›¶');
                const result = 10 / 0;
                appendResult('basicTryCatchResult', `ç»“æœ: ${result}`);
                appendResult('basicTryCatchResult', 'æ³¨æ„: JavaScriptä¸­é™¤ä»¥é›¶ä¸ä¼šæŠ›å‡ºé”™è¯¯ï¼Œè€Œæ˜¯è¿”å›Infinity');
            } catch (error) {
                appendResult('basicTryCatchResult', `æ•è·åˆ°é”™è¯¯: ${error.message}`);
            } finally {
                appendResult('basicTryCatchResult', 'æ¼”ç¤ºå®Œæˆ!');
            }
        }
        
        function runReferenceErrorDemo() {
            displayResult('basicTryCatchResult', 'å¼€å§‹å¼•ç”¨é”™è¯¯æ¼”ç¤º...');
            
            try {
                appendResult('basicTryCatchResult', 'å°è¯•è®¿é—®æœªå®šä¹‰çš„å˜é‡');
                // æ•…æ„è®¿é—®æœªå®šä¹‰çš„å˜é‡
                appendResult('basicTryCatchResult', `æœªå®šä¹‰å˜é‡çš„å€¼: ${undefinedVariable}`);
            } catch (error) {
                appendResult('basicTryCatchResult', `é”™è¯¯ç±»å‹: ${error.name}`);
                appendResult('basicTryCatchResult', `é”™è¯¯ä¿¡æ¯: ${error.message}`);
            } finally {
                appendResult('basicTryCatchResult', 'æ¼”ç¤ºå®Œæˆ!');
            }
        }
        
        // 2. å„ç§é”™è¯¯ç±»å‹æ¼”ç¤º
        function triggerSyntaxError() {
            displayResult('errorTypeResult', 'å°è¯•è§¦å‘SyntaxError...');
            
            try {
                // è¿™è¡Œä»£ç æœ‰è¯­æ³•é”™è¯¯ï¼Œä½†æ˜¯åœ¨å®é™…æ‰§è¡Œå‰å°±ä¼šè¢«JavaScriptå¼•æ“æ•è·
                // æ‰€ä»¥æˆ‘ä»¬é€šè¿‡evalæ¥åŠ¨æ€æ‰§è¡Œæœ‰è¯­æ³•é”™è¯¯çš„ä»£ç 
                eval('let 123invalid = 42;'); // å˜é‡åä¸èƒ½ä»¥æ•°å­—å¼€å¤´
            } catch (error) {
                appendResult('errorTypeResult', `é”™è¯¯ç±»å‹: ${error.name}`);
                appendResult('errorTypeResult', `é”™è¯¯ä¿¡æ¯: ${error.message}`);
                appendResult('errorTypeResult', 'SyntaxErroré€šå¸¸åœ¨ä»£ç è§£æé˜¶æ®µå°±è¢«æ•è·ï¼Œè€Œä¸æ˜¯åœ¨è¿è¡Œæ—¶');
            }
        }
        
        function triggerReferenceError() {
            displayResult('errorTypeResult', 'å°è¯•è§¦å‘ReferenceError...');
            
            try {
                // è®¿é—®ä¸å­˜åœ¨çš„å˜é‡
                appendResult('errorTypeResult', `ä¸å­˜åœ¨å˜é‡çš„å€¼: ${nonExistentVariable}`);
            } catch (error) {
                appendResult('errorTypeResult', `é”™è¯¯ç±»å‹: ${error.name}`);
                appendResult('errorTypeResult', `é”™è¯¯ä¿¡æ¯: ${error.message}`);
            }
        }
        
        function triggerTypeError() {
            displayResult('errorTypeResult', 'å°è¯•è§¦å‘TypeError...');
            
            try {
                // å°è¯•åœ¨å­—ç¬¦ä¸²ä¸Šè°ƒç”¨æ•°ç»„æ–¹æ³•
                const str = 'hello';
                appendResult('errorTypeResult', 'å°è¯•åœ¨å­—ç¬¦ä¸²ä¸Šè°ƒç”¨pushæ–¹æ³•');
                str.push('!'); // å­—ç¬¦ä¸²æ²¡æœ‰pushæ–¹æ³•
            } catch (error) {
                appendResult('errorTypeResult', `é”™è¯¯ç±»å‹: ${error.name}`);
                appendResult('errorTypeResult', `é”™è¯¯ä¿¡æ¯: ${error.message}`);
            }
        }
        
        function triggerRangeError() {
            displayResult('errorTypeResult', 'å°è¯•è§¦å‘RangeError...');
            
            try {
                // åˆ›å»ºé•¿åº¦ä¸ºè´Ÿæ•°çš„æ•°ç»„
                appendResult('errorTypeResult', 'å°è¯•åˆ›å»ºé•¿åº¦ä¸ºè´Ÿæ•°çš„æ•°ç»„');
                const arr = [];
                arr.length = -1; // æ•°ç»„é•¿åº¦ä¸èƒ½ä¸ºè´Ÿæ•°
            } catch (error) {
                appendResult('errorTypeResult', `é”™è¯¯ç±»å‹: ${error.name}`);
                appendResult('errorTypeResult', `é”™è¯¯ä¿¡æ¯: ${error.message}`);
            }
        }
        
        function triggerURIError() {
            displayResult('errorTypeResult', 'å°è¯•è§¦å‘URIError...');
            
            try {
                // ä½¿ç”¨æ— æ•ˆçš„URIç»„ä»¶
                appendResult('errorTypeResult', 'å°è¯•è§£ç æ— æ•ˆçš„URIç»„ä»¶');
                decodeURIComponent('%'); // æ— æ•ˆçš„URIç»„ä»¶
            } catch (error) {
                appendResult('errorTypeResult', `é”™è¯¯ç±»å‹: ${error.name}`);
                appendResult('errorTypeResult', `é”™è¯¯ä¿¡æ¯: ${error.message}`);
            }
        }
        
        // 3. æŠ›å‡ºé”™è¯¯æ¼”ç¤º
        function runDivisionDemo() {
            const num1 = parseFloat(document.getElementById('num1').value);
            const num2 = parseFloat(document.getElementById('num2').value);
            
            displayResult('throwErrorResult', `å¼€å§‹é™¤æ³•æ“ä½œ: ${num1} Ã· ${num2}`);
            
            try {
                // å‚æ•°éªŒè¯
                if (isNaN(num1) || isNaN(num2)) {
                    throw new TypeError('å‚æ•°å¿…é¡»æ˜¯æœ‰æ•ˆæ•°å­—');
                }
                
                // ä¸šåŠ¡é€»è¾‘éªŒè¯
                if (num2 === 0) {
                    throw new Error('é™¤æ•°ä¸èƒ½ä¸ºé›¶');
                }
                
                // æ‰§è¡Œæ“ä½œ
                const result = num1 / num2;
                appendResult('throwErrorResult', `è®¡ç®—æˆåŠŸ! ç»“æœ: ${result}`);
                
            } catch (error) {
                if (error instanceof TypeError) {
                    appendResult('throwErrorResult', `ç±»å‹é”™è¯¯: ${error.message}`);
                } else {
                    appendResult('throwErrorResult', `è®¡ç®—é”™è¯¯: ${error.message}`);
                }
            }
        }
        
        // 4. è‡ªå®šä¹‰é”™è¯¯ç±»å’Œè¡¨å•éªŒè¯
        // å®šä¹‰è‡ªå®šä¹‰éªŒè¯é”™è¯¯ç±»
        class ValidationError extends Error {
            constructor(message, fieldName) {
                super(message);
                this.name = 'ValidationError';
                this.fieldName = fieldName;
                this.timestamp = new Date().toISOString();
            }
        }
        
        // å®šä¹‰å…·ä½“çš„éªŒè¯é”™è¯¯ç±»
        class RequiredFieldError extends ValidationError {
            constructor(fieldName) {
                super(`${fieldName}ä¸èƒ½ä¸ºç©º`, fieldName);
                this.name = 'RequiredFieldError';
            }
        }
        
        class EmailFormatError extends ValidationError {
            constructor(fieldName) {
                super(`${fieldName}æ ¼å¼ä¸æ­£ç¡®ï¼Œéœ€è¦åŒ…å«@ç¬¦å·`, fieldName);
                this.name = 'EmailFormatError';
            }
        }
        
        class MinValueError extends ValidationError {
            constructor(fieldName, minValue) {
                super(`${fieldName}å¿…é¡»å¤§äºæˆ–ç­‰äº${minValue}`, fieldName);
                this.name = 'MinValueError';
                this.minValue = minValue;
            }
        }
        
        // ç”¨æˆ·æ³¨å†ŒéªŒè¯
        function validateRegistration() {
            const username = document.getElementById('username').value;
            const email = document.getElementById('email').value;
            const age = parseInt(document.getElementById('age').value);
            
            displayResult('customErrorResult', 'å¼€å§‹ç”¨æˆ·æ³¨å†ŒéªŒè¯...');
            
            try {
                // éªŒè¯ç”¨æˆ·å
                if (!username || username.trim() === '') {
                    throw new RequiredFieldError('ç”¨æˆ·å');
                }
                
                // éªŒè¯é‚®ç®±
                if (!email) {
                    throw new RequiredFieldError('é‚®ç®±');
                } else if (!email.includes('@')) {
                    throw new EmailFormatError('é‚®ç®±');
                }
                
                // éªŒè¯å¹´é¾„
                if (isNaN(age)) {
                    throw new RequiredFieldError('å¹´é¾„');
                } else if (age < 18) {
                    throw new MinValueError('å¹´é¾„', 18);
                }
                
                // éªŒè¯æˆåŠŸ
                appendResult('customErrorResult', 'ğŸ‰ æ‰€æœ‰éªŒè¯é€šè¿‡! å¯ä»¥è¿›è¡Œæ³¨å†Œ');
                appendResult('customErrorResult', `- ç”¨æˆ·å: ${username}`);
                appendResult('customErrorResult', `- é‚®ç®±: ${email}`);
                appendResult('customErrorResult', `- å¹´é¾„: ${age}`);
                
            } catch (error) {
                // æ ¹æ®é”™è¯¯ç±»å‹è¿›è¡Œä¸åŒå¤„ç†
                if (error instanceof ValidationError) {
                    appendResult('customErrorResult', `âŒ ${error.name}: ${error.message}`);
                    appendResult('customErrorResult', `- é”™è¯¯å­—æ®µ: ${error.fieldName}`);
                    appendResult('customErrorResult', `- é”™è¯¯æ—¶é—´: ${new Date(error.timestamp).toLocaleString()}`);
                    
                    // æ ¹æ®é”™è¯¯ç±»å‹æ·»åŠ ç‰¹å®šä¿¡æ¯
                    if (error instanceof MinValueError) {
                        appendResult('customErrorResult', `- æœ€å°å€¼è¦æ±‚: ${error.minValue}`);
                    }
                } else {
                    appendResult('customErrorResult', `âŒ æœªçŸ¥é”™è¯¯: ${error.message}`);
                }
            }
        }
        
        // 5. å¼‚æ­¥é”™è¯¯å¤„ç†
        function runAsyncErrorDemo() {
            displayResult('asyncErrorResult', 'å¼€å§‹å¼‚æ­¥é”™è¯¯å¤„ç†æ¼”ç¤º...');
            
            // æ¨¡æ‹Ÿå¼‚æ­¥æ“ä½œï¼Œå¯èƒ½æˆåŠŸæˆ–å¤±è´¥
            function simulateAsyncOperation(success = false) {
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        if (success) {
                            resolve('æ“ä½œæˆåŠŸå®Œæˆ');
                        } else {
                            reject(new Error('å¼‚æ­¥æ“ä½œå¤±è´¥'));
                        }
                    }, 1000);
                });
            }
            
            // ä½¿ç”¨Promiseé“¾å¤„ç†é”™è¯¯
            appendResult('asyncErrorResult', '\n=== Promiseé“¾é”™è¯¯å¤„ç† ===');
            simulateAsyncOperation(false)
                .then(result => {
                    appendResult('asyncErrorResult', `æˆåŠŸ: ${result}`);
                })
                .catch(error => {
                    appendResult('asyncErrorResult', `Promise.catchæ•è·: ${error.message}`);
                    
                    // ç°åœ¨æµ‹è¯•async/awaité”™è¯¯å¤„ç†
                    appendResult('asyncErrorResult', '\n=== async/awaité”™è¯¯å¤„ç† ===');
                    testAsyncAwaitError();
                });
            
            // ä½¿ç”¨async/awaitå¤„ç†é”™è¯¯
            async function testAsyncAwaitError() {
                try {
                    appendResult('asyncErrorResult', 'æ‰§è¡Œasyncå‡½æ•°...');
                    const result = await simulateAsyncOperation(true); // è¿™æ¬¡è®©å®ƒæˆåŠŸ
                    appendResult('asyncErrorResult', `async/awaitæˆåŠŸ: ${result}`);
                    
                    // æµ‹è¯•å†æ¬¡å¤±è´¥
                    appendResult('asyncErrorResult', 'å†æ¬¡æ‰§è¡Œasyncå‡½æ•°ï¼Œä½†è¿™æ¬¡ä¼šå¤±è´¥...');
                    await simulateAsyncOperation(false);
                } catch (error) {
                    appendResult('asyncErrorResult', `try/catchæ•è·: ${error.message}`);
                } finally {
                    appendResult('asyncErrorResult', '\nå¼‚æ­¥é”™è¯¯å¤„ç†æ¼”ç¤ºå®Œæˆ!');
                }
            }
        }
        
        // 6. å †æ ˆè·Ÿè¸ªæ¼”ç¤º
        function runStackTraceDemo() {
            displayResult('stackTraceResult', 'å¼€å§‹å †æ ˆè·Ÿè¸ªæ¼”ç¤º...');
            
            try {
                function levelOne() {
                    appendResult('stackTraceResult', 'æ‰§è¡ŒlevelOneå‡½æ•°');
                    levelTwo();
                }
                
                function levelTwo() {
                    appendResult('stackTraceResult', 'æ‰§è¡ŒlevelTwoå‡½æ•°');
                    levelThree();
                }
                
                function levelThree() {
                    appendResult('stackTraceResult', 'æ‰§è¡ŒlevelThreeå‡½æ•°ï¼Œè¿™é‡Œä¼šæŠ›å‡ºé”™è¯¯');
                    throw new Error('è¿™æ˜¯ä¸€ä¸ªç”¨äºæ¼”ç¤ºå †æ ˆè·Ÿè¸ªçš„é”™è¯¯');
                }
                
                levelOne();
                
            } catch (error) {
                appendResult('stackTraceResult', `\né”™è¯¯åç§°: ${error.name}`);
                appendResult('stackTraceResult', `é”™è¯¯ä¿¡æ¯: ${error.message}`);
                appendResult('stackTraceResult', '\nå †æ ˆè·Ÿè¸ªä¿¡æ¯:');
                appendResult('stackTraceResult', error.stack);
                
                // è§£æå †æ ˆè·Ÿè¸ª
                const stackLines = error.stack.split('\n');
                appendResult('stackTraceResult', '\nè§£æåçš„å †æ ˆè°ƒç”¨é“¾:');
                
                // è·³è¿‡å‰ä¸¤è¡Œï¼ˆé”™è¯¯ä¿¡æ¯å’ŒæŠ›å‡ºé”™è¯¯çš„è¡Œï¼‰
                for (let i = 2; i < stackLines.length; i++) {
                    if (stackLines[i].trim()) {
                        appendResult('stackTraceResult', `  ${i - 1}. ${stackLines[i].trim()}`);
                    }
                }
            }
        }
        
        // 7. å…¨å±€é”™è¯¯å¤„ç†
        function runGlobalErrorDemo() {
            displayResult('globalErrorResult', 'å¼€å§‹å…¨å±€é”™è¯¯å¤„ç†æ¼”ç¤º...');
            
            // ä¿å­˜åŸå§‹çš„onerrorå¤„ç†å™¨
            const originalOnError = window.onerror;
            const originalOnUnhandledRejection = window.onunhandledrejection;
            
            // è®¾ç½®å…¨å±€é”™è¯¯å¤„ç†å™¨
            window.onerror = function(message, source, lineno, colno, error) {
                appendResult('globalErrorResult', '\næ•è·åˆ°å…¨å±€é”™è¯¯:');
                appendResult('globalErrorResult', `- æ¶ˆæ¯: ${message}`);
                appendResult('globalErrorResult', `- æºæ–‡ä»¶: ${source}`);
                appendResult('globalErrorResult', `- è¡Œå·: ${lineno}`);
                appendResult('globalErrorResult', `- åˆ—å·: ${colno}`);
                if (error) {
                    appendResult('globalErrorResult', `- é”™è¯¯å¯¹è±¡: ${error.name}: ${error.message}`);
                }
                return true; // é˜»æ­¢é»˜è®¤å¤„ç†
            };
            
            // è®¾ç½®æœªå¤„ç†Promiseæ‹’ç»å¤„ç†å™¨
            window.addEventListener('unhandledrejection', function(event) {
                appendResult('globalErrorResult', '\næ•è·åˆ°æœªå¤„ç†çš„Promiseæ‹’ç»:');
                appendResult('globalErrorResult', `- åŸå› : ${event.reason}`);
                if (event.reason instanceof Error) {
                    appendResult('globalErrorResult', `- é”™è¯¯ä¿¡æ¯: ${event.reason.message}`);
                }
            });
            
            // è§¦å‘åŒæ­¥å…¨å±€é”™è¯¯
            appendResult('globalErrorResult', 'å°è¯•è§¦å‘åŒæ­¥å…¨å±€é”™è¯¯...');
            try {
                // è¿™å°†è§¦å‘å…¨å±€é”™è¯¯å¤„ç†å™¨
                setTimeout(() => {
                    // æ•…æ„è®¿é—®æœªå®šä¹‰çš„å‡½æ•°
                    undefinedFunction();
                }, 100);
            } catch (e) {
                // è¿™ä¸ªé”™è¯¯ä¸ä¼šåœ¨è¿™é‡Œè¢«æ•è·ï¼Œå› ä¸ºsetTimeoutå›è°ƒä¸­çš„é”™è¯¯å‘ç”Ÿåœ¨ä¸åŒçš„æ‰§è¡Œä¸Šä¸‹æ–‡
                appendResult('globalErrorResult', 'è¿™é‡Œä¸ä¼šæ•è·åˆ°setTimeoutä¸­çš„é”™è¯¯');
            }
            
            // è§¦å‘æœªå¤„ç†çš„Promiseæ‹’ç»
            appendResult('globalErrorResult', '\nå°è¯•è§¦å‘æœªå¤„ç†çš„Promiseæ‹’ç»...');
            setTimeout(() => {
                // æ•…æ„åˆ›å»ºä¸€ä¸ªä¼šè¢«æ‹’ç»ä½†æ²¡æœ‰.catch()çš„Promise
                new Promise((resolve, reject) => {
                    reject(new Error('è¿™æ˜¯ä¸€ä¸ªæœªå¤„ç†çš„Promiseæ‹’ç»'));
                });
                
                // æ¸…ç† - æ¢å¤åŸå§‹çš„å¤„ç†å™¨
                setTimeout(() => {
                    window.onerror = originalOnError;
                    window.removeEventListener('unhandledrejection', originalOnUnhandledRejection);
                    appendResult('globalErrorResult', '\nå…¨å±€é”™è¯¯å¤„ç†å™¨å·²æ¢å¤ä¸ºåŸå§‹çŠ¶æ€');
                    appendResult('globalErrorResult', 'å…¨å±€é”™è¯¯å¤„ç†æ¼”ç¤ºå®Œæˆ!');
                }, 500);
            }, 500);
        }
        
        // 8. é«˜çº§è¡¨å•éªŒè¯å™¨ç¤ºä¾‹
        class FormValidator {
            constructor() {
                this.errors = [];
            }
            
            // æ¸…ç©ºé”™è¯¯
            clearErrors() {
                this.errors = [];
            }
            
            // å¿…å¡«å­—æ®µéªŒè¯
            required(value, fieldName) {
                if (!value || (typeof value === 'string' && value.trim() === '')) {
                    this.errors.push(new RequiredFieldError(fieldName));
                    return false;
                }
                return true;
            }
            
            // æœ€å°é•¿åº¦éªŒè¯
            minLength(value, minLength, fieldName) {
                if (value && value.length < minLength) {
                    this.errors.push(new ValidationError(`${fieldName}é•¿åº¦ä¸èƒ½å°‘äº${minLength}ä¸ªå­—ç¬¦`, fieldName));
                    return false;
                }
                return true;
            }
            
            // æ•°å€¼èŒƒå›´éªŒè¯
            minValue(value, minValue, fieldName) {
                const numValue = parseFloat(value);
                if (!isNaN(numValue) && numValue < minValue) {
                    this.errors.push(new MinValueError(fieldName, minValue));
                    return false;
                }
                return true;
            }
            
            // éç©ºé€‰æ‹©éªŒè¯
            notEmpty(value, fieldName) {
                if (!value || value === '') {
                    this.errors.push(new ValidationError(`${fieldName}å¿…é¡»é€‰æ‹©ä¸€ä¸ªé€‰é¡¹`, fieldName));
                    return false;
                }
                return true;
            }
            
            // è·å–é”™è¯¯ä¿¡æ¯
            getErrorMessages() {
                return this.errors.map(error => error.message);
            }
            
            // æ˜¯å¦æœ‰é”™è¯¯
            isValid() {
                return this.errors.length === 0;
            }
        }
        
        // äº§å“è¡¨å•éªŒè¯
        function validateProductForm() {
            const productName = document.getElementById('productName').value;
            const productPrice = document.getElementById('productPrice').value;
            const productStock = document.getElementById('productStock').value;
            const productCategory = document.getElementById('productCategory').value;
            
            displayResult('formValidatorResult', 'å¼€å§‹äº§å“è¡¨å•éªŒè¯...');
            
            // åˆ›å»ºéªŒè¯å™¨å®ä¾‹
            const validator = new FormValidator();
            
            // æ‰§è¡ŒéªŒè¯
            validator.required(productName, 'äº§å“åç§°');
            validator.minLength(productName, 2, 'äº§å“åç§°');
            
            validator.required(productPrice, 'äº§å“ä»·æ ¼');
            validator.minValue(productPrice, 0.01, 'äº§å“ä»·æ ¼');
            
            validator.required(productStock, 'åº“å­˜æ•°é‡');
            validator.minValue(productStock, 0, 'åº“å­˜æ•°é‡');
            
            validator.notEmpty(productCategory, 'äº§å“åˆ†ç±»');
            
            // æ˜¾ç¤ºéªŒè¯ç»“æœ
            if (validator.isValid()) {
                appendResult('formValidatorResult', 'ğŸ‰ æ‰€æœ‰éªŒè¯é€šè¿‡! è¡¨å•æ•°æ®æœ‰æ•ˆ');
                appendResult('formValidatorResult', '\nè¡¨å•æ•°æ®:');
                appendResult('formValidatorResult', `- äº§å“åç§°: ${productName}`);
                appendResult('formValidatorResult', `- äº§å“ä»·æ ¼: Â¥${parseFloat(productPrice).toFixed(2)}`);
                appendResult('formValidatorResult', `- åº“å­˜æ•°é‡: ${parseInt(productStock)}`);
                appendResult('formValidatorResult', `- äº§å“åˆ†ç±»: ${productCategory}`);
                
                // è¿™é‡Œå¯ä»¥è¿›è¡Œè¡¨å•æäº¤ç­‰åç»­æ“ä½œ
                appendResult('formValidatorResult', '\nâœ… å‡†å¤‡æäº¤è¡¨å•...');
            } else {
                appendResult('formValidatorResult', 'âŒ è¡¨å•éªŒè¯å¤±è´¥ï¼Œå­˜åœ¨ä»¥ä¸‹é”™è¯¯:');
                validator.getErrorMessages().forEach((message, index) => {
                    appendResult('formValidatorResult', `${index + 1}. ${message}`);
                });
            }
        }
    </script>
</body>
</html>