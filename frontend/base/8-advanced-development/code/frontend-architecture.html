\u003c!DOCTYPE html\u003e
\u003chtml lang="zh-CN"\u003e
\u003chead\u003e
    \u003cmeta charset="UTF-8"\u003e
    \u003cmeta name="viewport" content="width=device-width, initial-scale=1.0"\u003e
    \u003ctitle\u003eå‰ç«¯é«˜çº§æ¶æ„æ¨¡å¼ - é«˜çº§å¼€å‘æŒ‡å—\u003c/title\u003e
    \u003cstyle\u003e
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(135deg, #43cea2 0%, #185a9d 100%);
            color: white;
            padding: 40px 0;
            text-align: center;
            margin-bottom: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        h2 {
            color: #185a9d;
            margin: 30px 0 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #43cea2;
        }
        
        h3 {
            color: #2c7ad6;
            margin: 25px 0 15px;
        }
        
        h4 {
            color: #3b82f6;
            margin: 20px 0 10px;
        }
        
        p {
            margin-bottom: 16px;
            font-size: 1.05em;
        }
        
        .section {
            background: white;
            padding: 30px;
            margin-bottom: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        
        pre {
            background-color: #1e293b;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 6px;
            overflow-x: auto;
            font-family: 'Courier New', Courier, monospace;
            margin: 20px 0;
        }
        
        code {
            font-family: 'Courier New', Courier, monospace;
            background-color: #e2e8f0;
            padding: 2px 6px;
            border-radius: 4px;
        }
        
        .demo-area {
            background-color: #f0f9ff;
            padding: 20px;
            border-left: 4px solid #43cea2;
            margin: 20px 0;
            border-radius: 0 6px 6px 0;
        }
        
        .architecture-diagram {
            background-color: #f8fafc;
            padding: 25px;
            border-radius: 6px;
            margin: 20px 0;
            text-align: center;
            font-family: monospace;
            line-height: 1.8;
            border: 1px solid #e2e8f0;
        }
        
        .pattern-card {
            background-color: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .pros-cons {
            display: flex;
            gap: 20px;
            margin: 20px 0;
        }
        
        .pros, .cons {
            flex: 1;
            padding: 20px;
            border-radius: 6px;
        }
        
        .pros {
            background-color: #e6f7ef;
            border: 1px solid #b7eb8f;
        }
        
        .cons {
            background-color: #fff1f0;
            border: 1px solid #ffccc7;
        }
        
        ul, ol {
            margin-left: 20px;
            margin-bottom: 16px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        button {
            background-color: #43cea2;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px 10px 0;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #36b395;
        }
        
        .result {
            margin-top: 20px;
            padding: 15px;
            background-color: #e6f7ff;
            border: 1px solid #91d5ff;
            border-radius: 4px;
            min-height: 50px;
            font-family: 'Courier New', Courier, monospace;
        }
        
        .highlight {
            background-color: #fff7e6;
            padding: 2px 4px;
            border-radius: 3px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        th {
            background-color: #43cea2;
            color: white;
        }
        
        tr:hover {
            background-color: #f5f5f5;
        }
        
        .warning {
            background-color: #fff7e6;
            border: 1px solid #ffd591;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .tip {
            background-color: #f6ffed;
            border: 1px solid #b7eb8f;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .flow-chart {
            background-color: #f0f9ff;
            padding: 20px;
            border-radius: 6px;
            margin: 20px 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }
        
        .flow-step {
            background-color: white;
            border: 1px solid #91d5ff;
            border-radius: 4px;
            padding: 10px 20px;
            width: 80%;
            text-align: center;
        }
        
        .flow-arrow {
            font-size: 20px;
            color: #43cea2;
        }
    \u003c/style\u003e
\u003c/head\u003e
\u003cbody\u003e
    \u003cdiv class="container"\u003e
        \u003cheader\u003e
            \u003ch1\u003eå‰ç«¯é«˜çº§æ¶æ„æ¨¡å¼\u003c/h1\u003e
            \u003cp\u003eæ„å»ºå¯æ‰©å±•ã€å¯ç»´æŠ¤çš„ç°ä»£å‰ç«¯åº”ç”¨æ¶æ„\u003c/p\u003e
        \u003c/header\u003e
        
        \u003cdiv class="section"\u003e
            \u003ch2\u003e1. å‰ç«¯æ¶æ„æ¼”è¿›æ¦‚è¿°\u003c/h2\u003e
            \u003cp\u003eå‰ç«¯æ¶æ„éšç€WebæŠ€æœ¯çš„å‘å±•è€Œä¸æ–­æ¼”è¿›ï¼Œä»ç®€å•çš„é™æ€é¡µé¢åˆ°å¤æ‚çš„å•é¡µåº”ç”¨ï¼Œæ¶æ„æ¨¡å¼ä¹Ÿéšä¹‹å˜å¾—æ›´åŠ æˆç†Ÿå’Œå¤šæ ·åŒ–ã€‚ç†è§£è¿™äº›æ¼”è¿›æœ‰åŠ©äºæˆ‘ä»¬é€‰æ‹©æœ€é€‚åˆå½“å‰é¡¹ç›®çš„æ¶æ„æ–¹æ¡ˆã€‚\u003c/p\u003e
            
            \u003cdiv class="flow-chart"\u003e
                \u003cdiv class="flow-step"\u003eé™æ€é¡µé¢æ¶æ„ (HTML + CSS)\u003c/div\u003e
                \u003cdiv class="flow-arrow"\u003eâ†“\u003c/div\u003e
                \u003cdiv class="flow-step"\u003ejQueryæ—¶ä»£ (DOMæ“ä½œä¸ºä¸»)\u003c/div\u003e
                \u003cdiv class="flow-arrow"\u003eâ†“\u003c/div\u003e
                \u003cdiv class="flow-step"\u003eMVC/MVPæ¡†æ¶ (AngularJSç­‰)\u003c/div\u003e
                \u003cdiv class="flow-arrow"\u003eâ†“\u003c/div\u003e
                \u003cdiv class="flow-step"\u003eç»„ä»¶åŒ–æ¶æ„ (React, Vue, Angular)\u003c/div\u003e
                \u003cdiv class="flow-arrow"\u003eâ†“\u003c/div\u003e
                \u003cdiv class="flow-step"\u003eå¾®å‰ç«¯æ¶æ„\u003c/div\u003e
            \u003c/flow-chart\u003e
            
            \u003ch3\u003e1.1 ç°ä»£å‰ç«¯æ¶æ„çš„æ ¸å¿ƒå…³æ³¨ç‚¹\u003c/h3\u003e
            \u003cul\u003e
                \u003cli\u003e\u003cstrong\u003eå¯ç»´æŠ¤æ€§\u003c/strong\u003eï¼šä»£ç ç»„ç»‡æ¸…æ™°ï¼Œä¾¿äºç†è§£å’Œä¿®æ”¹\u003c/li\u003e
                \u003cli\u003e\u003cstrong\u003eå¯æ‰©å±•æ€§\u003c/strong\u003eï¼šèƒ½å¤Ÿè½»æ¾æ·»åŠ æ–°åŠŸèƒ½è€Œä¸ç ´åç°æœ‰åŠŸèƒ½\u003c/li\u003e
                \u003cli\u003e\u003cstrong\u003eå¯æµ‹è¯•æ€§\u003c/strong\u003eï¼šç»„ä»¶å’ŒåŠŸèƒ½æ˜“äºå•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•\u003c/li\u003e
                \u003cli\u003e\u003cstrong\u003eæ€§èƒ½ä¼˜åŒ–\u003c/strong\u003eï¼šä»£ç åˆ†å‰²ã€æ‡’åŠ è½½ã€ç¼“å­˜ç­–ç•¥ç­‰\u003c/li\u003e
                \u003cli\u003e\u003cstrong\u003eå›¢é˜Ÿåä½œ\u003c/strong\u003eï¼šé€‚åˆå¤šäººåŒæ—¶å¼€å‘çš„å·¥ä½œæµç¨‹\u003c/li\u003e
            \u003c/ul\u003e
        \u003c/div\u003e
        
        \u003cdiv class="section"\u003e
            \u003ch2\u003e2. ç»„ä»¶åŒ–æ¶æ„æ¨¡å¼\u003c/h2\u003e
            
            \u003ch3\u003e2.1 ç»„ä»¶è®¾è®¡åŸåˆ™\u003c/h3\u003e
            \u003cp\u003eç»„ä»¶åŒ–æ¶æ„æ˜¯ç°ä»£å‰ç«¯å¼€å‘çš„åŸºç¡€ï¼Œè‰¯å¥½çš„ç»„ä»¶è®¾è®¡å¯ä»¥å¤§å¹…æé«˜ä»£ç çš„å¤ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚\u003c/p\u003e
            
            \u003cdiv class="pattern-card"\u003e
                \u003ch4\u003eå•ä¸€èŒè´£åŸåˆ™\u003c/h4\u003e
                \u003cpre\u003e// ä¸å¥½çš„åšæ³•ï¼šä¸€ä¸ªç»„ä»¶è´Ÿè´£å¤ªå¤šåŠŸèƒ½
function UserProfileAndSettings({ user, onUpdate, onDelete }) {
  const [settings, setSettings] = useState({ theme: 'light', notifications: true });
  
  // å¤„ç†ç”¨æˆ·ä¿¡æ¯æ˜¾ç¤º
  // å¤„ç†è®¾ç½®è¡¨å•
  // å¤„ç†APIè°ƒç”¨
  // ...
  
  return (
    \u003cdiv\u003e
      \u003c!-- ç”¨æˆ·ä¿¡æ¯å±•ç¤º --\u003e
      \u003c!-- è®¾ç½®è¡¨å• --\u003e
      \u003c!-- æ“ä½œæŒ‰é’® --\u003e
    \u003c/div\u003e
  );
}

// å¥½çš„åšæ³•ï¼šèŒè´£åˆ†ç¦»çš„ç»„ä»¶
function UserProfile({ user }) {
  return \u003cdiv\u003e{/* åªæ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯ */}\u003c/div\u003e;
}

function UserSettings({ settings, onChange }) {
  return \u003cform\u003e{/* åªå¤„ç†è®¾ç½® */}\u003c/form\u003e;
}

function UserActions({ onUpdate, onDelete }) {
  return \u003cdiv\u003e{/* åªåŒ…å«æ“ä½œæŒ‰é’® */}\u003c/div\u003e;
}

// ç»„åˆä½¿ç”¨
function UserPage({ user, settings, onSettingsChange, onUpdate, onDelete }) {
  return (
    \u003cdiv\u003e
      \u003cUserProfile user={user} /\u003e
      \u003cUserSettings settings={settings} onChange={onSettingsChange} /\u003e
      \u003cUserActions onUpdate={onUpdate} onDelete={onDelete} /\u003e
    \u003c/div\u003e
  );
}
\u003c/pre\u003e
            \u003c/div\u003e
            
            \u003cdiv class="pattern-card"\u003e
                \u003ch4\u003eç»„ä»¶åˆ†ç±»ä¸å±‚çº§è®¾è®¡\u003c/h4\u003e
                \u003cpre\u003e// 1. åŸå­ç»„ä»¶ (Atoms)
function Button({ children, variant = 'primary', onClick }) {
  return (
    \u003cbutton 
      className={`btn btn-${variant}`}
      onClick={onClick}
    \u003e
      {children}
    \u003c/button\u003e
  );
}

function Input({ type, value, onChange, placeholder }) {
  return (
    \u003cinput 
      type={type}
      value={value}
      onChange={onChange}
      placeholder={placeholder}
      className="input"
    /
  );
}

// 2. åˆ†å­ç»„ä»¶ (Molecules)
function SearchBar({ onSearch, placeholder }) {
  const [query, setQuery] = useState('');
  
  const handleSubmit = (e) => {
    e.preventDefault();
    onSearch(query);
  };
  
  return (
    \u003cform onSubmit={handleSubmit} className="search-bar"\u003e
      \u003cInput 
        type="text" 
        value={query}
        onChange={(e) => setQuery(e.target.value)}
        placeholder={placeholder}
      /
      \u003cButton type="submit">æœç´¢</Button>
    \u003c/form\u003e
  );
}

// 3. ç”Ÿç‰©ä½“ç»„ä»¶ (Organisms)
function Header({ user, onSearch, onLogout }) {
  return (
    \u003cheader className="app-header"\u003e
      \u003cdiv className="logo"\u003eMyApp\u003c/div\u003e
      \u003cSearchBar onSearch={onSearch} placeholder="æœç´¢..." /\u003e
      \u003cdiv className="user-menu"\u003e
        \u003cUserAvatar user={user} /\u003e
        \u003cDropdownMenu items={[{ label: 'é€€å‡º', onClick: onLogout }]} /\u003e
      \u003c/div\u003e
    \u003c/header\u003e
  );
}

// 4. æ¨¡æ¿ç»„ä»¶ (Templates)
function PageTemplate({ header, sidebar, children, footer }) {
  return (
    \u003cdiv className="page-template"\u003e
      {header}
      \u003cdiv className="main-content"\u003e
        {sidebar}
        \u003cmain className="content"\u003e{children}\u003c/main\u003e
      \u003c/div\u003e
      {footer}
    \u003c/div\u003e
  );
}

// 5. é¡µé¢ç»„ä»¶ (Pages)
function DashboardPage({ user, metrics, onSearch, onLogout }) {
  return (
    \u003cPageTemplate
      header={\u003cHeader user={user} onSearch={onSearch} onLogout={onLogout} /\u003e}
      sidebar={\u003cSidebar activeItem="dashboard" /\u003e}
      footer={\u003cFooter /\u003e}
    \u003e
      \u003cDashboardContent metrics={metrics} /\u003e
    \u003c/PageTemplate\u003e
  );
}
\u003c/pre\u003e
            \u003c/div\u003e
            
            \u003ch3\u003e2.2 ç»„ä»¶é€šä¿¡æ¨¡å¼\u003c/h3\u003e
            \u003cpre\u003e// 1. Props å‘ä¸‹ä¼ é€’
function ParentComponent() {
  const [value, setValue] = useState('Hello');
  
  return (
    \u003cdiv\u003e
      \u003cChildComponent message={value} onChange={setValue} /\u003e
    \u003c/div\u003e
  );
}

function ChildComponent({ message, onChange }) {
  return (
    \u003cdiv\u003e
      \u003cp\u003e{message}\u003c/p\u003e
      \u003cbutton onClick={() => onChange('Updated Hello')}>æ›´æ–°æ¶ˆæ¯</button\u003e
    \u003c/div\u003e
  );
}

// 2. Context API (è·¨å±‚çº§é€šä¿¡)
const ThemeContext = React.createContext();

function ThemeProvider({ children }) {
  const [theme, setTheme] = useState('light');
  
  return (
    \u003cThemeContext.Provider value={{ theme, setTheme }}\u003e
      {children}
    \u003c/ThemeContext.Provider\u003e
  );
}

function ThemeToggle() {
  const { theme, setTheme } = useContext(ThemeContext);
  
  return (
    \u003cbutton onClick={() => setTheme(theme === 'light' ? 'dark' : 'light')}>
      åˆ‡æ¢åˆ°{theme === 'light' ? 'æ·±è‰²' : 'æµ…è‰²'}ä¸»é¢˜
    \u003c/button\u003e
  );
}

// 3. è‡ªå®šä¹‰Hook (é€»è¾‘å¤ç”¨)
function useLocalStorage(key, initialValue) {
  const [storedValue, setStoredValue] = useState(() => {
    try {
      const item = window.localStorage.getItem(key);
      return item ? JSON.parse(item) : initialValue;
    } catch (error) {
      console.error(error);
      return initialValue;
    }
  });
  
  const setValue = (value) => {
    try {
      const valueToStore = value instanceof Function ? value(storedValue) : value;
      setStoredValue(valueToStore);
      window.localStorage.setItem(key, JSON.stringify(valueToStore));
    } catch (error) {
      console.error(error);
    }
  };
  
  return [storedValue, setValue];
}

// ä½¿ç”¨è‡ªå®šä¹‰Hook
function UserSettings() {
  const [settings, setSettings] = useLocalStorage('userSettings', {
    notifications: true,
    language: 'zh-CN'
  });
  
  return (
    \u003cdiv\u003e
      \u003c!-- è®¾ç½®è¡¨å• --\u003e
    \u003c/div\u003e
  );
}
\u003c/pre\u003e
        \u003c/div\u003e
        
        \u003cdiv class="section"\u003e
            \u003ch2\u003e3. çŠ¶æ€ç®¡ç†æ¶æ„æ¨¡å¼\u003c/h2\u003e
            
            \u003ch3\u003e3.1 çŠ¶æ€åˆ†å±‚æ¶æ„\u003c/h3\u003e
            \u003cp\u003eç°ä»£åº”ç”¨çŠ¶æ€å¯ä»¥åˆ†ä¸ºå¤šä¸ªå±‚æ¬¡ï¼Œä¸åŒå±‚æ¬¡çš„çŠ¶æ€éœ€è¦ä¸åŒçš„ç®¡ç†ç­–ç•¥ã€‚</p\u003e
            
            \u003cdiv class="architecture-diagram"\u003e
                å…¨å±€çŠ¶æ€ (Redux/Context) â† é¡µé¢çŠ¶æ€ (React Component State) â† ç»„ä»¶å†…éƒ¨çŠ¶æ€ (useState)
            \u003c/architecture-diagram\u003e
            
            \u003cdiv class="pattern-card"\u003e
                \u003ch4\u003eRedux Toolkit æ¶æ„ç¤ºä¾‹\u003c/h4\u003e
                \u003cpre\u003e// 1. å®šä¹‰slice (åŠŸèƒ½æ¨¡å—)
import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';

// å¼‚æ­¥action
export const fetchUsers = createAsyncThunk(
  'users/fetchUsers',
  async (_, { rejectWithValue }) => {
    try {
      const response = await fetch('/api/users');
      if (!response.ok) {
        throw new Error('Failed to fetch users');
      }
      return await response.json();
    } catch (error) {
      return rejectWithValue(error.message);
    }
  }
);

// Sliceå®šä¹‰
const usersSlice = createSlice({
  name: 'users',
  initialState: {
    items: [],
    status: 'idle', // 'idle' | 'loading' | 'succeeded' | 'failed'
    error: null
  },
  reducers: {
    addUser: (state, action) => {
      state.items.push(action.payload);
    },
    updateUser: (state, action) => {
      const index = state.items.findIndex(user => user.id === action.payload.id);
      if (index !== -1) {
        state.items[index] = action.payload;
      }
    },
    deleteUser: (state, action) => {
      state.items = state.items.filter(user => user.id !== action.payload);
    }
  },
  extraReducers: (builder) => {
    builder
      .addCase(fetchUsers.pending, (state) => {
        state.status = 'loading';
      })
      .addCase(fetchUsers.fulfilled, (state, action) => {
        state.status = 'succeeded';
        state.items = action.payload;
      })
      .addCase(fetchUsers.rejected, (state, action) => {
        state.status = 'failed';
        state.error = action.payload || 'Failed to fetch users';
      });
  }
});

export const { addUser, updateUser, deleteUser } = usersSlice.actions;
export default usersSlice.reducer;

// 2. é…ç½®store
import { configureStore } from '@reduxjs/toolkit';
import usersReducer from './features/users/usersSlice';
import productsReducer from './features/products/productsSlice';
import cartReducer from './features/cart/cartSlice';

export const store = configureStore({
  reducer: {
    users: usersReducer,
    products: productsReducer,
    cart: cartReducer,
  },
  middleware: (getDefaultMiddleware) =>
    getDefaultMiddleware({
      serializableCheck: false // ç¦ç”¨åºåˆ—åŒ–æ£€æŸ¥ï¼ˆå¦‚æœéœ€è¦ï¼‰
    }),
});

// 3. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨
import { useDispatch, useSelector } from 'react-redux';
import { fetchUsers, deleteUser } from './features/users/usersSlice';

function UsersList() {
  const dispatch = useDispatch();
  const { users, status, error } = useSelector((state) => state.users);
  
  useEffect(() => {
    if (status === 'idle') {
      dispatch(fetchUsers());
    }
  }, [status, dispatch]);
  
  const handleDelete = (id) => {
    dispatch(deleteUser(id));
  };
  
  if (status === 'loading') {
    return \u003cdiv\u003eåŠ è½½ä¸­...\u003c/div\u003e;
  }
  
  if (status === 'failed') {
    return \u003cdiv\u003eé”™è¯¯: {error}\u003c/div\u003e;
  }
  
  return (
    \u003cul\u003e
      {users.map(user => (
        \u003cli key={user.id}\u003e
          {user.name}
          \u003cbutton onClick={() => handleDelete(user.id)}\u003eåˆ é™¤\u003c/button\u003e
        \u003c/li\u003e
      ))}
    \u003c/ul\u003e
  );
}
\u003c/pre\u003e
            \u003c/div\u003e
            
            \u003ch3\u003e3.2 React Query æ•°æ®è·å–æ¶æ„\u003c/h3\u003e
            \u003cpre\u003e// 1. é…ç½® React Query Client
import { QueryClient, QueryClientProvider } from 'react-query';
import { ReactQueryDevtools } from 'react-query/devtools';

const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      retry: 2,
      staleTime: 5 * 60 * 1000, // 5åˆ†é’Ÿ
      cacheTime: 10 * 60 * 1000, // 10åˆ†é’Ÿ
    },
  },
});

function App() {
  return (
    \u003cQueryClientProvider client={queryClient}\u003e
      \u003c!-- åº”ç”¨ç»„ä»¶ --\u003e
      \u003cReactQueryDevtools initialIsOpen={false} /\u003e
    \u003c/QueryClientProvider\u003e
  );
}

// 2. æ•°æ®è·å– hooks
function useUsers() {
  return useQuery('users', fetchUsers, {
    select: (data) => data.sort((a, b) => a.name.localeCompare(b.name)),
    onError: (error) => {
      console.error('Failed to fetch users:', error);
    },
  });
}

function useUser(id) {
  return useQuery(['user', id], () => fetchUser(id), {
    enabled: !!id, // åªæœ‰å½“idå­˜åœ¨æ—¶æ‰æ‰§è¡ŒæŸ¥è¯¢
  });
}

// 3. æ•°æ®æ›´æ–° mutations
function useCreateUser() {
  const queryClient = useQueryClient();
  
  return useMutation(createUser, {
    onSuccess: () => {
      // ä½¿usersæŸ¥è¯¢å¤±æ•ˆï¼Œè§¦å‘é‡æ–°è·å–
      queryClient.invalidateQueries('users');
    },
    onError: (error) => {
      console.error('Failed to create user:', error);
    },
  });
}

// 4. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨
function UsersManagement() {
  const { data: users, isLoading, error, refetch } = useUsers();
  const [createUser] = useCreateUser();
  
  const handleSubmit = async (userData) => {
    try {
      await createUser.mutateAsync(userData);
    } catch (error) {
      // é”™è¯¯å¤„ç†å·²åœ¨mutationä¸­å¤„ç†
    }
  };
  
  if (isLoading) return \u003cdiv\u003eåŠ è½½ä¸­...\u003c/div\u003e;
  if (error) return \u003cdiv\u003eé”™è¯¯: {error.message}\u003c/div\u003e;
  
  return (
    \u003cdiv\u003e
      \u003cUserForm onSubmit={handleSubmit} /\u003e
      \u003cUserList users={users} /\u003e
      \u003cbutton onClick={refetch}\u003eåˆ·æ–°æ•°æ®\u003c/button\u003e
    \u003c/div\u003e
  );
}
\u003c/pre\u003e
            
            \u003ch3\u003e3.3 çŠ¶æ€ç®¡ç†æœ€ä½³å®è·µ\u003c/h3\u003e
            \u003cul\u003e
                \u003cli\u003eåªå°†éœ€è¦è·¨ç»„ä»¶å…±äº«çš„çŠ¶æ€æå‡åˆ°å…¨å±€çŠ¶æ€ç®¡ç†åº“ä¸­\u003c/li\u003e
                \u003cli\u003eé¿å…çŠ¶æ€é‡å¤ï¼Œç¡®ä¿å•ä¸€æ•°æ®æº\u003c/li\u003e
                \u003cli\u003eä½¿ç”¨é€‰æ‹©å™¨(selectors)ä»å…¨å±€çŠ¶æ€ä¸­æ´¾ç”Ÿæ•°æ®\u003c/li\u003e
                \u003cli\u003eåˆç†è®¾è®¡çŠ¶æ€ç»“æ„ï¼ŒæŒ‰åŠŸèƒ½æ¨¡å—åˆ’åˆ†\u003c/li\u003e
                \u003cli\u003eå¤„ç†å¥½å¼‚æ­¥çŠ¶æ€ï¼ŒåŒ…æ‹¬åŠ è½½ä¸­ã€æˆåŠŸã€å¤±è´¥ç­‰çŠ¶æ€\u003c/li\u003e
                \u003cli\u003eè€ƒè™‘ä½¿ç”¨æŒä¹…åŒ–å­˜å‚¨ä¿å­˜å…³é”®çŠ¶æ€\u003c/li\u003e
            \u003c/ul\u003e
        \u003c/div\u003e
        
        \u003cdiv class="section"\u003e
            \u003ch2\u003e4. é¢†åŸŸé©±åŠ¨è®¾è®¡ (DDD) åœ¨å‰ç«¯çš„åº”ç”¨\u003c/h2\u003e
            
            \u003ch3\u003e4.1 å‰ç«¯é¢†åŸŸæ¨¡å‹è®¾è®¡\u003c/h3\u003e
            \u003cp\u003eé¢†åŸŸé©±åŠ¨è®¾è®¡å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ç»„ç»‡å‰ç«¯ä»£ç ï¼Œä½¿å…¶ä¸ä¸šåŠ¡é¢†åŸŸä¿æŒä¸€è‡´ï¼Œæé«˜å¯ç»´æŠ¤æ€§å’Œå¯ç†è§£æ€§ã€‚\u003c/p\u003e
            
            \u003cdiv class="pattern-card"\u003e
                \u003ch4\u003eé¢†åŸŸæ¨¡å‹ç¤ºä¾‹ - ç”µå•†åº”ç”¨\u003c/h4\u003e
                \u003cpre\u003e// 1. å®ä½“ (Entity) - å…·æœ‰å”¯ä¸€æ ‡è¯†çš„å¯¹è±¡
class Product {
  constructor(id, name, price, description, category) {
    this.id = id;
    this.name = name;
    this.price = price;
    this.description = description;
    this.category = category;
    this.createdAt = new Date();
  }
  
  updatePrice(newPrice) {
    if (newPrice < 0) throw new Error('ä»·æ ¼ä¸èƒ½ä¸ºè´Ÿæ•°');
    this.price = newPrice;
    this.updatedAt = new Date();
  }
  
  // ä¸šåŠ¡æ–¹æ³•
  isInCategory(targetCategory) {
    return this.category === targetCategory;
  }
  
  toDTO() {
    return {
      id: this.id,
      name: this.name,
      price: this.price,
      description: this.description,
      category: this.category
    };
  }
}

// 2. å€¼å¯¹è±¡ (Value Object) - ä¸ä¾èµ–æ ‡è¯†çš„å¯¹è±¡
class Money {
  constructor(amount, currency = 'CNY') {
    if (typeof amount !== 'number' || amount < 0) {
      throw new Error('æ— æ•ˆçš„é‡‘é¢');
    }
    this.amount = amount;
    this.currency = currency;
  }
  
  add(other) {
    if (other.currency !== this.currency) {
      throw new Error('è´§å¸ç±»å‹ä¸åŒ¹é…');
    }
    return new Money(this.amount + other.amount, this.currency);
  }
  
  subtract(other) {
    if (other.currency !== this.currency) {
      throw new Error('è´§å¸ç±»å‹ä¸åŒ¹é…');
    }
    if (this.amount < other.amount) {
      throw new Error('ä½™é¢ä¸è¶³');
    }
    return new Money(this.amount - other.amount, this.currency);
  }
}

// 3. èšåˆ (Aggregate) - ç›¸å…³å®ä½“å’Œå€¼å¯¹è±¡çš„ç»„åˆ
class Cart {
  constructor(cartId, userId) {
    this.id = cartId;
    this.userId = userId;
    this.items = [];
    this.createdAt = new Date();
  }
  
  addItem(product, quantity = 1) {
    const existingItem = this.items.find(item => item.product.id === product.id);
    
    if (existingItem) {
      existingItem.quantity += quantity;
    } else {
      this.items.push({
        product,
        quantity,
        addedAt: new Date()
      });
    }
    
    this.updatedAt = new Date();
  }
  
  removeItem(productId) {
    this.items = this.items.filter(item => item.product.id !== productId);
    this.updatedAt = new Date();
  }
  
  calculateTotal() {
    return this.items.reduce((total, item) => {
      const itemPrice = new Money(item.product.price * item.quantity);
      return total.add(itemPrice);
    }, new Money(0));
  }
  
  getItemsCount() {
    return this.items.reduce((count, item) => count + item.quantity, 0);
  }
}

// 4. é¢†åŸŸæœåŠ¡ (Domain Service) - å¤„ç†è·¨å®ä½“çš„ä¸šåŠ¡é€»è¾‘
class OrderService {
  constructor(paymentGateway, inventoryService) {
    this.paymentGateway = paymentGateway;
    this.inventoryService = inventoryService;
  }
  
  async createOrder(cart, shippingAddress, paymentMethod) {
    // æ£€æŸ¥åº“å­˜
    for (const item of cart.items) {
      const inStock = await this.inventoryService.checkInventory(item.product.id, item.quantity);
      if (!inStock) {
        throw new Error(`å•†å“ ${item.product.name} åº“å­˜ä¸è¶³`);
      }
    }
    
    // è®¡ç®—è®¢å•æ€»é¢
    const total = cart.calculateTotal();
    
    // åˆ›å»ºè®¢å•
    const order = new Order(
      generateOrderId(),
      cart.userId,
      cart.items,
      total,
      shippingAddress,
      paymentMethod,
      'pending'
    );
    
    // å¤„ç†æ”¯ä»˜
    const paymentResult = await this.paymentGateway.processPayment({
      amount: total.amount,
      currency: total.currency,
      method: paymentMethod
    });
    
    if (paymentResult.success) {
      order.confirmPayment(paymentResult.transactionId);
      
      // æ‰£é™¤åº“å­˜
      await Promise.all(cart.items.map(item => 
        this.inventoryService.reduceStock(item.product.id, item.quantity)
      ));
      
      return order;
    } else {
      throw new Error('æ”¯ä»˜å¤±è´¥: ' + paymentResult.message);
    }
  }
}
\u003c/pre\u003e
            \u003c/div\u003e
            
            \u003ch3\u003e4.2 å‰ç«¯é¡¹ç›®ç»“æ„ç»„ç»‡\u003c/h3\u003e
            \u003cpre\u003e// æŒ‰é¢†åŸŸç»„ç»‡çš„é¡¹ç›®ç»“æ„ç¤ºä¾‹
/src
  /domains                # é¢†åŸŸå±‚
    /product
      /entities
        Product.js
        ProductCategory.js
      /services
        ProductService.js
      /repositories
        ProductRepository.js
      /hooks
        useProducts.js
    /order
      /entities
        Order.js
        OrderItem.js
      /services
        OrderService.js
      /repositories
        OrderRepository.js
    /cart
      /entities
        Cart.js
        CartItem.js
      /services
        CartService.js
    /user
      /entities
        User.js
        Address.js
      /services
        UserService.js
  
  /app                    # åº”ç”¨å±‚
    /router
      index.js
      routes.js
    /store
      index.js
      slices/
        productSlice.js
        orderSlice.js
        cartSlice.js
        userSlice.js
  
  /presentation           # è¡¨ç¤ºå±‚
    /components
      /common             # é€šç”¨ç»„ä»¶
        Button.js
        Input.js
        Modal.js
      /product            # äº§å“é¢†åŸŸç»„ä»¶
        ProductCard.js
        ProductList.js
        ProductDetail.js
      /order              # è®¢å•é¢†åŸŸç»„ä»¶
        OrderSummary.js
        OrderHistory.js
      /cart               # è´­ç‰©è½¦é¢†åŸŸç»„ä»¶
        CartItem.js
        CartSummary.js
    /pages
      HomePage.js
      ProductPage.js
      CartPage.js
      CheckoutPage.js
      OrderHistoryPage.js
    /layouts
      MainLayout.js
      DashboardLayout.js
  
  /shared                 # å…±äº«åŸºç¡€è®¾æ–½
    /api
      apiClient.js
    /utils
      formatters.js
      validators.js
    /hooks
      useLocalStorage.js
      useForm.js
  
  App.js
  index.js
\u003c/pre\u003e
            
            \u003cdiv class="tip"\u003e
                \u003ch4\u003eğŸ’¡ æç¤º</h4\u003e
                \u003cp\u003eé¢†åŸŸé©±åŠ¨è®¾è®¡ç‰¹åˆ«é€‚åˆå¤æ‚ä¸šåŠ¡é€»è¾‘çš„åº”ç”¨ã€‚å¯¹äºç®€å•åº”ç”¨ï¼Œè¿‡åº¦çš„DDDå¯èƒ½ä¼šå¢åŠ ä¸å¿…è¦çš„å¤æ‚æ€§ã€‚åº”æ ¹æ®é¡¹ç›®è§„æ¨¡å’Œå¤æ‚åº¦é€‰æ‹©åˆé€‚çš„æ¶æ„æ·±åº¦ã€‚</p\u003e
            \u003c/div\u003e
        \u003c/div\u003e
        
        \u003cdiv class="section"\u003e
            \u003ch2\u003e5. å‰æ²¿æ¶æ„æ¨¡å¼æ¢ç´¢\u003c/h2\u003e
            
            \u003ch3\u003e5.1 åŸºäºåŸå­è®¾è®¡çš„ç»„ä»¶ç³»ç»Ÿ\u003c/h3\u003e
            \u003cdiv class="pros-cons"\u003e
                \u003cdiv class="pros"\u003e
                    \u003ch4\u003eâœ… ä¼˜åŠ¿</h4\u003e
                    \u003cul>
                        \u003cli>å»ºç«‹ä¸€è‡´çš„è®¾è®¡ç³»ç»Ÿå’Œç»„ä»¶åº“</li>
                        \u003cli>ç»„ä»¶å¤ç”¨ç‡é«˜ï¼Œå‡å°‘é‡å¤ä»£ç </li>
                        \u003cli>è®¾è®¡å’Œå¼€å‘ä¹‹é—´çš„åä½œæ›´åŠ é¡ºç•…</li>
                        \u003cli>ç»´æŠ¤æˆæœ¬é™ä½ï¼Œæ ·å¼å˜æ›´åªéœ€åœ¨ä¸€å¤„ä¿®æ”¹</li>
                    \u003c/ul>
                \u003c/div\u003e
                \u003cdiv class="cons"\u003e
                    \u003ch4\u003eâŒ æŒ‘æˆ˜</h4\u003e
                    \u003cul>
                        \u003cli>åˆå§‹è®¾ç½®æˆæœ¬è¾ƒé«˜</li>
                        \u003cli>éœ€è¦å›¢é˜Ÿç»Ÿä¸€ç†è§£å’Œéµå¾ªè®¾è®¡è§„èŒƒ</li>
                        \u003cli>è¿‡åº¦è®¾è®¡å¯èƒ½å¯¼è‡´çµæ´»æ€§ä¸è¶³</li>
                        \u003cli>ç»„ä»¶å±‚çº§è¿‡å¤šå¯èƒ½å½±å“æ€§èƒ½</li>
                    \u003c/ul>
                \u003c/div\u003e
            \u003c/div\u003e
            
            \u003ch3\u003e5.2 åŸºäºå¾®å‰ç«¯çš„å¾®æœåŠ¡æ¶æ„\u003c/h3\u003e
            \u003cpre\u003e// å¾®å‰ç«¯æ¶æ„ç¤ºä¾‹ - ä½¿ç”¨Module Federation
// webpack.config.js (å®¹å™¨åº”ç”¨)
const { ModuleFederationPlugin } = require('webpack').container;

module.exports = {
  plugins: [
    new ModuleFederationPlugin({
      name: 'container',
      filename: 'remoteEntry.js',
      remotes: {
        productApp: 'productApp@http://localhost:3001/remoteEntry.js',
        cartApp: 'cartApp@http://localhost:3002/remoteEntry.js',
        userApp: 'userApp@http://localhost:3003/remoteEntry.js',
      },
      shared: {
        react: {
          singleton: true,
          requiredVersion: '^17.0.2',
        },
        'react-dom': {
          singleton: true,
          requiredVersion: '^17.0.2',
        },
      },
    }),
  ],
};

// è¿œç¨‹åº”ç”¨é…ç½® (å¦‚productApp)
module.exports = {
  plugins: [
    new ModuleFederationPlugin({
      name: 'productApp',
      filename: 'remoteEntry.js',
      exposes: {
        './ProductsList': './src/ProductsList',
        './ProductDetail': './src/ProductDetail',
        './ProductStore': './src/store',
      },
      shared: {
        react: {
          singleton: true,
          requiredVersion: '^17.0.2',
        },
        'react-dom': {
          singleton: true,
          requiredVersion: '^17.0.2',
        },
      },
    }),
  ],
};

// å®¹å™¨åº”ç”¨ä¸­ä½¿ç”¨è¿œç¨‹æ¨¡å—
import React, { lazy, Suspense } from 'react';
import { BrowserRouter, Routes, Route } from 'react-router-dom';

const ProductsList = lazy(() => import('productApp/ProductsList'));
const ProductDetail = lazy(() => import('productApp/ProductDetail'));
const Cart = lazy(() => import('cartApp/Cart'));
const UserProfile = lazy(() => import('userApp/UserProfile'));

function App() {
  return (
    \u003cBrowserRouter\u003e
      \u003cSuspense fallback={\u003cdiv\u003eåŠ è½½ä¸­...\u003c/div\u003e}\u003e
        \u003cRoutes\u003e
          \u003cRoute path="/" element={\u003cHomePage /\u003e} /\u003e
          \u003cRoute path="/products" element={\u003cProductsList /\u003e} /\u003e
          \u003cRoute path="/products/:id" element={\u003cProductDetail /\u003e} /\u003e
          \u003cRoute path="/cart" element={\u003cCart /\u003e} /\u003e
          \u003cRoute path="/profile" element={\u003cUserProfile /\u003e} /\u003e
        \u003c/Routes\u003e
      \u003c/Suspense\u003e
    \u003c/BrowserRouter\u003e
  );
}
\u003c/pre\u003e
            
            \u003ch3\u003e5.3 å‡½æ•°å¼å‰ç«¯æ¶æ„\u003c/h3\u003e
            \u003cpre\u003e// ä½¿ç”¨å‡½æ•°å¼ç¼–ç¨‹èŒƒå¼æ„å»ºå‰ç«¯åº”ç”¨
import React from 'react';
import { pipe, map, filter, reduce } from 'ramda';

// çº¯å‡½æ•° - æ•°æ®è½¬æ¢
const formatPrice = (price, currency = 'Â¥') => `${currency}${price.toFixed(2)}`;

const calculateTotal = items => 
  reduce((total, item) => total + item.price * item.quantity, 0, items);

const filterInStock = filter(item => item.inStock);

const sortByPrice = items => 
  [...items].sort((a, b) => a.price - b.price);

// ç»„åˆå‡½æ•°
const processProducts = pipe(
  filterInStock,
  sortByPrice,
  map(item => ({ ...item, formattedPrice: formatPrice(item.price) }))
);

// å‡½æ•°å¼ç»„ä»¶
function ProductsList({ products }) {
  // å¤„ç†äº§å“æ•°æ®
  const processedProducts = processProducts(products);
  
  // å‡½æ•°å¼æ¸²æŸ“
  return (
    \u003cul className="products-list"\u003e
      {processedProducts.map(product => (
        \u003cli key={product.id} className="product-item"\u003e
          \u003ch3\u003e{product.name}\u003c/h3\u003e
          \u003cspan className="price"\u003e{product.formattedPrice}\u003c/span\u003e
        \u003c/li\u003e
      ))}
    \u003c/ul\u003e
  );
}

// ä½¿ç”¨è‡ªå®šä¹‰Hookè¿›è¡ŒçŠ¶æ€ç®¡ç† (å‡½æ•°å¼æ–¹å¼)
function useCart() {
  const [items, setItems] = React.useState([]);
  
  // çº¯å‡½æ•°å¼æ›´æ–°
  const addItem = React.useCallback((product, quantity = 1) => {
    setItems(prevItems => {
      const existingItem = prevItems.find(item => item.product.id === product.id);
      
      if (existingItem) {
        return prevItems.map(item => 
          item.product.id === product.id 
            ? { ...item, quantity: item.quantity + quantity }
            : item
        );
      }
      
      return [...prevItems, { product, quantity }];
    });
  }, []);
  
  // æ´¾ç”ŸçŠ¶æ€ - è®¡ç®—å±æ€§
  const totalItems = React.useMemo(() => 
    reduce((count, item) => count + item.quantity, 0, items),
    [items]
  );
  
  const totalAmount = React.useMemo(() => 
    calculateTotal(items),
    [items]
  );
  
  return {
    items,
    addItem,
    removeItem: React.useCallback((productId) => {
      setItems(prevItems => 
        prevItems.filter(item => item.product.id !== productId)
      );
    }, []),
    totalItems,
    totalAmount: formatPrice(totalAmount),
    isEmpty: items.length === 0
  };
}
\u003c/pre\u003e
        \u003c/div\u003e
        
        \u003cdiv class="section"\u003e
            \u003ch2\u003e6. æ¶æ„é€‰æ‹©ä¸æ¼”è¿›ç­–ç•¥\u003c/h2\u003e
            
            \u003ch3\u003e6.1 æ¶æ„é€‰æ‹©è€ƒè™‘å› ç´ \u003c/h3\u003e
            \u003ctable\u003e
                \u003ctr\u003e
                    \u003cth\u003eè€ƒè™‘å› ç´ \u003c/th\u003e
                    \u003cth\u003eå°å‹åº”ç”¨\u003c/th\u003e
                    \u003cth\u003eä¸­å‹åº”ç”¨\u003c/th\u003e
                    \u003cth\u003eå¤§å‹åº”ç”¨\u003c/th\u003e
                \u003c/tr\u003e
                \u003ctr\u003e
                    \u003ctd\u003eå›¢é˜Ÿè§„æ¨¡\u003c/td\u003e
                    \u003ctd\u003e1-3äºº\u003c/td\u003e
                    \u003ctd\u003e4-10äºº\u003c/td\u003e
                    \u003ctd\u003e10+äºº\u003c/td\u003e
                \u003c/tr\u003e
                \u003ctr\u003e
                    \u003ctd\u003eæ¨èæ¶æ„\u003c/td\u003e
                    \u003ctd\u003eç®€å•ç»„ä»¶åŒ–\u003c/td\u003e
                    \u003ctd\u003eç»„ä»¶ç³»ç»Ÿ + çŠ¶æ€ç®¡ç†\u003c/td\u003e
                    \u003ctd\u003eDDD + å¾®å‰ç«¯\u003c/td\u003e
                \u003c/tr\u003e
                \u003ctr\u003e
                    \u003ctd\u003eçŠ¶æ€ç®¡ç†\u003c/td\u003e
                    \u003ctd\u003eReact Context\u003c/td\u003e
                    \u003ctd\u003eRedux Toolkit/Recoil\u003c/td\u003e
                    \u003ctd\u003eé¢†åŸŸçŠ¶æ€ + å…¨å±€çŠ¶æ€\u003c/td\u003e
                \u003c/tr\u003e
                \u003ctr\u003e
                    \u003ctd\u003eæ•°æ®è·å–\u003c/td\u003e
                    \u003ctd\u003eç›´æ¥fetch\u003c/td\u003e
                    \u003ctd\u003eReact Query/SWR\u003c/td\u003e
                    \u003ctd\u003eé¢†åŸŸæœåŠ¡ + ç¼“å­˜ç­–ç•¥\u003c/td\u003e
                \u003c/tr\u003e
            \u003c/table\u003e
            
            \u003ch3\u003e6.2 æ¶æ„æ¼”è¿›ç­–ç•¥\u003c/h3\u003e
            \u003col\u003e
                \u003cli\u003e\u003cstrong\u003eæ¸è¿›å¼é‡‡ç”¨\u003c/strong\u003eï¼šä¸è¦è¯•å›¾ä¸€æ¬¡æ€§é‡æ„æ•´ä¸ªåº”ç”¨ï¼Œé‡‡ç”¨å¢é‡æ–¹å¼æ”¹è¿›æ¶æ„\u003c/li\u003e
                \u003cli\u003e\u003cstrong\u003eä¿æŒæ ¸å¿ƒç¨³å®š\u003c/strong\u003eï¼šæ ¸å¿ƒæ¶æ„å†³ç­–åº”ä¿æŒç›¸å¯¹ç¨³å®šï¼Œé¿å…é¢‘ç¹å˜æ›´\u003c/li\u003e
                \u003cli\u003e\u003cstrong\u003eå»ºç«‹æ¶æ„æ²»ç†\u003c/strong\u003eï¼šåˆ¶å®šæ¶æ„è®¾è®¡å†³ç­–è®°å½•(ADR)å’Œä»£ç å®¡æŸ¥æ ‡å‡†\u003c/li\u003e
                \u003cli\u003e\u003cstrong\u003eæŒç»­å­¦ä¹ ä¸æ”¹è¿›\u003c/strong\u003eï¼šå®šæœŸè¯„ä¼°æ¶æ„çš„æœ‰æ•ˆæ€§ï¼Œå¼•å…¥æ–°çš„æœ€ä½³å®è·µ\u003c/li\u003e
                \u003cli\u003e\u003cstrong\u003eè‡ªåŠ¨åŒ–ä¿éšœ\u003c/strong\u003eï¼šé€šè¿‡è‡ªåŠ¨åŒ–æµ‹è¯•ã€é™æ€ä»£ç åˆ†æç­‰å·¥å…·ç¡®ä¿æ¶æ„åˆè§„æ€§\u003c/li\u003e
            \u003c/ol\u003e
            
            \u003cdiv class="demo-area"\u003e
                \u003ch4\u003eæ¶æ„è¯„ä¼°å·¥å…·\u003c/h4\u003e
                \u003cbutton id="architectureAssessBtn"\u003eè¿è¡Œæ¶æ„è¯„ä¼°æ£€æŸ¥æ¸…å•\u003c/button\u003e
                \u003cdiv id="architectureAssessResult" class="result"\u003e\u003c/div\u003e
            \u003c/div\u003e
        \u003c/div\u003e
    \u003c/div\u003e
    
    \u003cscript\u003e
        // æ¶æ„è¯„ä¼°å·¥å…·æ¼”ç¤º
        document.getElementById('architectureAssessBtn').addEventListener('click', function() {
            const result = document.getElementById('architectureAssessResult');
            result.innerHTML = 'å¼€å§‹æ¶æ„è¯„ä¼°...\n\n';
            
            // æ¨¡æ‹Ÿè¯„ä¼°è¿‡ç¨‹
            setTimeout(() => {
                result.innerHTML += 'ğŸ” æ£€æŸ¥ä»£ç ç»„ç»‡ç»“æ„\n';
                
                setTimeout(() => {
                    result.innerHTML += 'âœ… ä»£ç ç»„ç»‡ç»“æ„æ¸…æ™°ï¼ŒæŒ‰åŠŸèƒ½æ¨¡å—åˆ’åˆ†\n';
                    result.innerHTML += 'ğŸ” è¯„ä¼°ç»„ä»¶è®¾è®¡æ¨¡å¼\n';
                    
                    setTimeout(() => {
                        result.innerHTML += 'âœ… ç»„ä»¶éµå¾ªå•ä¸€èŒè´£åŸåˆ™\n';
                        result.innerHTML += 'âœ… ç»„ä»¶å¤ç”¨ç‡é«˜\n';
                        result.innerHTML += 'âš ï¸ å»ºè®®æ”¹è¿›ï¼šéƒ¨åˆ†ç»„ä»¶è€¦åˆåº¦è¾ƒé«˜\n';
                        result.innerHTML += 'ğŸ” è¯„ä¼°çŠ¶æ€ç®¡ç†ç­–ç•¥\n';
                        
                        setTimeout(() => {
                            result.innerHTML += 'âœ… çŠ¶æ€åˆ†å±‚åˆç†\n';
                            result.innerHTML += 'âœ… ä½¿ç”¨äº†é€‰æ‹©å™¨æ´¾ç”Ÿæ•°æ®\n';
                            result.innerHTML += 'âš ï¸ å»ºè®®æ”¹è¿›ï¼šå…¨å±€çŠ¶æ€è¿‡å¤šï¼Œè€ƒè™‘å°†éƒ¨åˆ†çŠ¶æ€ä¸‹æ²‰\n';
                            result.innerHTML += 'ğŸ” è¯„ä¼°æ•°æ®è·å–ç­–ç•¥\n';
                            
                            setTimeout(() => {
                                result.innerHTML += 'âœ… å®ç°äº†æ•°æ®ç¼“å­˜æœºåˆ¶\n';
                                result.innerHTML += 'âœ… é”™è¯¯å¤„ç†å®Œå–„\n';
                                result.innerHTML += 'âœ… åŠ è½½çŠ¶æ€ç®¡ç†åˆç†\n';
                                result.innerHTML += 'ğŸ” è¯„ä¼°ä»£ç å¯æµ‹è¯•æ€§\n';
                                
                                setTimeout(() => {
                                    result.innerHTML += 'âœ… ä¸šåŠ¡é€»è¾‘ä¸UIåˆ†ç¦»\n';
                                    result.innerHTML += 'âš ï¸ å»ºè®®æ”¹è¿›ï¼šå¢åŠ å•å…ƒæµ‹è¯•è¦†ç›–ç‡\n';
                                    result.innerHTML += 'ğŸ” è¯„ä¼°æ€§èƒ½ä¼˜åŒ–æªæ–½\n';
                                    
                                    setTimeout(() => {
                                        result.innerHTML += 'âœ… å®ç°äº†ä»£ç åˆ†å‰²\n';
                                        result.innerHTML += 'âœ… ä½¿ç”¨äº†æ‡’åŠ è½½\n';
                                        result.innerHTML += 'âœ… ç»„ä»¶ä¼˜åŒ–è‰¯å¥½\n';
                                        
                                        // æœ€ç»ˆè¯„åˆ†
                                        setTimeout(() => {
                                            result.innerHTML += '\nğŸ“Š æ¶æ„è¯„ä¼°å®Œæˆ\n';
                                            result.innerHTML += 'æ€»ä½“è¯„åˆ†: 85/100\n\n';
                                            
                                            result.innerHTML += 'ğŸ“ˆ ä¼˜åŠ¿ï¼š\n';
                                            result.innerHTML += 'â€¢ æ¸…æ™°çš„ä»£ç ç»„ç»‡ç»“æ„\n';
                                            result.innerHTML += 'â€¢ è‰¯å¥½çš„ç»„ä»¶è®¾è®¡åŸåˆ™\n';
                                            result.innerHTML += 'â€¢ å®Œå–„çš„æ•°æ®ç®¡ç†ç­–ç•¥\n';
                                            result.innerHTML += 'â€¢ æœ‰æ•ˆçš„æ€§èƒ½ä¼˜åŒ–æªæ–½\n\n';
                                            
                                            result.innerHTML += 'ğŸ“‰ æ”¹è¿›å»ºè®®ï¼š\n';
                                            result.innerHTML += '1. é™ä½ç»„ä»¶é—´è€¦åˆåº¦\n';
                                            result.innerHTML += '2. ä¼˜åŒ–å…¨å±€çŠ¶æ€ç®¡ç†\n';
                                            result.innerHTML += '3. æé«˜å•å…ƒæµ‹è¯•è¦†ç›–ç‡\n';
                                            result.innerHTML += '4. å»ºç«‹æ¶æ„è®¾è®¡å†³ç­–æ–‡æ¡£\n';
                                            result.innerHTML += '5. è€ƒè™‘å¼•å…¥æ›´å¤šé¢†åŸŸé©±åŠ¨è®¾è®¡æ€æƒ³\n\n';
                                            
                                            result.innerHTML += 'ğŸ’¡ æ¶æ„æ¼”è¿›è·¯çº¿å»ºè®®ï¼š\n';
                                            result.innerHTML += 'â€¢ çŸ­æœŸï¼šé‡æ„é«˜è€¦åˆç»„ä»¶ï¼Œä¼˜åŒ–çŠ¶æ€ç®¡ç†\n';
                                            result.innerHTML += 'â€¢ ä¸­æœŸï¼šå¢åŠ è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œå»ºç«‹æ¶æ„è§„èŒƒ\n';
                                            result.innerHTML += 'â€¢ é•¿æœŸï¼šæ¢ç´¢å¾®å‰ç«¯æ¶æ„ï¼Œè¿›ä¸€æ­¥é¢†åŸŸåŒ–æ”¹é€ ';
                                        }, 1000);
                                    }, 1000);
                                }, 1000);
                            }, 1000);
                        }, 1000);
                    }, 1000);
                }, 1000);
            }, 800);
        });
    \u003c/script\u003e
\u003c/body\u003e
\u003c/html\u003e