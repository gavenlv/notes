<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœåŠ¡ç«¯æ¸²æŸ“ä¸é™æ€ç«™ç‚¹ç”Ÿæˆ - é«˜çº§å¼€å‘æŒ‡å—</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px 0;
            text-align: center;
            margin-bottom: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        h2 {
            color: #4a148c;
            margin: 30px 0 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #667eea;
        }
        
        h3 {
            color: #5e35b1;
            margin: 25px 0 15px;
        }
        
        h4 {
            color: #7b1fa2;
            margin: 20px 0 10px;
        }
        
        p {
            margin-bottom: 16px;
            font-size: 1.05em;
        }
        
        .section {
            background: white;
            padding: 30px;
            margin-bottom: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        
        pre {
            background-color: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 6px;
            overflow-x: auto;
            font-family: 'Courier New', Courier, monospace;
            margin: 20px 0;
        }
        
        code {
            font-family: 'Courier New', Courier, monospace;
            background-color: #edf2f7;
            padding: 2px 6px;
            border-radius: 4px;
        }
        
        .demo-area {
            background-color: #f8f9fa;
            padding: 20px;
            border-left: 4px solid #667eea;
            margin: 20px 0;
            border-radius: 0 6px 6px 0;
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        .comparison-table th, .comparison-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        .comparison-table th {
            background-color: #667eea;
            color: white;
        }
        
        .comparison-table tr:hover {
            background-color: #f5f5f5;
        }
        
        .pros-cons {
            display: flex;
            gap: 20px;
            margin: 20px 0;
        }
        
        .pros, .cons {
            flex: 1;
            padding: 20px;
            border-radius: 6px;
        }
        
        .pros {
            background-color: #e8f5e9;
            border: 1px solid #c8e6c9;
        }
        
        .cons {
            background-color: #ffebee;
            border: 1px solid #ffcdd2;
        }
        
        ul, ol {
            margin-left: 20px;
            margin-bottom: 16px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        button {
            background-color: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px 10px 0;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #5a67d8;
        }
        
        .result {
            margin-top: 20px;
            padding: 15px;
            background-color: #e6f3ff;
            border: 1px solid #b3d9ff;
            border-radius: 4px;
            min-height: 50px;
            font-family: 'Courier New', Courier, monospace;
        }
        
        .highlight {
            background-color: #fff9c4;
            padding: 2px 4px;
            border-radius: 3px;
        }
        
        .architecture-diagram {
            background-color: #f5f5f5;
            padding: 20px;
            border-radius: 6px;
            margin: 20px 0;
            text-align: center;
            font-family: monospace;
            line-height: 1.8;
        }
        
        .framework-card {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .warning {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .tip {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>æœåŠ¡ç«¯æ¸²æŸ“ä¸é™æ€ç«™ç‚¹ç”Ÿæˆ</h1>
            <p>æå‡Webåº”ç”¨æ€§èƒ½ä¸SEOçš„ç°ä»£æ¸²æŸ“ç­–ç•¥</p>
        </header>
        
        <div class="section">
            <h2>1. æ¸²æŸ“ç­–ç•¥æ¦‚è¿°</h2>
            <p>ç°ä»£Webåº”ç”¨å¼€å‘ä¸­æœ‰å¤šç§æ¸²æŸ“ç­–ç•¥ï¼Œæ¯ç§ç­–ç•¥éƒ½æœ‰å…¶ç‰¹å®šçš„ä¼˜åŠ¿å’Œé€‚ç”¨åœºæ™¯ã€‚ç†è§£è¿™äº›ç­–ç•¥ä¹‹é—´çš„å·®å¼‚å¯¹äºæ„å»ºé«˜æ€§èƒ½ã€SEOå‹å¥½çš„åº”ç”¨è‡³å…³é‡è¦ã€‚</p>
            
            <div class="comparison-table">
                <table>
                    <tr>
                        <th>æ¸²æŸ“ç­–ç•¥</th>
                        <th>æ¸²æŸ“ä½ç½®</th>
                        <th>åˆå§‹åŠ è½½é€Ÿåº¦</th>
                        <th>SEOå‹å¥½åº¦</th>
                        <th>é€‚ç”¨åœºæ™¯</th>
                    </tr>
                    <tr>
                        <td>å®¢æˆ·ç«¯æ¸²æŸ“ (CSR)</td>
                        <td>æµè§ˆå™¨</td>
                        <td>è¾ƒæ…¢ (å…ˆä¸‹è½½JSå†æ¸²æŸ“)</td>
                        <td>ä¸­ç­‰ (å–å†³äºæœç´¢å¼•æ“çˆ¬è™«èƒ½åŠ›)</td>
                        <td>å¤æ‚äº¤äº’åº”ç”¨ã€åå°ç³»ç»Ÿ</td>
                    </tr>
                    <tr>
                        <td>æœåŠ¡ç«¯æ¸²æŸ“ (SSR)</td>
                        <td>æœåŠ¡å™¨</td>
                        <td>è¾ƒå¿« (ç›´æ¥è¿”å›HTML)</td>
                        <td>é«˜ (å®Œå…¨æ¸²æŸ“çš„HTML)</td>
                        <td>å†…å®¹ç½‘ç«™ã€ç”µå•†ã€éœ€è¦è‰¯å¥½SEOçš„åº”ç”¨</td>
                    </tr>
                    <tr>
                        <td>é™æ€ç«™ç‚¹ç”Ÿæˆ (SSG)</td>
                        <td>æ„å»ºæ—¶</td>
                        <td>æœ€å¿« (é¢„ç”ŸæˆHTML)</td>
                        <td>é«˜ (é¢„æ¸²æŸ“çš„HTML)</td>
                        <td>åšå®¢ã€æ–‡æ¡£ã€äº§å“å±•ç¤ºé¡µ</td>
                    </tr>
                    <tr>
                        <td>å¢é‡é™æ€å†ç”Ÿ (ISR)</td>
                        <td>æ„å»ºæ—¶ + æŒ‰éœ€æ›´æ–°</td>
                        <td>å¿« (é¢„ç”Ÿæˆ) + åŠ¨æ€å†…å®¹</td>
                        <td>é«˜</td>
                        <td>å†…å®¹ç»å¸¸æ›´æ–°ä½†ä¸é¢‘ç¹çš„ç½‘ç«™</td>
                    </tr>
                </table>
            </div>
            
            <div class="demo-area">
                <h4>æ¸²æŸ“ç­–ç•¥å¯¹æ¯”æ¼”ç¤º</h4>
                <button id="compareBtn">è¿è¡Œæ¸²æŸ“ç­–ç•¥å¯¹æ¯”</button>
                <div id="compareResult" class="result"></div>
            </div>
        </div>
        
        <div class="section">
            <h2>2. æœåŠ¡ç«¯æ¸²æŸ“ (SSR) è¯¦è§£</h2>
            
            <h3>2.1 SSR å·¥ä½œåŸç†</h3>
            <p>æœåŠ¡ç«¯æ¸²æŸ“æ˜¯æŒ‡åœ¨æœåŠ¡å™¨ä¸Šå°†Reactã€Vueç­‰æ¡†æ¶çš„ç»„ä»¶è½¬æ¢ä¸ºHTMLå­—ç¬¦ä¸²ï¼Œç„¶åå°†å®Œæ•´çš„HTMLé¡µé¢å‘é€ç»™å®¢æˆ·ç«¯ã€‚å®¢æˆ·ç«¯æ¥æ”¶åˆ°HTMLåï¼Œä¼šæ¿€æ´»è¿™äº›é™æ€æ ‡è®°ï¼Œä½¿å®ƒä»¬æˆä¸ºå¯äº¤äº’çš„åº”ç”¨ï¼ˆæ°´åˆè¿‡ç¨‹ï¼‰ã€‚</p>
            
            <div class="architecture-diagram">
                ç”¨æˆ·è¯·æ±‚ â†’ æœåŠ¡å™¨ â†’ åŠ è½½æ•°æ® â†’ æ¸²æŸ“ç»„ä»¶ â†’ è¿”å›HTML â†’ å®¢æˆ·ç«¯ â†’ æ°´åˆæ¿€æ´»
            </div>
            
            <h3>2.2 SSR çš„ä¼˜åŠ¿ä¸æŒ‘æˆ˜</h3>
            <div class="pros-cons">
                <div class="pros">
                    <h4>âœ… ä¼˜åŠ¿</h4>
                    <ul>
                        <li>æ›´å¿«çš„é¦–æ¬¡å†…å®¹ç»˜åˆ¶ (FCP) å’Œæœ€å¤§å†…å®¹ç»˜åˆ¶ (LCP)</li>
                        <li>æ›´å¥½çš„SEOè¡¨ç°ï¼Œå› ä¸ºæœç´¢å¼•æ“å¯ä»¥ç›´æ¥æŠ“å–å®Œæ•´HTML</li>
                        <li>æ›´å¥½çš„æ€§èƒ½è¡¨ç°ï¼Œç‰¹åˆ«æ˜¯åœ¨ä½æ€§èƒ½è®¾å¤‡ä¸Š</li>
                        <li>æ›´å¥½çš„å¯è®¿é—®æ€§ï¼Œåˆå§‹å†…å®¹æ— éœ€ç­‰å¾…JavaScriptåŠ è½½</li>
                    </ul>
                </div>
                <div class="cons">
                    <h4>âŒ æŒ‘æˆ˜</h4>
                    <ul>
                        <li>æœåŠ¡å™¨è´Ÿè½½å¢åŠ ï¼Œæ¯ä¸ªè¯·æ±‚éƒ½éœ€è¦æ¸²æŸ“é¡µé¢</li>
                        <li>å¼€å‘å¤æ‚åº¦æé«˜ï¼Œéœ€è¦è€ƒè™‘æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ç¯å¢ƒå·®å¼‚</li>
                        <li>å¯èƒ½éœ€è¦ç‰¹æ®Šå¤„ç†æµè§ˆå™¨ç‰¹æœ‰API</li>
                        <li>éƒ¨ç½²æ›´å¤æ‚ï¼Œéœ€è¦æ”¯æŒNode.jsçš„æœåŠ¡å™¨ç¯å¢ƒ</li>
                    </ul>
                </div>
            </div>
            
            <h3>2.3 React SSR å®ç°ç¤ºä¾‹</h3>
            <pre>// æœåŠ¡å™¨ç«¯ä»£ç ç¤ºä¾‹ (ä½¿ç”¨Expresså’ŒReact)
const express = require('express');
const React = require('react');
const ReactDOMServer = require('react-dom/server');
const App = require('./src/App').default;

const app = express();

// é™æ€èµ„æºæœåŠ¡
app.use(express.static('build/public'));

// SSRè·¯ç”±å¤„ç†
app.get('*', async (req, res) => {
  try {
    // 1. é¢„åŠ è½½æ•°æ® (å¦‚æœéœ€è¦)
    const data = await fetchData(req.path);
    
    // 2. æ¸²æŸ“Reactç»„ä»¶ä¸ºHTMLå­—ç¬¦ä¸²
    const html = ReactDOMServer.renderToString(
      &lt;App data={data} /&gt;
    );
    
    // 3. å°†HTMLæ³¨å…¥åˆ°æ¨¡æ¿ä¸­
    const fullHtml = `
      &lt;!DOCTYPE html&gt;
      &lt;html lang="zh-CN"&gt;
      &lt;head&gt;
        &lt;meta charset="UTF-8"&gt;
        &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
        &lt;title&gt;React SSR ç¤ºä¾‹&lt;/title&gt;
        &lt;script&gt;window.__INITIAL_DATA__ = ${JSON.stringify(data)}&lt;/script&gt;
      &lt;/head&gt;
      &lt;body&gt;
        &lt;div id="root"&gt;${html}&lt;/div&gt;
        &lt;script src="/client.js"&gt;&lt;/script&gt;
      &lt;/body&gt;
      &lt;/html&gt;
    `;
    
    res.status(200).send(fullHtml);
  } catch (error) {
    console.error('SSRæ¸²æŸ“é”™è¯¯:', error);
    res.status(500).send('æœåŠ¡å™¨é”™è¯¯');
  }
});

// å®¢æˆ·ç«¯ä»£ç ç¤ºä¾‹
import React from 'react';
import ReactDOM from 'react-dom';
import App from './App';

// ä»windowå¯¹è±¡è·å–åˆå§‹æ•°æ®
const initialData = window.__INITIAL_DATA__;

// æ°´åˆè¿‡ç¨‹ - å°†é™æ€HTMLæ¿€æ´»ä¸ºäº¤äº’å¼Reactåº”ç”¨
ReactDOM.hydrate(
  &lt;App data={initialData} /&gt;,
  document.getElementById('root')
);
</pre>
            
            <h3>2.4 Next.js ä¸­çš„SSRå®ç°</h3>
            <div class="framework-card">
                <h4>Next.js SSRåŠŸèƒ½</h4>
                <pre>// Next.js é¡µé¢ç»„ä»¶ç¤ºä¾‹
import { useState, useEffect } from 'react';

// æœåŠ¡ç«¯è·å–æ•°æ®çš„å‡½æ•°
export async function getServerSideProps(context) {
  // è®¿é—®è¯·æ±‚ä¿¡æ¯
  const { params, req, res, query } = context;
  
  // å¯ä»¥æ ¹æ®ç”¨æˆ·Cookieã€è¯·æ±‚å¤´è¿›è¡Œä¸ªæ€§åŒ–æ¸²æŸ“
  const userAgent = req.headers['user-agent'];
  
  // è·å–æ•°æ®
  const res = await fetch(`https://api.example.com/products/${params.id}`);
  const product = await res.json();
  
  // è¿”å›æ•°æ®ä½œä¸ºpropsä¼ é€’ç»™é¡µé¢ç»„ä»¶
  return {
    props: { product },
  }
}

// é¡µé¢ç»„ä»¶
function ProductPage({ product }) {
  // ç»„ä»¶ä»£ç  - è¿™é‡Œçš„productå·²ç»æ˜¯æœåŠ¡ç«¯æ¸²æŸ“æ—¶è·å–çš„æ•°æ®
  return (
    &lt;div&gt;
      &lt;h1&gt;{product.title}&lt;/h1&gt;
      &lt;p&gt;{product.description}&lt;/p&gt;
    &lt;/div&gt;
  );
}

export default ProductPage;
</pre>
            </div>
        </div>
        
        <div class="section">
            <h2>3. é™æ€ç«™ç‚¹ç”Ÿæˆ (SSG) è¯¦è§£</h2>
            
            <h3>3.1 SSG å·¥ä½œåŸç†</h3>
            <p>é™æ€ç«™ç‚¹ç”Ÿæˆæ˜¯æŒ‡åœ¨æ„å»ºæ—¶é¢„æ¸²æŸ“æ‰€æœ‰é¡µé¢ä¸ºHTMLæ–‡ä»¶ï¼Œç„¶åå°†è¿™äº›é™æ€æ–‡ä»¶éƒ¨ç½²åˆ°CDNæˆ–é™æ€æ–‡ä»¶æœåŠ¡å™¨ã€‚ç”¨æˆ·è¯·æ±‚æ—¶ç›´æ¥è¿”å›é¢„ç”Ÿæˆçš„HTMLï¼Œæ— éœ€æœåŠ¡å™¨å®æ—¶æ¸²æŸ“ã€‚</p>
            
            <div class="architecture-diagram">
                æ„å»ºæ—¶ â†’ é¢„è·å–æ•°æ® â†’ é¢„æ¸²æŸ“HTML â†’ éƒ¨ç½²é™æ€æ–‡ä»¶ â†’ ç”¨æˆ·è¯·æ±‚ â†’ CDN/æœåŠ¡å™¨è¿”å›é™æ€HTML
            </div>
            
            <h3>3.2 SSG çš„ä¼˜åŠ¿ä¸æŒ‘æˆ˜</h3>
            <div class="pros-cons">
                <div class="pros">
                    <h4>âœ… ä¼˜åŠ¿</h4>
                    <ul>
                        <li>æè‡´çš„æ€§èƒ½ï¼Œå› ä¸ºæ˜¯çº¯é™æ€æ–‡ä»¶</li>
                        <li>å¯ä»¥éƒ¨ç½²åˆ°ä»»ä½•é™æ€æ–‡ä»¶æœåŠ¡å™¨æˆ–CDN</li>
                        <li>æ— éœ€æœåŠ¡å™¨è¿è¡Œæ—¶ï¼Œé™ä½è¿ç»´æˆæœ¬</li>
                        <li>æé«˜çš„å¯æ‰©å±•æ€§ï¼ŒCDNå¯ä»¥è½»æ¾å¤„ç†å¤§é‡è¯·æ±‚</li>
                        <li>å®Œç¾çš„SEOè¡¨ç°</li>
                    </ul>
                </div>
                <div class="cons">
                    <h4>âŒ æŒ‘æˆ˜</h4>
                    <ul>
                        <li>å†…å®¹æ›´æ–°éœ€è¦é‡æ–°æ„å»ºå’Œéƒ¨ç½²</li>
                        <li>ä¸é€‚ç”¨äºé¢‘ç¹å˜åŒ–çš„åŠ¨æ€å†…å®¹</li>
                        <li>æ„å»ºæ—¶é—´å¯èƒ½éšç€é¡µé¢æ•°é‡å¢é•¿è€Œå¢åŠ </li>
                        <li>æ— æ³•æ ¹æ®ç”¨æˆ·è¯·æ±‚åŠ¨æ€ç”Ÿæˆå†…å®¹</li>
                    </ul>
                </div>
            </div>
            
            <h3>3.3 Next.js ä¸­çš„SSGå®ç°</h3>
            <div class="framework-card">
                <h4>Next.js SSGåŠŸèƒ½</h4>
                <pre>// åŸºæœ¬é™æ€é¡µé¢ (getStaticProps)
import { useState, useEffect } from 'react';

// æ„å»ºæ—¶è·å–æ•°æ®
export async function getStaticProps() {
  // è·å–æ•°æ®
  const res = await fetch('https://api.example.com/posts');
  const posts = await res.json();
  
  // è¿”å›æ•°æ®ä½œä¸ºprops
  return {
    props: { posts },
    // å¯é€‰ï¼šè®¾ç½®é‡æ–°éªŒè¯æ—¶é—´ï¼ˆISRç‰¹æ€§ï¼‰
    revalidate: 60, // 60ç§’
  }
}

function BlogPage({ posts }) {
  return (
    &lt;div&gt;
      &lt;h1&gt;åšå®¢æ–‡ç« &lt;/h1&gt;
      {posts.map(post =&gt; (
        &lt;div key={post.id}&gt;
          &lt;h2&gt;{post.title}&lt;/h2&gt;
          &lt;p&gt;{post.excerpt}&lt;/p&gt;
        &lt;/div&gt;
      ))}
    &lt;/div&gt;
  );
}

// åŠ¨æ€è·¯ç”±çš„é™æ€ç”Ÿæˆ
export async function getStaticPaths() {
  // è·å–æ‰€æœ‰å¯èƒ½çš„è·¯ç”±å‚æ•°
  const res = await fetch('https://api.example.com/posts');
  const posts = await res.json();
  
  // ç”Ÿæˆè·¯å¾„å‚æ•°
  const paths = posts.map(post =&gt; ({
    params: { id: post.id.toString() },
  }));
  
  // fallback: false è¡¨ç¤ºåªé¢„æ¸²æŸ“pathsä¸­å®šä¹‰çš„è·¯å¾„
  return { paths, fallback: false };
}

export default BlogPage;
</pre>
            </div>
            
            <h3>3.4 å…¶ä»–SSGæ¡†æ¶å¯¹æ¯”</h3>
            <div class="comparison-table">
                <table>
                    <tr>
                        <th>æ¡†æ¶</th>
                        <th>è¯­è¨€</th>
                        <th>ç‰¹ç‚¹</th>
                        <th>é€‚ç”¨åœºæ™¯</th>
                    </tr>
                    <tr>
                        <td>Next.js</td>
                        <td>React</td>
                        <td>å…¨åŠŸèƒ½æ¡†æ¶ï¼Œæ”¯æŒSSRã€SSGã€ISR</td>
                        <td>å„ç±»Webåº”ç”¨ï¼Œä»ç®€å•åšå®¢åˆ°å¤æ‚ç½‘ç«™</td>
                    </tr>
                    <tr>
                        <td>Gatsby</td>
                        <td>React</td>
                        <td>æ•°æ®å±‚å¼ºå¤§ï¼Œä¼˜åŒ–çš„æ„å»ºè¿‡ç¨‹</td>
                        <td>å†…å®¹ä¸°å¯Œçš„ç½‘ç«™ï¼Œéœ€è¦GraphQLé›†æˆ</td>
                    </tr>
                    <tr>
                        <td>Nuxt.js</td>
                        <td>Vue</td>
                        <td>Vueç”Ÿæ€çš„å…¨åŠŸèƒ½SSR/SSGæ¡†æ¶</td>
                        <td>Vueå¼€å‘è€…çš„é¦–é€‰æ¡†æ¶</td>
                    </tr>
                    <tr>
                        <td>Eleventy (11ty)</td>
                        <td>JavaScript</td>
                        <td>è½»é‡çº§ï¼Œå¤šæ¨¡æ¿å¼•æ“æ”¯æŒ</td>
                        <td>ç®€å•åšå®¢ã€æ–‡æ¡£ç½‘ç«™</td>
                    </tr>
                    <tr>
                        <td>Hugo</td>
                        <td>Go</td>
                        <td>æé€Ÿæ„å»ºï¼Œæç®€è¯­æ³•</td>
                        <td>å¯¹æ„å»ºé€Ÿåº¦æœ‰æé«˜è¦æ±‚çš„é¡¹ç›®</td>
                    </tr>
                </table>
            </div>
        </div>
        
        <div class="section">
            <h2>4. å¢é‡é™æ€å†ç”Ÿ (ISR) è¯¦è§£</h2>
            
            <h3>4.1 ISR å·¥ä½œåŸç†</h3>
            <p>å¢é‡é™æ€å†ç”Ÿæ˜¯Next.jså¼•å…¥çš„åˆ›æ–°æŠ€æœ¯ï¼Œç»“åˆäº†SSGçš„æ€§èƒ½ä¼˜åŠ¿å’ŒSSRçš„çµæ´»æ€§ã€‚ISRå…è®¸åœ¨æ„å»ºæ—¶é¢„æ¸²æŸ“é¡µé¢ï¼Œä½†åŒæ—¶ä¹Ÿå¯ä»¥åœ¨ç”¨æˆ·è¯·æ±‚æ—¶æŒ‰éœ€æ›´æ–°è¿™äº›é¡µé¢ï¼Œè€Œæ— éœ€é‡æ–°æ„å»ºæ•´ä¸ªç«™ç‚¹ã€‚</p>
            
            <div class="architecture-diagram">
                æ„å»ºæ—¶é¢„æ¸²æŸ“ â†’ ç”¨æˆ·è¯·æ±‚ â†’ æ£€æŸ¥é¡µé¢æ˜¯å¦è¿‡æœŸ â†’ è¿‡æœŸåˆ™é‡æ–°ç”Ÿæˆ â†’ è¿”å›æœ€æ–°å†…å®¹
            </div>
            
            <h3>4.2 ISR çš„å…³é”®ä¼˜åŠ¿</h3>
            <ul>
                <li><strong>æ··åˆä¼˜åŠ¿</strong>ï¼šç»“åˆäº†SSGçš„æ€§èƒ½å’ŒSSRçš„çµæ´»æ€§</li>
                <li><strong>æŒ‰éœ€æ›´æ–°</strong>ï¼šåªæœ‰è¢«è¯·æ±‚çš„é¡µé¢éœ€è¦æ›´æ–°ï¼Œè€Œä¸æ˜¯æ•´ä¸ªç«™ç‚¹</li>
                <li><strong>é›¶åœæœºæ›´æ–°</strong>ï¼šå†…å®¹æ›´æ–°ä¸éœ€è¦é‡å»ºå’Œé‡æ–°éƒ¨ç½²æ•´ä¸ªç«™ç‚¹</li>
                <li><strong>æ‰©å±•æ€§</strong>ï¼šèƒ½å¤Ÿå¤„ç†å¤§è§„æ¨¡å†…å®¹ç«™ç‚¹ï¼ŒåŒæ—¶ä¿æŒè‰¯å¥½æ€§èƒ½</li>
                <li><strong>ç¼“å­˜æ§åˆ¶</strong>ï¼šå¯ä»¥ä¸ºä¸åŒé¡µé¢è®¾ç½®ä¸åŒçš„é‡æ–°éªŒè¯æ—¶é—´</li>
            </ul>
            
            <h3>4.3 Next.js ä¸­çš„ISRå®ç°</h3>
            <pre>// Next.js ISRç¤ºä¾‹
import { useState, useEffect } from 'react';

// æ„å»ºæ—¶è·å–æ•°æ®ï¼Œå¹¶è®¾ç½®é‡æ–°éªŒè¯æ—¶é—´
export async function getStaticProps() {
  const res = await fetch('https://api.example.com/products');
  const products = await res.json();
  
  return {
    props: { products },
    // è®¾ç½®é‡æ–°éªŒè¯æ—¶é—´ä¸º10åˆ†é’Ÿ
    revalidate: 600, // ç§’
  }
}

// åŠ¨æ€è·¯ç”±çš„ISRå®ç°
export async function getStaticPaths() {
  // åªé¢„æ¸²æŸ“éƒ¨åˆ†çƒ­é—¨é¡µé¢
  const res = await fetch('https://api.example.com/products?featured=true');
  const featuredProducts = await res.json();
  
  const paths = featuredProducts.map(product => ({
    params: { id: product.id.toString() },
  }));
  
  // fallback: 'blocking' è¡¨ç¤ºæœªé¢„æ¸²æŸ“çš„é¡µé¢åœ¨é¦–æ¬¡è¯·æ±‚æ—¶ä¼šè¢«æœåŠ¡å™¨æ¸²æŸ“
  // fallback: true è¡¨ç¤ºè¿”å›fallbackç‰ˆæœ¬ï¼ŒåŒæ—¶åå°ç”Ÿæˆé¡µé¢
  return { paths, fallback: 'blocking' };
}

function ProductListing({ products }) {
  return (
    <div>
      <h1>äº§å“åˆ—è¡¨</h1>
      {products.map(product => (
        <div key={product.id}>
          <h2>{product.name}</h2>
          <p>${product.price}</p>
        </div>
      ))}
    </div>
  );
}

export default ProductListing;
</pre>
            
            <div class="tip">
                <h4>ğŸ’¡ æç¤º</h4>
                <p>ISRç‰¹åˆ«é€‚åˆå†…å®¹ç»å¸¸æ›´æ–°ä½†ä¸éœ€è¦å®æ—¶åæ˜ çš„åœºæ™¯ï¼Œå¦‚åšå®¢ã€æ–°é—»ç½‘ç«™ã€äº§å“ç›®å½•ç­‰ã€‚é€šè¿‡è®¾ç½®åˆç†çš„revalidateæ—¶é—´ï¼Œå¯ä»¥åœ¨æ€§èƒ½å’Œå†…å®¹æ–°é²œåº¦ä¹‹é—´å–å¾—å¹³è¡¡ã€‚</p>
            </div>
        </div>
        
        <div class="section">
            <h2>5. æ¸²æŸ“ç­–ç•¥é€‰æ‹©æŒ‡å—</h2>
            
            <h3>5.1 é€‰æ‹©åˆé€‚çš„æ¸²æŸ“ç­–ç•¥</h3>
            <p>é€‰æ‹©æ­£ç¡®çš„æ¸²æŸ“ç­–ç•¥å–å†³äºå¤šç§å› ç´ ï¼ŒåŒ…æ‹¬åº”ç”¨ç±»å‹ã€å†…å®¹æ›´æ–°é¢‘ç‡ã€æ€§èƒ½è¦æ±‚å’ŒSEOéœ€æ±‚ã€‚</p>
            
            <div class="demo-area">
                <h4>æ¸²æŸ“ç­–ç•¥é€‰æ‹©å™¨</h4>
                <p>æ ¹æ®ä»¥ä¸‹å› ç´ ï¼Œæˆ‘ä»¬å¯ä»¥æ¨èæœ€é€‚åˆçš„æ¸²æŸ“ç­–ç•¥ï¼š</p>
                
                <div style="margin: 20px 0;">
                    <label>1. åº”ç”¨ç±»å‹:</label>
                    <select id="appType">
                        <option value="content">å†…å®¹ç½‘ç«™ï¼ˆåšå®¢ã€æ–°é—»ã€æ–‡æ¡£ï¼‰</option>
                        <option value="ecommerce">ç”µå•†ç½‘ç«™</option>
                        <option value="saas">SaaSåº”ç”¨/ç®¡ç†åå°</option>
                        <option value="social">ç¤¾äº¤åº”ç”¨</option>
                    </select>
                </div>
                
                <div style="margin: 20px 0;">
                    <label>2. å†…å®¹æ›´æ–°é¢‘ç‡:</label>
                    <select id="updateFreq">
                        <option value="rare">å¾ˆå°‘æ›´æ–°ï¼ˆæ¯æœˆæˆ–æ›´å°‘ï¼‰</option>
                        <option value="occasional">å¶å°”æ›´æ–°ï¼ˆæ¯å‘¨å‡ æ¬¡ï¼‰</option>
                        <option value="frequent">é¢‘ç¹æ›´æ–°ï¼ˆæ¯å¤©å¤šæ¬¡ï¼‰</option>
                        <option value="realtime">å®æ—¶æ›´æ–°ï¼ˆéœ€è¦ç«‹å³åæ˜ ï¼‰</option>
                    </select>
                </div>
                
                <div style="margin: 20px 0;">
                    <label>3. SEOé‡è¦æ€§:</label>
                    <select id="seoImportance">
                        <option value="critical">è‡³å…³é‡è¦ï¼ˆæµé‡ä¸»è¦æ¥æºï¼‰</option>
                        <option value="important">é‡è¦ï¼ˆéœ€è¦è‰¯å¥½è¡¨ç°ï¼‰</option>
                        <option value="moderate">ä¸­ç­‰ï¼ˆæœ‰ä¸€å®šè¦æ±‚ï¼‰</option>
                        <option value="low">è¾ƒä½ï¼ˆå†…éƒ¨å·¥å…·ç­‰ï¼‰</option>
                    </select>
                </div>
                
                <div style="margin: 20px 0;">
                    <label>4. äº¤äº’å¤æ‚åº¦:</label>
                    <select id="interaction">
                        <option value="low">è¾ƒä½ï¼ˆä¸»è¦æ˜¯é˜…è¯»ï¼‰</option>
                        <option value="moderate">ä¸­ç­‰ï¼ˆè¡¨å•ã€ç®€å•äº¤äº’ï¼‰</option>
                        <option value="high">è¾ƒé«˜ï¼ˆå¤æ‚çŠ¶æ€ç®¡ç†ã€å®æ—¶åŠŸèƒ½ï¼‰</option>
                    </select>
                </div>
                
                <button id="recommendBtn">è·å–æ¨èæ¸²æŸ“ç­–ç•¥</button>
                <div id="recommendResult" class="result"></div>
            </div>
            
            <h3>5.2 æ··åˆæ¸²æŸ“ç­–ç•¥</h3>
            <p>ç°ä»£æ¡†æ¶å…è®¸åœ¨åŒä¸€åº”ç”¨ä¸­ä½¿ç”¨ä¸åŒçš„æ¸²æŸ“ç­–ç•¥ï¼Œæ ¹æ®é¡µé¢ç‰¹æ€§é€‰æ‹©æœ€åˆé€‚çš„æ–¹å¼ï¼š</p>
            
            <pre>// Next.jsæ··åˆæ¸²æŸ“ç¤ºä¾‹

// ä¸»é¡µ - ä½¿ç”¨ISRï¼Œæ¯å°æ—¶æ›´æ–°ä¸€æ¬¡
export async function getStaticProps() {
  const data = await fetchHomePageData();
  return {
    props: { data },
    revalidate: 3600, // 1å°æ—¶
  };
}

// äº§å“åˆ—è¡¨ - ä½¿ç”¨SSGï¼Œæ„å»ºæ—¶ç”Ÿæˆ
export async function getStaticProps() {
  const products = await fetchAllProducts();
  return { props: { products } };
}

export async function getStaticPaths() {
  // é¢„ç”Ÿæˆäº§å“é¡µé¢
  const products = await fetchPopularProducts();
  const paths = products.map(p => ({ params: { id: p.id } }));
  return { paths, fallback: 'blocking' };
}

// ç”¨æˆ·ä¸ªäººèµ„æ–™ - ä½¿ç”¨SSRï¼Œæ¯æ¬¡è¯·æ±‚éƒ½è·å–æœ€æ–°æ•°æ®
export async function getServerSideProps(context) {
  const { userId } = context.params;
  const userData = await fetchUserData(userId);
  return { props: { userData } };
}

// è´­ç‰©è½¦é¡µé¢ - å®¢æˆ·ç«¯æ¸²æŸ“ï¼Œä½¿ç”¨SWRæˆ–React Queryè·å–æ•°æ®
function CartPage() {
  const { data: cart } = useSWR('/api/cart', fetcher);
  
  // ç»„ä»¶ä»£ç 
  return <CartComponent cart={cart} />;
}
</pre>
            
            <div class="warning">
                <h4>âš ï¸ æ³¨æ„</h4>
                <p>æ··åˆæ¸²æŸ“ç­–ç•¥è™½ç„¶çµæ´»ï¼Œä½†ä¼šå¢åŠ åº”ç”¨çš„å¤æ‚æ€§ã€‚ç¡®ä¿å›¢é˜Ÿç†è§£å„ç§æ¸²æŸ“æ–¹å¼çš„å·®å¼‚ï¼Œå¹¶å»ºç«‹æ˜ç¡®çš„ä½¿ç”¨æŒ‡å—ã€‚</p>
            </div>
        </div>
        
        <div class="section">
            <h2>6. æ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µ</h2>
            
            <h3>6.1 SSR/SSG æ€§èƒ½ä¼˜åŒ–æŠ€å·§</h3>
            <ul>
                <li><strong>ä»£ç åˆ†å‰²</strong>ï¼šä½¿ç”¨åŠ¨æ€å¯¼å…¥å‡å°‘åˆå§‹JavaScriptåŒ…å¤§å°</li>
                <li><strong>èµ„æºé¢„åŠ è½½</strong>ï¼šä½¿ç”¨<code>&lt;link rel="preload"&gt;</code>é¢„åŠ è½½å…³é”®èµ„æº</li>
                <li><strong>å»¶è¿ŸåŠ è½½</strong>ï¼šéå…³é”®å†…å®¹å’Œç»„ä»¶å»¶è¿ŸåŠ è½½</li>
                <li><strong>ç¼“å­˜ç­–ç•¥</strong>ï¼šåˆç†è®¾ç½®HTTPç¼“å­˜å¤´å’ŒCDNç¼“å­˜ç­–ç•¥</li>
                <li><strong>å›¾ç‰‡ä¼˜åŒ–</strong>ï¼šä½¿ç”¨ç°ä»£å›¾ç‰‡æ ¼å¼ï¼Œå“åº”å¼å›¾ç‰‡å’Œæ‡’åŠ è½½</li>
                <li><strong>å­—ä½“ä¼˜åŒ–</strong>ï¼šåˆç†è®¾ç½®å­—ä½“åŠ è½½ç­–ç•¥ï¼Œå‡å°‘å¸ƒå±€åç§»</li>
            </ul>
            
            <h3>6.2 æ°´åˆ (Hydration) ä¼˜åŒ–</h3>
            <pre>// é€‰æ‹©æ€§æ°´åˆ - åªæ°´åˆå¿…è¦çš„ç»„ä»¶
import { useState, useEffect, useRef } from 'react';

// å»¶è¿Ÿæ°´åˆç»„ä»¶
function LazyHydrate({ when = true, children }) {
  const [hydrated, setHydrated] = useState(false);
  
  useEffect(() => {
    if (when) {
      setHydrated(true);
    }
  }, [when]);
  
  if (!hydrated) {
    // è¿”å›é™æ€ç‰ˆæœ¬
    return <>{typeof children === 'function' ? children(false) : children}</>;
  }
  
  // è¿”å›æ°´åˆåçš„ç‰ˆæœ¬
  return <>{typeof children === 'function' ? children(true) : children}</>;
}

// ä½¿ç”¨ç¤ºä¾‹
function ProductCard({ product }) {
  return (
    <div className="product-card">
      <h3>{product.name}</h3>
      <p>{product.description}</p>
      
      {/* åªåœ¨ç”¨æˆ·æ»šåŠ¨åˆ°å¯è§åŒºåŸŸæ—¶æ°´åˆäº¤äº’å…ƒç´  */}
      <LazyHydrate when={useVisibilityObserver()}>
        {(hydrated) => (
          <button 
            className={hydrated ? 'interactive' : 'static'}
            onClick={() => addToCart(product.id)}
          >
            åŠ å…¥è´­ç‰©è½¦
          </button>
        )}
      </LazyHydrate>
    </div>
  );
}
</pre>
            
            <h3>6.3 éƒ¨ç½²ä¸è¿ç»´æœ€ä½³å®è·µ</h3>
            <ol>
                <li><strong>ä½¿ç”¨CDN</strong>ï¼šå°†é™æ€èµ„æºå’Œé¢„æ¸²æŸ“HTMLéƒ¨ç½²åˆ°å…¨çƒCDN</li>
                <li><strong>è¾¹ç¼˜æ¸²æŸ“</strong>ï¼šè€ƒè™‘ä½¿ç”¨è¾¹ç¼˜è®¡ç®—å¹³å°ï¼ˆå¦‚Vercel Edge Functionsã€Cloudflare Workersï¼‰è¿›è¡Œè¾¹ç¼˜æ¸²æŸ“</li>
                <li><strong>ç›‘æ§æ€§èƒ½</strong>ï¼šä½¿ç”¨Core Web Vitalsç›‘æ§å®é™…ç”¨æˆ·ä½“éªŒ</li>
                <li><strong>è‡ªåŠ¨åŒ–éƒ¨ç½²</strong>ï¼šå»ºç«‹CI/CDæµæ°´çº¿ï¼Œè‡ªåŠ¨åŒ–æ„å»ºå’Œéƒ¨ç½²æµç¨‹</li>
                <li><strong>ä¼˜é›…é™çº§</strong>ï¼šè®¾è®¡åœ¨JavaScriptå¤±è´¥æ—¶ä»ç„¶å¯ç”¨çš„UI</li>
            </ol>
            
            <div class="demo-area">
                <h4>æ€§èƒ½ä¼˜åŒ–æ•ˆæœæ¼”ç¤º</h4>
                <button id="performanceBtn">æŸ¥çœ‹ä¼˜åŒ–å‰åå¯¹æ¯”</button>
                <div id="performanceResult" class="result"></div>
            </div>
        </div>
    </div>
    
    <script>
        // æ¸²æŸ“ç­–ç•¥å¯¹æ¯”æ¼”ç¤º
        document.getElementById('compareBtn').addEventListener('click', function() {
            const result = document.getElementById('compareResult');
            result.innerHTML = 'å¼€å§‹æ¸²æŸ“ç­–ç•¥å¯¹æ¯”æµ‹è¯•...\n\n';
            
            // æ¨¡æ‹ŸåŠ è½½è¿‡ç¨‹
            setTimeout(() => {
                result.innerHTML += 'ğŸ” æµ‹è¯•åœºæ™¯: ç§»åŠ¨è®¾å¤‡ (3Gç½‘ç»œ)\n\n';
                
                // CSR
                setTimeout(() => {
                    result.innerHTML += 'ğŸ“± å®¢æˆ·ç«¯æ¸²æŸ“ (CSR):\n';
                    result.innerHTML += '  â€¢ åˆå§‹åŠ è½½: 5.2ç§’\n';
                    result.innerHTML += '  â€¢ é¦–æ¬¡å†…å®¹ç»˜åˆ¶: 3.8ç§’\n';
                    result.innerHTML += '  â€¢ å¯äº¤äº’æ—¶é—´: 6.7ç§’\n';
                    result.innerHTML += '  â€¢ SEOè¯„åˆ†: 75/100\n\n';
                    
                    // SSR
                    setTimeout(() => {
                        result.innerHTML += 'ğŸ–¥ï¸ æœåŠ¡ç«¯æ¸²æŸ“ (SSR):\n';
                        result.innerHTML += '  â€¢ åˆå§‹åŠ è½½: 2.1ç§’\n';
                        result.innerHTML += '  â€¢ é¦–æ¬¡å†…å®¹ç»˜åˆ¶: 1.2ç§’\n';
                        result.innerHTML += '  â€¢ å¯äº¤äº’æ—¶é—´: 3.9ç§’\n';
                        result.innerHTML += '  â€¢ SEOè¯„åˆ†: 95/100\n\n';
                        
                        // SSG
                        setTimeout(() => {
                            result.innerHTML += 'ğŸš€ é™æ€ç«™ç‚¹ç”Ÿæˆ (SSG):\n';
                            result.innerHTML += '  â€¢ åˆå§‹åŠ è½½: 0.8ç§’\n';
                            result.innerHTML += '  â€¢ é¦–æ¬¡å†…å®¹ç»˜åˆ¶: 0.6ç§’\n';
                            result.innerHTML += '  â€¢ å¯äº¤äº’æ—¶é—´: 2.3ç§’\n';
                            result.innerHTML += '  â€¢ SEOè¯„åˆ†: 100/100\n\n';
                            
                            // ISR
                            setTimeout(() => {
                                result.innerHTML += 'âœ¨ å¢é‡é™æ€å†ç”Ÿ (ISR):\n';
                                result.innerHTML += '  â€¢ åˆå§‹åŠ è½½: 0.9ç§’\n';
                                result.innerHTML += '  â€¢ é¦–æ¬¡å†…å®¹ç»˜åˆ¶: 0.7ç§’\n';
                                result.innerHTML += '  â€¢ å¯äº¤äº’æ—¶é—´: 2.5ç§’\n';
                                result.innerHTML += '  â€¢ SEOè¯„åˆ†: 98/100\n';
                                result.innerHTML += '  â€¢ å†…å®¹æ›´æ–°å»¶è¿Ÿ: æ ¹æ®é…ç½® (ç§’-å°æ—¶)\n\n';
                                
                                result.innerHTML += 'ğŸ“Š ç»“è®º: åœ¨ç§»åŠ¨è®¾å¤‡å’Œæ…¢é€Ÿç½‘ç»œä¸Šï¼ŒSSGå’ŒISRæä¾›æœ€ä½³æ€§èƒ½ï¼ŒSSRæ¬¡ä¹‹ï¼ŒCSRæœ€å·®ã€‚\n';
                                result.innerHTML += 'ç„¶è€Œï¼Œæ¯ç§ç­–ç•¥éƒ½æœ‰å…¶é€‚ç”¨åœºæ™¯ï¼Œåº”æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©æœ€åˆé€‚çš„æ–¹æ¡ˆã€‚';
                            }, 1000);
                        }, 1000);
                    }, 1000);
                }, 1000);
            }, 800);
        });
        
        // æ¸²æŸ“ç­–ç•¥æ¨èå·¥å…·
        document.getElementById('recommendBtn').addEventListener('click', function() {
            const appType = document.getElementById('appType').value;
            const updateFreq = document.getElementById('updateFreq').value;
            const seoImportance = document.getElementById('seoImportance').value;
            const interaction = document.getElementById('interaction').value;
            
            const result = document.getElementById('recommendResult');
            result.innerHTML = 'åˆ†ææ‚¨çš„éœ€æ±‚...\n\n';
            
            setTimeout(() => {
                // åŸºäºé€‰æ‹©çš„æ¨èé€»è¾‘
                let recommendations = [];
                
                // SSGæ¨èæ¡ä»¶
                if ((appType === 'content' || appType === 'ecommerce') && 
                    (updateFreq === 'rare' || updateFreq === 'occasional') &&
                    seoImportance !== 'low') {
                    recommendations.push('é™æ€ç«™ç‚¹ç”Ÿæˆ (SSG)');
                }
                
                // ISRæ¨èæ¡ä»¶
                if ((appType === 'content' || appType === 'ecommerce') && 
                    updateFreq === 'frequent' &&
                    seoImportance !== 'low') {
                    recommendations.push('å¢é‡é™æ€å†ç”Ÿ (ISR)');
                }
                
                // SSRæ¨èæ¡ä»¶
                if ((appType === 'ecommerce' || appType === 'social') && 
                    (updateFreq === 'frequent' || updateFreq === 'realtime') &&
                    seoImportance !== 'low') {
                    recommendations.push('æœåŠ¡ç«¯æ¸²æŸ“ (SSR)');
                }
                
                // CSRæ¨èæ¡ä»¶
                if ((appType === 'saas' || appType === 'social') && 
                    interaction === 'high' &&
                    seoImportance === 'low') {
                    recommendations.push('å®¢æˆ·ç«¯æ¸²æŸ“ (CSR)');
                }
                
                // æ··åˆç­–ç•¥æ¨è
                if (appType === 'ecommerce' || appType === 'social') {
                    recommendations.push('æ··åˆæ¸²æŸ“ç­–ç•¥');
                }
                
                // é»˜è®¤æ¨è
                if (recommendations.length === 0) {
                    recommendations = ['æ··åˆæ¸²æŸ“ç­–ç•¥', 'è€ƒè™‘æ‚¨çš„å…·ä½“éœ€æ±‚é€‰æ‹©åˆé€‚çš„é¡µé¢æ¸²æŸ“æ–¹å¼'];
                }
                
                result.innerHTML += 'åŸºäºæ‚¨çš„é€‰æ‹©ï¼Œæˆ‘ä»¬æ¨èä»¥ä¸‹æ¸²æŸ“ç­–ç•¥ï¼š\n\n';
                recommendations.forEach((rec, index) => {
                    result.innerHTML += `âœ… ${rec}\n`;
                });
                
                result.innerHTML += '\nğŸ“ å»ºè®®ï¼š\n';
                if (recommendations.includes('é™æ€ç«™ç‚¹ç”Ÿæˆ (SSG)')) {
                    result.innerHTML += '- è€ƒè™‘ä½¿ç”¨Next.jsã€Gatsbyæˆ–Hugoç­‰æ¡†æ¶\n';
                    result.innerHTML += '- è®¾ç½®è‡ªåŠ¨åŒ–éƒ¨ç½²æµç¨‹ä»¥ç®€åŒ–å†…å®¹æ›´æ–°\n';
                }
                if (recommendations.includes('å¢é‡é™æ€å†ç”Ÿ (ISR)')) {
                    result.innerHTML += '- Next.jsæä¾›æœ€æˆç†Ÿçš„ISRå®ç°\n';
                    result.innerHTML += '- æ ¹æ®å†…å®¹é‡è¦æ€§è®¾ç½®åˆç†çš„é‡æ–°éªŒè¯æ—¶é—´\n';
                }
                if (recommendations.includes('æœåŠ¡ç«¯æ¸²æŸ“ (SSR)')) {
                    result.innerHTML += '- ç¡®ä¿æœåŠ¡å™¨èµ„æºå……è¶³ä»¥å¤„ç†æ¸²æŸ“è´Ÿè½½\n';
                    result.innerHTML += '- å®ç°è‰¯å¥½çš„ç¼“å­˜ç­–ç•¥ä»¥å‡è½»æœåŠ¡å™¨å‹åŠ›\n';
                }
                if (recommendations.includes('å®¢æˆ·ç«¯æ¸²æŸ“ (CSR)')) {
                    result.innerHTML += '- ä½¿ç”¨ä»£ç åˆ†å‰²å’Œæ‡’åŠ è½½ä¼˜åŒ–æ€§èƒ½\n';
                    result.innerHTML += '- è€ƒè™‘ä½¿ç”¨æœåŠ¡ç«¯æ•°æ®é¢„åŠ è½½æå‡ç”¨æˆ·ä½“éªŒ\n';
                }
                if (recommendations.includes('æ··åˆæ¸²æŸ“ç­–ç•¥')) {
                    result.innerHTML += '- ä¸ºä¸åŒç±»å‹çš„é¡µé¢é€‰æ‹©æœ€åˆé€‚çš„æ¸²æŸ“æ–¹å¼\n';
                    result.innerHTML += '- å»ºç«‹æ¸…æ™°çš„å¼€å‘æŒ‡å—ç¡®ä¿å›¢é˜Ÿä¸€è‡´æ€§\n';
                }
            }, 1000);
        });
        
        // æ€§èƒ½ä¼˜åŒ–æ•ˆæœæ¼”ç¤º
        document.getElementById('performanceBtn').addEventListener('click', function() {
            const result = document.getElementById('performanceResult');
            result.innerHTML = 'æ€§èƒ½ä¼˜åŒ–å‰åå¯¹æ¯”åˆ†æ...\n\n';
            
            setTimeout(() => {
                result.innerHTML += 'ğŸ“ˆ æ ¸å¿ƒWebæŒ‡æ ‡å¯¹æ¯”:\n\n';
                
                // LCP
                setTimeout(() => {
                    result.innerHTML += 'ğŸ”µ æœ€å¤§å†…å®¹ç»˜åˆ¶ (LCP):\n';
                    result.innerHTML += '  â€¢ ä¼˜åŒ–å‰: 3.2ç§’ âŒ\n';
                    result.innerHTML += '  â€¢ ä¼˜åŒ–å: 0.9ç§’ âœ…\n';
                    result.innerHTML += '  â€¢ æ”¹è¿›: -72%\n';
                    result.innerHTML += '  â€¢ ä¼˜åŒ–æªæ–½: é¢„åŠ è½½å…³é”®èµ„æºã€å›¾ç‰‡ä¼˜åŒ–ã€ä»£ç åˆ†å‰²\n\n';
                    
                    // FID
                    setTimeout(() => {
                        result.innerHTML += 'ğŸ”µ é¦–æ¬¡è¾“å…¥å»¶è¿Ÿ (FID):\n';
                        result.innerHTML += '  â€¢ ä¼˜åŒ–å‰: 280ms âŒ\n';
                        result.innerHTML += '  â€¢ ä¼˜åŒ–å: 45ms âœ…\n';
                        result.innerHTML += '  â€¢ æ”¹è¿›: -84%\n';
                        result.innerHTML += '  â€¢ ä¼˜åŒ–æªæ–½: å‡å°‘JavaScriptæ‰§è¡Œæ—¶é—´ã€å»¶è¿ŸåŠ è½½éå…³é”®è„šæœ¬\n\n';
                        
                        // CLS
                        setTimeout(() => {
                            result.innerHTML += 'ğŸ”µ ç´¯ç§¯å¸ƒå±€åç§» (CLS):\n';
                            result.innerHTML += '  â€¢ ä¼˜åŒ–å‰: 0.31 âŒ\n';
                            result.innerHTML += '  â€¢ ä¼˜åŒ–å: 0.04 âœ…\n';
                            result.innerHTML += '  â€¢ æ”¹è¿›: -87%\n';
                            result.innerHTML += '  â€¢ ä¼˜åŒ–æªæ–½: ä¸ºå›¾ç‰‡è®¾ç½®å›ºå®šå°ºå¯¸ã€é¢„åŠ è½½å­—ä½“ã€é¿å…åŠ¨æ€æ’å…¥å†…å®¹\n\n';
                            
                            // ç»“è®º
                            setTimeout(() => {
                                result.innerHTML += 'ğŸ“Š æ€»ä½“æ”¹è¿›:\n';
                                result.innerHTML += '  â€¢ é¡µé¢åŠ è½½æ—¶é—´: -68%\n';
                                result.innerHTML += '  â€¢ é¦–æ¬¡å†…å®¹ç»˜åˆ¶: -75%\n';
                                result.innerHTML += '  â€¢ å¯äº¤äº’æ—¶é—´: -70%\n';
                                result.innerHTML += '  â€¢ Google PageSpeedè¯„åˆ†: ä»58åˆ†æå‡è‡³94åˆ†\n\n';
                                
                                result.innerHTML += 'ğŸ’¡ å…³é”®ä¼˜åŒ–æŠ€å·§:\n';
                                result.innerHTML += '1. å®æ–½æœ‰æ•ˆçš„ç¼“å­˜ç­–ç•¥\n';
                                result.innerHTML += '2. ä½¿ç”¨CDNåˆ†å‘é™æ€èµ„æº\n';
                                result.innerHTML += '3. ä¼˜åŒ–å›¾ç‰‡å’Œå­—ä½“åŠ è½½\n';
                                result.innerHTML += '4. åˆç†ä½¿ç”¨ä»£ç åˆ†å‰²å’Œæ‡’åŠ è½½\n';
                                result.innerHTML += '5. ä¼˜åŒ–æœåŠ¡å™¨å“åº”æ—¶é—´\n';
                                result.innerHTML += '6. æœ€å°åŒ–å…³é”®æ¸²æŸ“è·¯å¾„\n';
                            }, 1000);
                        }, 1000);
                    }, 1000);
                }, 1000);
            }, 800);
        });
        
        // æ¨¡æ‹Ÿå¯è§æ€§è§‚å¯Ÿå™¨hook
        function useVisibilityObserver() {
            // è¿™åªæ˜¯ä¸€ä¸ªæ¼”ç¤ºå‡½æ•°
            return true;
        }
    </script>
</body>
</html>