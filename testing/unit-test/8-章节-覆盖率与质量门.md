# 第8章 — 测试覆盖率与质量门

目标：
- 理解 coverage（覆盖率）概念：语句覆盖、分支覆盖、条件覆盖等。
- 掌握如何生成 coverage 报告并将其集成到 CI 中。

要点
- coverage 并不是万能：高覆盖率不等于高质量测试，但通常是评估的一个有用指标。
- 更关注关键路径和边界条件的测试，而不是把覆盖率当做唯一目标。

生成报告（示例）
- 使用 `coverage`：

```powershell
python -m pip install coverage
coverage run -m pytest testing\unit-test\code
coverage report -m
coverage html -d htmlcov
```

质量门
- 可以在 CI 中把 coverage 作为质量门（例如最低 80%），或者更细粒度地关注关键模块的覆盖率。

练习
- 为 `chapter6` 的 `BankAccount` 运行 coverage 并检查未覆盖分支。
